/*! For license information please see main.28fec794.js.LICENSE.txt */
(()=>{var e={75:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,t:()=>i});var r=console;function i(){return r}function a(e){r=e}},244:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var r=n(5540),i=n(1422),a=n(8870),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,r.A)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()})},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(e){e()})},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(i.Q))},356:(e,t,n)=>{e.exports=n(9645).last},418:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:s}=n,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1422:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var r=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==n}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},1444:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(418),i=n(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"===typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let a=0,s="",o="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<n;){const r=e[a];o?"\\"===r&&a+1<n?(a++,s+=e[a]):r===o?o="":s+=r:l?'"'===r||"'"===r?o=r:"]"===r?(l=!1,t.push(s),s=""):s+=r:"["===r?(l=!0,s&&(t.push(s),s="")):"."===r?s&&(t.push(s),s=""):s+=r,a++}return s&&t.push(s),t}},1991:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(8870),i=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.G6)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.schedule(function(){e.apply(void 0,r)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.G6)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(870),a=n(4803),s=n(9972);function o(e,t,n,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(null!==r&&void 0!==r&&r.has(t))return r.get(t)===e;null===r||void 0===r||r.set(t,e);try{for(let s=0;s<i.length;s++){const o=i[s];if(!a.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,r))return!1}return!0}finally{null===r||void 0===r||r.delete(t)}}(e,t,n,u);case"function":return Object.keys(t).length>0?o(e,r({},t),n,u):s.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],s,a,e,t,r)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!==typeof r?e(t,n,()=>{}):o(t,n,function e(t,n,i,a,s,l){const c=r(t,n,i,a,s,l);return void 0!==c?Boolean(c):o(t,n,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),a=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o=n.length;return o>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:o>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return o(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),s(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),a=n(3808),s=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case k:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,Se=null;function ke(e){if(e=xi(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function Ee(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Oe(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return _e(e,t,n)}finally{Te=!1,(null!==Ne||null!==Se)&&(Oe(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Re(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,Ue=null,ze={onError:function(e){Me=!0,Le=e}};function Be(e,t,n,r,i,a,s,o,l){Me=!1,Le=null,Re.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,St,kt,Et=!1,Ct=[],_t=null,Ot=null,Tt=null,At=new Map,Pt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Et=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==Tt&&Ft(Tt)&&(Tt=null),At.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Bt(_t,e),null!==Ot&&Bt(Ot,e),null!==Tt&&Bt(Tt,e),At.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=xt,a=qt.transition;qt.transition=null;try{xt=1,Qt(e,t,n,r)}finally{xt=i,qt.transition=a}}function Kt(e,t,n,r){var i=xt,a=qt.transition;qt.transition=null;try{xt=4,Qt(e,t,n,r)}finally{xt=i,qt.transition=a}}function Qt(e,t,n,r){if(Ht){var i=Gt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Mt(_t,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return Tt=Mt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Gt(e,t,n,r))&&Hr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Gt(e,t,n,r){if(Xt=null,null!==(e=yi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function kn(){return Sn}var En=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),_n=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Rn,Ln=u&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function Xn(e){Fr(e,0)}function Gn(e){if(Q(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];Wn(t,Qn,e,we(e)),Ae(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function ar(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},Sr={};function kr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Er=kr("animationend"),Cr=kr("animationiteration"),_r=kr("animationstart"),Or=kr("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Ar.length;Ir++){var Dr=Ar[Ir];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(_r,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,o,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=a,i=we(n),s=[];e:{var o=Tr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Er:case Cr:case _r:l=vn;break;case Or:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Pe(m,h))&&u.push(Wr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(p,m+"leave",l,n,i)).target=d,o.relatedTarget=f,p=null,yi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Qr(f))m++;for(f=0,p=h;p;p=Qr(p))f++;for(;0<m-f;)u=Qr(u),m--;for(;0<f-m;)h=Qr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&Xr(s,o,l,u,!1),null!==c&&null!==d&&Xr(s,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Hn(o))if($n)g=sr;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Vn?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Vn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(v=Kr(r,x)).length&&(x=new bn(x,e,null,n,i),s.push({event:x,listeners:v}),y?x.data=y:null!==(y=Bn(n))&&(x.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,a))&&s.unshift(Wr(n,l,o)):i||null!=(l=Pe(n,a))&&s.push(Wr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,mi="__reactContainer$"+di,pi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var ji=[],Ni=-1;function Si(e){return{current:e}}function ki(e){0>Ni||(e.current=ji[Ni],ji[Ni]=null,Ni--)}function Ei(e,t){Ni++,ji[Ni]=e.current,e.current=t}var Ci={},_i=Si(Ci),Oi=Si(!1),Ti=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){ki(Oi),ki(_i)}function Di(e,t,n){if(_i.current!==Ci)throw Error(a(168));Ei(_i,t),Ei(Oi,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ti=_i.current,Ei(_i,e),Ei(Oi,Oi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,ki(Oi),ki(_i),Ei(_i,e)):ki(Oi),Ei(Oi,n)}var Fi=null,Ui=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=xt;try{var n=Fi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Ze,Vi),i}finally{xt=t,zi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Qi=[],Xi=0,Gi=null,Yi=1,$i="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Qi[Xi++]=Yi,Qi[Xi++]=$i,Qi[Xi++]=Gi,Gi=e;var r=Yi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Gi;)Gi=Qi[--Xi],Qi[Xi]=null,$i=Qi[--Xi],Qi[Xi]=null,Yi=Qi[--Xi],Qi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var pa=b.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ya(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case j:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function p(i,a,o,l){for(var c=null,u=null,d=a,p=a=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(i,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(i,d),ia&&Ji(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(a=s(d,a,p),null===u?c=d:u.sibling=d,u=d);return ia&&Ji(i,p),c}for(d=r(i,d);p<o.length;p++)null!==(g=m(d,i,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ia&&Ji(i,p),c}function g(i,o,l,c){var u=R(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var x=f(i,p,y.value,c);if(null===x){null===p&&(p=v);break}e&&p&&null===x.alternate&&t(i,p),o=s(x,o,g),null===d?u=x:d.sibling=x,d=x,p=v}if(y.done)return n(i,p),ia&&Ji(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return ia&&Ji(i,g),u}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=m(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(i,e)}),ia&&Ji(i,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===N&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===N){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ya(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=ga(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===N?((a=Rc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=ga(r,a,s),l.return=r,r=l)}return o(r);case j:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(s,r.mode,l)).return=r,r=a}return o(r);case P:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return p(r,a,s,l);if(R(s))return g(r,a,s,l);va(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Lc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var ba=xa(!0),wa=xa(!1),ja=Si(null),Na=null,Sa=null,ka=null;function Ea(){ka=Sa=Na=null}function Ca(e){var t=ja.current;ki(ja),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oa(e,t){Na=e,ka=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===Na)throw Error(a(308));Sa=e,Na.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Aa=null;function Pa(e){null===Aa?Aa=[e]:Aa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Da(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Da(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=L({},d,h);break e;case 2:Ra=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ha={},Wa=Si(Ha),Ka=Si(Ha),Qa=Si(Ha);function Xa(e){if(e===Ha)throw Error(a(174));return e}function Ga(e,t){switch(Ei(Qa,t),Ei(Ka,e),Ei(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Wa),Ei(Wa,t)}function Ya(){ki(Wa),ki(Ka),ki(Qa)}function $a(e){Xa(Qa.current);var t=Xa(Wa.current),n=le(t,e.type);t!==n&&(Ei(Ka,e),Ei(Wa,n))}function Ja(e){Ka.current===e&&(ki(Wa),ki(Ka))}var Za=Si(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=b.ReactCurrentDispatcher,is=b.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function fs(){throw Error(a(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ps(e,t,n,r,i,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Js:Zs,e=n(r,i),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,i)}while(us)}if(rs.current=$s,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,cs=!1,t)throw Error(a(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function xs(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=os,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ss.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(xo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function js(){}function Ns(e,t){var n=ss,r=ys(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,xo=!0),r=r.queue,Rs(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ts(9,ks.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(a(349));0!==(30&as)||Ss(n,t,i)}return i}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&_s(e)}function Es(e,t,n){return n(function(){Cs(t)&&_s(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function _s(e){var t=Da(e,1);null!==t&&nc(t,e,1,-1)}function Os(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,ss,e),[t.memoizedState,e]}function Ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function As(){return ys().memoizedState}function Ps(e,t,n,r){var i=vs();ss.flags|=e,i.memoizedState=Ts(1|t,n,void 0,void 0===r?null:r)}function Is(e,t,n,r){var i=ys();r=void 0===r?null:r;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ts(t,n,a,r))}ss.flags|=e,i.memoizedState=Ts(1|t,n,a,r)}function Ds(e,t){return Ps(8390656,8,e,t)}function Rs(e,t){return Is(2048,8,e,t)}function Ms(e,t){return Is(4,2,e,t)}function Ls(e,t){return Is(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4,4,Fs.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),ss.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{xt=n,is.transition=r}}function Ws(){return ys().memoizedState}function Ks(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Gs(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),Ys(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Gs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Pa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(nc(n,e,r,i=ec()),Ys(n,t,r))}}function Xs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Gs(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $s={readContext:Ta,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Js={readContext:Ta,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Os,useDebugValue:zs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Os(!1),t=e[0];return e=Hs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,i=vs();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ol)throw Error(a(349));0!==(30&as)||Ss(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ds(Es.bind(null,r,s,e),[e]),r.flags|=2048,Ts(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Ol.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Ta,useCallback:Bs,useContext:Ta,useEffect:Rs,useImperativeHandle:Us,useInsertionEffect:Ms,useLayoutEffect:Ls,useMemo:Vs,useReducer:bs,useRef:As,useState:function(){return bs(xs)},useDebugValue:zs,useDeferredValue:function(e){return qs(ys(),os.memoizedState,e)},useTransition:function(){return[bs(xs)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:Ns,useId:Ws,unstable_isNewReconciler:!1},eo={readContext:Ta,useCallback:Bs,useContext:Ta,useEffect:Rs,useImperativeHandle:Us,useInsertionEffect:Ms,useLayoutEffect:Ls,useMemo:Vs,useReducer:ws,useRef:As,useState:function(){return ws(xs)},useDebugValue:zs,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:qs(t,os.memoizedState,e)},useTransition:function(){return[ws(xs)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:Ns,useId:Ws,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ua(e,i,r))&&(nc(t,e,r,n),za(t,e,r))}};function io(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ao(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Pi(t)?Ti:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Pi(t)?Ti:_i.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),uo(0,t)},n}function mo(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?wa(t,null,n,r):ba(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var a=t.ref;return Oa(t,i),r=ps(e,t,n,r,a,i),n=gs(),null===e||xo?(ia&&n&&ea(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function jo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Ic(a,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(xo=!0)}}return Eo(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Il,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Il,Pl),Pl|=r;return bo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,i){var a=Pi(n)?Ti:_i.current;return a=Ai(t,a),Oa(t,i),n=ps(e,t,n,r,a,i),r=gs(),null===e||xo?(ia&&r&&ea(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Co(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Oa(t,i),null===t.stateNode)qo(e,t),ao(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ai(t,c=Pi(n)?Ti:_i.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Ra=!1;var h=t.memoizedState;s.state=h,Va(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Oi.current||Ra?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ra||io(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,La(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Ai(t,l=Pi(n)?Ti:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Ra=!1,h=t.memoizedState,s.state=h,Va(t,r,s,i);var m=t.memoizedState;o!==d||h!==m||Oi.current||Ra?("function"===typeof f&&(no(t,n,f,r),m=t.memoizedState),(c=Ra||io(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _o(e,t,n,r,a,i)}function _o(e,t,n,r,i,a){ko(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Li(t,n,!1),Ho(e,t,a);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ga(e,t.containerInfo)}function To(e,t,n,r,i){return fa(),ma(i),t.flags|=256,bo(e,t,n,r),t.child}var Ao,Po,Io,Do,Ro={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,s=Za.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(Za,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Rc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Ro,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Rc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Ro,s);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Ol)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Da(e,i),nc(r,e,i,-1))}return pc(),Uo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Qi[Xi++]=Yi,Qi[Xi++]=$i,Qi[Xi++]=Gi,Yi=e.id,$i=e.overflow,Gi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Ic(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i}return e=(o=e.child).sibling,i=Ic(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ma(r),ba(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Ko(t),null;case 3:return r=t.stateNode,Ya(),ki(Oi),ki(_i),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Po(e,t),Ko(t),null;case 5:Ja(t);var i=Xa(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ko(t),null}if(e=Xa(Wa.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=G(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&x(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Qa.current),Xa(Wa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(ki(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),s=!1}else null!==aa&&(sc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Dl&&(Dl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Ya(),Po(e,t),null===e&&Vr(t.stateNode.containerInfo),Ko(t),null;case 10:return Ca(t.type._context),Ko(t),null;case 19:if(ki(Za),null===(s=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Wo(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Wo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Za,1&Za.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Vl&&(t.flags|=128,r=!0,Wo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Ko(t),null}else 2*$e()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=Za.current,Ei(Za,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xo(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),ki(Oi),ki(_i),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(ki(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Za),null;case 4:return Ya(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Wa.current);var a,s=null;switch(n){case"input":i=G(e,i),r=G(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Yo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(s,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:pl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(pl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),xe(l,o);var u=xe(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(i,!!s.multiple,m,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(pl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(pl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:pl(t,e),vl(e);break;case 13:pl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,pl(t,e),Yo=u):pl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(m=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==m?(m.return=f,Jo=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Go;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Go;var c=Yo;if(Go=s,(Yo=l)&&!c)for(Jo=i;null!==Jo;)l=(s=Jo).child,22===s.tag&&null!==s.memoizedState?jl(i):null!==l?(l.return=s,Jo=l):jl(i);for(;null!==a;)Jo=a,xl(a,t,n),a=a.sibling;Jo=i,Go=o,Yo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Jo=a):bl(e)}}function bl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Yo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function wl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function jl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Nl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,_l=0,Ol=null,Tl=null,Al=0,Pl=0,Il=Si(0),Dl=0,Rl=null,Ml=0,Ll=0,Fl=0,Ul=null,zl=null,Bl=0,Vl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Ql=!1,Xl=null,Gl=0,Yl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&_l)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Al?Al&-Al:null!==pa.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(a(185));vt(e,n,r),0!==(2&_l)&&e===Ol||(e===Ol&&(0===(2&_l)&&(Ll|=n),4===Dl&&oc(e,Al)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Vl=$e()+500,Ui&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Ol?Al:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),si(function(){0===(6&_l)&&Vi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&_l))throw Error(a(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_l;_l|=2;var s=mc();for(Ol===e&&Al===t||(ql=null,Vl=$e()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ea(),kl.current=s,_l=i,null!==Tl?t=0:(Ol=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Rl,hc(e,0),oc(e,r),rc(e,$e()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=mt(e))&&(r=s,t=ac(e,s))),1===t))throw n=Rl,hc(e,0),oc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,zl,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,zl,ql),t);break}wc(e,zl,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,zl,ql),r);break}wc(e,zl,ql);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(a(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Rl,hc(e,0),oc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,ql),rc(e,$e()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Vl=$e()+500,Ui&&Vi())}}function uc(e){null!==Xl&&0===Xl.tag&&0===(6&_l)&&jc();var t=_l;_l|=1;var n=Cl.transition,r=xt;try{if(Cl.transition=null,xt=1,e)return e()}finally{xt=r,Cl.transition=n,0===(6&(_l=t))&&Vi()}}function dc(){Pl=Il.current,ki(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:Ya(),ki(Oi),ki(_i),ns();break;case 5:Ja(r);break;case 4:Ya();break;case 13:case 19:ki(Za);break;case 10:Ca(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ol=e,Tl=e=Ic(e.current,null),Al=Pl=t,Dl=0,Rl=null,Fl=Ll=Ml=0,zl=Ul=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Aa=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Ea(),rs.current=$s,cs){for(var r=ss.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(as=0,ls=os=ss=null,us=!1,ds=0,El.current=null,null===n||null===n.return){Dl=1,Rl=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&po(s,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(s,u,t),pc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ma(lo(c,l));break e}}s=c=lo(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,fo(0,c,t));break e;case 1:l=c;var y=s.type,x=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,mo(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=$s,null===e?$s:e}function pc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0===(268435455&Ml)&&0===(268435455&Ll)||oc(Ol,Al)}function gc(e,t){var n=_l;_l|=2;var r=mc();for(Ol===e&&Al===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Ea(),_l=n,kl.current=r,null!==Tl)throw Error(a(261));return Ol=null,Al=0,Dl}function vc(){for(;null!==Tl;)xc(Tl)}function yc(){for(;null!==Tl&&!Ge();)xc(Tl)}function xc(e){var t=Nl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Pl)))return void(Tl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=xt,i=Cl.transition;try{Cl.transition=null,xt=1,function(e,t,n,r){do{jc()}while(null!==Xl);if(0!==(6&_l))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Ol&&(Tl=Ol=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Oc(tt,function(){return jc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var o=xt;xt=1;var l=_l;_l|=4,El.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}p=tl,tl=!1}(e,n),gl(n,e),mr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),_l=l,xt=o,Cl.transition=s}else e.current=n;if(Ql&&(Ql=!1,Xl=e,Gl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Gl)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Vi()}(e,t,n,r)}finally{Cl.transition=i,xt=r}return null}function jc(){if(null!==Xl){var e=bt(Gl),t=Cl.transition,n=xt;try{if(Cl.transition=null,xt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Gl=0,0!==(6&_l))throw Error(a(331));var i=_l;for(_l|=4,Jo=e.current;null!==Jo;){var s=Jo,o=s.child;if(0!==(16&Jo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,m=d.return;if(al(d),d===u){Jo=null;break}if(null!==f){f.return=m,Jo=f;break}Jo=m}}}var p=s.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(s=Jo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Jo=y;break e}Jo=s.return}}var x=e.current;for(Jo=x;null!==Jo;){var b=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Jo=b;else e:for(o=x;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Sc(l,l.return,j)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(_l=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(j){}r=!0}return r}finally{xt=n,Cl.transition=t}}return!1}function Nc(e,t,n){e=Ua(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ua(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>$e()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Da(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Oc(e,t){return Qe(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Rc(n.children,i,s,t);case S:o=8,i|=8;break;case k:return(e=Ac(12,n,t,2|i)).elementType=k,e.lanes=s,e;case O:return(e=Ac(13,n,t,i)).elementType=O,e.lanes=s,e;case T:return(e=Ac(19,n,t,i)).elementType=T,e.lanes=s,e;case I:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case C:o=9;break e;case _:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,s,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Bc(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ri(e,n,t)}return t}function Vc(e,t,n,r,i,a,s,o,l){return(e=zc(n,r,!0,e,0,a,0,o,l)).context=Bc(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),s=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(i,t,s))&&(nc(e,i,s,a),za(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Oo(t),fa();break;case 5:$a(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ja,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ei(Za,1&Za.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ei(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ho(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Ai(t,_i.current);Oa(t,n),i=ps(null,t,r,e,i,n);var s=gs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=_o(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),i){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Oo(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,La(e,t),Va(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=To(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return $a(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),ko(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Lo(e,t,n);case 4:return Ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ei(ja,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Oi.current){t=Ho(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fa(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),_a(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_a(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oa(t,n),r=r(i=Ta(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),jo(e,t,r,i=to(r.type,i),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Oa(t,n),ao(t,r,i),oo(t,r,i,n),_o(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return So(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Hc(s);o.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(s);a.call(e)}}var s=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mi]=s.current,Vr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(s)}Gc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Gc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[mi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&_l)&&(Vl=$e()+500,Vi()))}break;case 13:uc(function(){var t=Da(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Da(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return xt},kt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},je=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));Q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Oe=uc;var eu={usingClientEntryPoint:!1,Events:[xi,bi,wi,Ee,Ce,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,s,o),e[mi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2907:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>r.QueryClient,QueryClientProvider:()=>i.QueryClientProvider,useMutation:()=>i.useMutation,useQuery:()=>i.useQuery,useQueryClient:()=>i.useQueryClient});var r=n(5819);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}}),n.o(r,"useMutation")&&n.d(t,{useMutation:function(){return r.useMutation}}),n.o(r,"useQuery")&&n.d(t,{useQuery:function(){return r.useQuery}}),n.o(r,"useQueryClient")&&n.d(t,{useQueryClient:function(){return r.useQueryClient}});var i=n(6490)},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),a=n(870),s=n(9972);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&s.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,p(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:N.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+_(l,0):a,w(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),O(s,t,i,"",function(e){return e})):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+_(o=e[c],c);l+=O(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=O(o=o.value,t,i,u=a+_(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},4298:()=>{},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const s=null!=i&&i.includes("leading"),o=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const o=null==c;u(),s&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),a=n(2104),s=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),s.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,a=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,m=60121,p=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),i=x("react.fragment"),a=x("react.strict_mode"),s=x("react.profiler"),o=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),f=x("react.lazy"),m=x("react.block"),p=x("react.server.block"),g=x("react.fundamental"),v=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return b(e)===i}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),a=n(6321),s=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?s.toPath(t):[t],0===n.length)return!1;let o=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||a.isArguments(o))&&i.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),a=n(1444);t.orderBy=function(e,t,n,s){if(null==e)return[];n=s?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,s,o)=>{const l=null===t||void 0===t?void 0:t(n,a,s,o);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5540:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>i})},5819:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>r.E});var r=n(7646),i=n(4298);n.o(i,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return i.QueryClientProvider}}),n.o(i,"useMutation")&&n.d(t,{useMutation:function(){return i.useMutation}}),n.o(i,"useQuery")&&n.d(t,{useQuery:function(){return i.useQuery}}),n.o(i,"useQueryClient")&&n.d(t,{useQueryClient:function(){return i.useQueryClient}})},5964:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,s:()=>l});var r=n(8168),i=n(75),a=n(1991),s=n(8990),o=n(8870),l=function(){function e(e){this.options=(0,r.A)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||c(),this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(o.lQ).catch(o.lQ)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),r.then(function(){return t.executeMutation()}).then(function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,i.t)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new s.eJ({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.A)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.A)({},e,{isPaused:!0});case"continue":return(0,r.A)({},e,{isPaused:!1});case"loading":return(0,r.A)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.A)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.A)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.A)({},e,t.state);default:return e}}(this.state,e),a.j.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();function c(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6317:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var r=n(5540),i=n(1422),a=n(8870),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!a.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,r.A)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()})},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(e){e()})},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(i.Q))},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),a=n(7599),s=n(4803),o=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(s.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<s.length;r++){const o=s[r],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6490:(e,t,n)=>{"use strict";n.d(t,{QueryClientProvider:()=>h,useMutation:()=>b,useQuery:()=>A,useQueryClient:()=>d});var r=n(1991),i=n(7950).unstable_batchedUpdates;r.j.setBatchNotifyFunction(i);var a=n(75),s=console;(0,a.B)(s);var o=n(5043),l=o.createContext(void 0),c=o.createContext(!1);function u(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=l),window.ReactQueryClientContext):l}var d=function(){var e=o.useContext(u(o.useContext(c)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},h=function(e){var t=e.client,n=e.contextSharing,r=void 0!==n&&n,i=e.children;o.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var a=u(r);return o.createElement(c.Provider,{value:r},o.createElement(a.Provider,{value:t},i))},f=n(8168),m=n(8870),p=n(5540),g=n(5964),v=n(1422),y=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.setOptions(n),r.bindMethods(),r.updateResult(),r}(0,p.A)(t,e);var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},n.onUnsubscribe=function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))},n.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,f.A)({},this.options,{variables:"undefined"!==typeof e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:(0,g.$)(),t=(0,f.A)({},e,{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t},n.notify=function(e){var t=this;r.j.batch(function(){t.mutateOptions&&(e.onSuccess?(null==t.mutateOptions.onSuccess||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(null==t.mutateOptions.onError||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)})})},t}(v.Q);function x(e,t,n){return"function"===typeof t?t.apply(void 0,n):"boolean"===typeof t?t:!!e}function b(e,t,n){var i=o.useRef(!1),a=o.useState(0)[1],s=(0,m.GR)(e,t,n),l=d(),c=o.useRef();c.current?c.current.setOptions(s):c.current=new y(l,s);var u=c.current.getCurrentResult();o.useEffect(function(){i.current=!0;var e=c.current.subscribe(r.j.batchCalls(function(){i.current&&a(function(e){return e+1})}));return function(){i.current=!1,e()}},[]);var h=o.useCallback(function(e,t){c.current.mutate(e,t).catch(m.lQ)},[]);if(u.error&&x(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return(0,f.A)({},u,{mutate:h,mutateAsync:u.mutate})}var w=n(244),j=n(8990),N=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(n),r}(0,p.A)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),S(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return k(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return k(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&E(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var a=this.computeRefetchInterval();!i||this.currentQuery===r&&this.options.enabled===n.enabled&&a===this.currentRefetchInterval||this.updateRefetchInterval(a)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,r={},i=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach(function(t){Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:function(){return i(t),e[t]}})}),(t.useErrorBoundary||t.suspense)&&i("error"),r},n.getNextResult=function(e){var t=this;return new Promise(function(n,r){var i=t.subscribe(function(t){t.isFetching||(i(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,f.A)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then(function(){return t.createResult(r,n)})},n.fetch=function(e){var t=this;return this.executeFetch(e).then(function(){return t.updateResult(),t.currentResult})},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(m.lQ)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!m.S$&&!this.currentResult.isStale&&(0,m.gn)(this.options.staleTime)){var t=(0,m.j3)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},t)}},n.computeRefetchInterval=function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!m.S$&&!1!==this.options.enabled&&(0,m.gn)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||w.m.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(e,t){var n,r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=e!==r,u=c?e.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,h=e.state,f=h.dataUpdatedAt,p=h.error,g=h.errorUpdatedAt,v=h.isFetching,y=h.status,x=!1,b=!1;if(t.optimisticResults){var w=this.hasListeners(),j=!w&&S(e,t),N=w&&E(e,r,t,i);(j||N)&&(v=!0,f||(y="loading"))}if(t.keepPreviousData&&!h.dataUpdateCount&&(null==d?void 0:d.isSuccess)&&"error"!==y)n=d.data,f=d.dataUpdatedAt,y=d.status,x=!0;else if(t.select&&"undefined"!==typeof h.data)if(s&&h.data===(null==o?void 0:o.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(h.data),!1!==t.structuralSharing&&(n=(0,m.BH)(null==s?void 0:s.data,n)),this.selectResult=n,this.selectError=null}catch(_){(0,a.t)().error(_),this.selectError=_}else n=h.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&("loading"===y||"idle"===y)){var k;if((null==s?void 0:s.isPlaceholderData)&&t.placeholderData===(null==l?void 0:l.placeholderData))k=s.data;else if(k="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof k)try{k=t.select(k),!1!==t.structuralSharing&&(k=(0,m.BH)(null==s?void 0:s.data,k)),this.selectError=null}catch(_){(0,a.t)().error(_),this.selectError=_}"undefined"!==typeof k&&(y="success",n=k,b=!0)}return this.selectError&&(p=this.selectError,n=this.selectResult,g=Date.now(),y="error"),{status:y,isLoading:"loading"===y,isSuccess:"success"===y,isError:"error"===y,isIdle:"idle"===y,data:n,dataUpdatedAt:f,error:p,errorUpdatedAt:g,failureCount:h.fetchFailureCount,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&"loading"!==y,isLoadingError:"error"===y&&0===h.dataUpdatedAt,isPlaceholderData:b,isPreviousData:x,isRefetchError:"error"===y&&0!==h.dataUpdatedAt,isStale:C(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,r=n.notifyOnChangeProps,i=n.notifyOnChangePropsExclusions;if(!r&&!i)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var a="tracked"===r?this.trackedProps:r;return Object.keys(e).some(function(n){var r=n,s=e[r]!==t[r],o=null==a?void 0:a.some(function(e){return e===n}),l=null==i?void 0:i.some(function(e){return e===n});return s&&!l&&(!a||o)})},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,m.f8)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,f.A)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,j.wm)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;r.j.batch(function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)}),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},t}(v.Q);function S(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&k(e,t,t.refetchOnMount)}function k(e,t,n){if(!1!==t.enabled){var r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&C(e,t)}return!1}function E(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&C(e,n)}function C(e,t){return e.isStaleByTime(t.staleTime)}function _(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var O=o.createContext(_()),T=function(){return o.useContext(O)};function A(e,t,n){return function(e,t){var n=o.useRef(!1),i=o.useState(0)[1],a=d(),s=T(),l=a.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=r.j.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=r.j.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=r.j.batchCalls(l.onSettled)),l.suspense&&("number"!==typeof l.staleTime&&(l.staleTime=1e3),0===l.cacheTime&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(s.isReset()||(l.retryOnMount=!1));var c=o.useState(function(){return new t(a,l)})[0],u=c.getOptimisticResult(l);if(o.useEffect(function(){n.current=!0,s.clearReset();var e=c.subscribe(r.j.batchCalls(function(){n.current&&i(function(e){return e+1})}));return c.updateResult(),function(){n.current=!1,e()}},[s,c]),o.useEffect(function(){c.setOptions(l,{listeners:!1})},[l,c]),l.suspense&&u.isLoading)throw c.fetchOptimistic(l).then(function(e){var t=e.data;null==l.onSuccess||l.onSuccess(t),null==l.onSettled||l.onSettled(t,null)}).catch(function(e){s.clearReset(),null==l.onError||l.onError(e),null==l.onSettled||l.onSettled(void 0,e)});if(u.isError&&!s.isReset()&&!u.isFetching&&x(l.suspense,l.useErrorBoundary,[u.error,c.getCurrentQuery()]))throw u.error;return"tracked"===l.notifyOnChangeProps&&(u=c.trackResult(u,l)),u}((0,m.vh)(e,t,n),N)}},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),s=new Array(a);for(let r=0;r<a;r++)s[r]=e,e+=n;return s}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,I(j);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function j(e,n){p=!1,g&&(g=!1,y(E),E=-1),m=!0;var a=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,k=null,E=-1,C=5,_=-1;function O(){return!(t.unstable_now()-_<C)}function T(){if(null!==k){var e=t.unstable_now();_=e;var n=!0;try{n=k(!0,e)}finally{n?N():(S=!1,k=null)}}else S=!1}if("function"===typeof x)N=function(){x(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=T,N=function(){P.postMessage(null)}}else N=function(){v(T,0)};function I(e){k=e,S||(S=!0,N())}function D(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,D(w,a-s))):(e.sortIndex=o,n(c,e),p||m||(p=!0,I(j))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<r?i(s,t+1):n.push(s)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7646:(e,t,n)=>{"use strict";n.d(t,{E:()=>y});var r=n(8168),i=n(8870),a=n(5540),s=n(1991),o=n(75),l=n(8990),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,r.A)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,i.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,r,a=this.state.data,s=(0,i.Zw)(e,a);return(null==(n=(r=this.options).isDataEqual)?void 0:n.call(r,a,s))?s=a:!1!==this.options.structuralSharing&&(s=(0,i.BH)(a,s)),this.dispatch({data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),s},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(i.lQ).catch(i.lQ):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.j3)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,r,a,s=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var u=this.observers.find(function(e){return e.options.queryFn});u&&this.setOptions(u.options)}var d=(0,i.HN)(this.queryKey),h=(0,i.jY)(),f={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(h)return s.abortSignalConsumed=!0,h.signal}});var m,p,g={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(f)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(m=this.options.behavior)||m.onFetch(g));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=g.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(p=g.fetchOptions)?void 0:p.meta});return this.retryer=new l.eJ({fn:g.fetchFn,abort:null==h||null==(a=h.abort)?void 0:a.bind(h),onSuccess:function(e){s.setData(e),null==s.cache.config.onSuccess||s.cache.config.onSuccess(e,s),0===s.cacheTime&&s.optionalRemove()},onError:function(e){(0,l.wm)(e)&&e.silent||s.dispatch({type:"error",error:e}),(0,l.wm)(e)||(null==s.cache.config.onError||s.cache.config.onError(e,s),(0,o.t)().error(e)),0===s.cacheTime&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),s.j.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var n,i;switch(t.type){case"failed":return(0,r.A)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,r.A)({},e,{isPaused:!0});case"continue":return(0,r.A)({},e,{isPaused:!1});case"fetch":return(0,r.A)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,r.A)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(i=t.dataUpdatedAt)?i:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=t.error;return(0,l.wm)(a)&&a.revert&&this.revertState?(0,r.A)({},this.revertState):(0,r.A)({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,r.A)({},e,{isInvalidated:!0});case"setState":return(0,r.A)({},e,t.state);default:return e}},e}(),u=n(1422),d=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,a.A)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,a=t.queryKey,s=null!=(r=t.queryHash)?r:(0,i.F$)(a,t),o=this.get(s);return o||(o=new c({cache:this,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(o)),o},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;s.j.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,i.b_)(e,t)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find(function(e){return(0,i.MK)(n,e)})},n.findAll=function(e,t){var n=(0,i.b_)(e,t)[0];return Object.keys(n).length>0?this.queries.filter(function(e){return(0,i.MK)(n,e)}):this.queries},n.notify=function(e){var t=this;s.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){var e=this;s.j.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},n.onOnline=function(){var e=this;s.j.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(u.Q),h=n(5964),f=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,a.A)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new h.s({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},n.clear=function(){var e=this;s.j.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},n.getAll=function(){return this.mutations},n.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,i.nJ)(e,t)})},n.findAll=function(e){return this.mutations.filter(function(t){return(0,i.nJ)(e,t)})},n.notify=function(e){var t=this;s.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return s.j.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(i.lQ)})},Promise.resolve())})},t}(u.Q),m=n(244),p=n(6317);function g(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function v(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var y=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new d,this.mutationCache=e.mutationCache||new f,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=m.m.subscribe(function(){m.m.isFocused()&&p.t.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=p.t.subscribe(function(){m.m.isFocused()&&p.t.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,i.b_)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.A)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,n){var r=(0,i.vh)(e),a=this.defaultQueryOptions(r);return this.queryCache.build(this,a).setData(t,n)},t.setQueriesData=function(e,t,n){var r=this;return s.j.batch(function(){return r.getQueryCache().findAll(e).map(function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]})})},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,i.b_)(e,t)[0],r=this.queryCache;s.j.batch(function(){r.findAll(n).forEach(function(e){r.remove(e)})})},t.resetQueries=function(e,t,n){var a=this,o=(0,i.b_)(e,t,n),l=o[0],c=o[1],u=this.queryCache,d=(0,r.A)({},l,{active:!0});return s.j.batch(function(){return u.findAll(l).forEach(function(e){e.reset()}),a.refetchQueries(d,c)})},t.cancelQueries=function(e,t,n){var r=this,a=(0,i.b_)(e,t,n),o=a[0],l=a[1],c=void 0===l?{}:l;"undefined"===typeof c.revert&&(c.revert=!0);var u=s.j.batch(function(){return r.queryCache.findAll(o).map(function(e){return e.cancel(c)})});return Promise.all(u).then(i.lQ).catch(i.lQ)},t.invalidateQueries=function(e,t,n){var a,o,l,c=this,u=(0,i.b_)(e,t,n),d=u[0],h=u[1],f=(0,r.A)({},d,{active:null==(a=null!=(o=d.refetchActive)?o:d.active)||a,inactive:null!=(l=d.refetchInactive)&&l});return s.j.batch(function(){return c.queryCache.findAll(d).forEach(function(e){e.invalidate()}),c.refetchQueries(f,h)})},t.refetchQueries=function(e,t,n){var a=this,o=(0,i.b_)(e,t,n),l=o[0],c=o[1],u=s.j.batch(function(){return a.queryCache.findAll(l).map(function(e){return e.fetch(void 0,(0,r.A)({},c,{meta:{refetchPage:null==l?void 0:l.refetchPage}}))})}),d=Promise.all(u).then(i.lQ);return(null==c?void 0:c.throwOnError)||(d=d.catch(i.lQ)),d},t.fetchQuery=function(e,t,n){var r=(0,i.vh)(e,t,n),a=this.defaultQueryOptions(r);"undefined"===typeof a.retry&&(a.retry=!1);var s=this.queryCache.build(this,a);return s.isStaleByTime(a.staleTime)?s.fetch(a):Promise.resolve(s.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(i.lQ).catch(i.lQ)},t.fetchInfiniteQuery=function(e,t,n){var r=(0,i.vh)(e,t,n);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,r,a,s,o,c,u=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,d=null==(r=e.fetchOptions)||null==(a=r.meta)?void 0:a.fetchMore,h=null==d?void 0:d.pageParam,f="forward"===(null==d?void 0:d.direction),m="backward"===(null==d?void 0:d.direction),p=(null==(s=e.state.data)?void 0:s.pages)||[],y=(null==(o=e.state.data)?void 0:o.pageParams)||[],x=(0,i.jY)(),b=null==x?void 0:x.signal,w=y,j=!1,N=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,n,r){return w=r?[t].concat(w):[].concat(w,[t]),r?[n].concat(e):[].concat(e,[n])},k=function(t,n,r,i){if(j)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,signal:b,pageParam:r,meta:e.meta},s=N(a),o=Promise.resolve(s).then(function(e){return S(t,r,e,i)});return(0,l.dd)(s)&&(o.cancel=s.cancel),o};if(p.length)if(f){var E="undefined"!==typeof h,C=E?h:g(e.options,p);c=k(p,E,C)}else if(m){var _="undefined"!==typeof h,O=_?h:v(e.options,p);c=k(p,_,O,!0)}else!function(){w=[];var t="undefined"===typeof e.options.getNextPageParam,n=!u||!p[0]||u(p[0],0,p);c=n?k([],t,y[0]):Promise.resolve(S([],y[0],p[0]));for(var r=function(n){c=c.then(function(r){if(!u||!p[n]||u(p[n],n,p)){var i=t?y[n]:g(e.options,r);return k(r,t,i)}return Promise.resolve(S(r,y[n],p[n]))})},i=1;i<p.length;i++)r(i)}();else c=k([]);var T=c.then(function(e){return{pages:e,pageParams:w}});return T.cancel=function(){j=!0,null==x||x.abort(),(0,l.dd)(c)&&c.cancel()},T}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(i.lQ).catch(i.lQ)},t.cancelMutations=function(){var e=this,t=s.j.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(i.lQ).catch(i.lQ)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find(function(t){return(0,i.Od)(e)===(0,i.Od)(t.queryKey)});n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,i.Cp)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find(function(t){return(0,i.Od)(e)===(0,i.Od)(t.mutationKey)});n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,i.Cp)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,i.F$)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,p=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,i,a,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?_(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),a>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/m|0,c[a]%=m;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,o?_(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=k(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=k(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return a+s}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return _(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return N(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(o=!1,t=w(E(n,s),E(e,s),s),o=!0,_(t,a))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):_(new r(n),i)},v.naturalExponential=v.exp=function(){return j(this)},v.naturalLogarithm=v.ln=function(){return E(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):O(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,a,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=s=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,s+2)).times(.5),b(a.d).slice(0,s)===(t=b(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(_(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;s+=4}return o=!0,_(r,n)},v.times=v.mul=function(e){var t,n,r,i,a,s,l,c,u,d=this,h=d.constructor,f=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=p.length)&&(a=f,f=p,p=a,s=c,c=u,u=s),a=[],r=s=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+p[r]*f[i-r-1]+t,a[i--]=l%m|0,t=l/m|0;a[i]=(a[i]+t)%m|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,o?_(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,a),void 0===t?t=r.rounding:x(t,0,8),_(n,e+N(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=T(r,!0):(x(e,0,a),void 0===t?t=i.rounding:x(t,0,8),n=T(r=_(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?T(i):(x(e,0,a),void 0===t?t=s.rounding:x(t,0,8),n=T((r=_(new s(i),e+N(i)+1,t)).abs(),!1,e+N(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return _(new t(e),N(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,a,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return _(u,r);if(c=(t=e.e)>=(n=e.d.length-1),s=u.s,c){if((n=f<0?-f:f)<=p){for(a=new h(i),t=Math.ceil(r/7+4),o=!1;n%2&&A((a=a.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return o=!0,e.s<0?new h(i).div(a):_(a,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,a=e.times(E(u,r+12)),o=!0,(a=j(a)).s=s,a},v.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?r=T(i,(n=N(i))<=s.toExpNeg||n>=s.toExpPos):(x(e,1,a),void 0===t?t=s.rounding:x(t,0,8),r=T(i=_(new s(i),e,t),e<=(n=N(i))||n<=s.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,a),void 0===t?t=n.rounding:x(t,0,8)),_(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=N(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,c,u,d,h,f,p,g,v,y,x,b,w,j,S,k,E,C,O=r.constructor,T=r.s==i.s?1:-1,A=r.d,P=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,E=P.length,S=A.length,g=(p=new O(T)).d=[],u=0;P[u]==(A[u]||0);)++u;if(P[u]>(A[u]||0)&&--c,(b=null==a?a=O.precision:s?a+(N(r)-N(i))+1:a)<0)return new O(0);if(b=b/7+2|0,u=0,1==E)for(d=0,P=P[0],b++;(u<S||d)&&b--;u++)w=d*m+(A[u]||0),g[u]=w/P|0,d=w%P|0;else{for((d=m/(P[0]+1)|0)>1&&(P=e(P,d),A=e(A,d),E=P.length,S=A.length),j=E,y=(v=A.slice(0,E)).length;y<E;)v[y++]=0;(C=P.slice()).unshift(0),k=P[0],P[1]>=m/2&&++k;do{d=0,(o=t(P,v,E,y))<0?(x=v[0],E!=y&&(x=x*m+(v[1]||0)),(d=x/k|0)>1?(d>=m&&(d=m-1),1==(o=t(h=e(P,d),v,f=h.length,y=v.length))&&(d--,n(h,E<f?C:P,f))):(0==d&&(o=d=1),h=P.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==o&&(o=t(P,v,E,y=v.length))<1&&(d++,n(v,E<y?C:P,y)),y=v.length):0===o&&(d++,v=[0]),g[u++]=d,o&&v[0]?v[y++]=A[j]||0:(v=[A[j]],y=1)}while((j++<S||void 0!==v[0])&&b--)}return g[0]||g.shift(),p.e=c,_(p,s?a+N(p)+1:a)}}();function j(e,t){var n,r,a,s,l,c=0,d=0,f=e.constructor,m=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(i);for(null==t?(o=!1,l=m):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=_(r.times(e),l),n=n.times(++c),b((s=a.plus(w(r,n,l))).d).slice(0,l)===b(a.d).slice(0,l)){for(;d--;)a=_(a.times(a),l);return f.precision=m,null==t?(o=!0,_(a,m)):a}a=s}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,a,s,c,u,d,h,f,m=1,p=e,g=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(i))return new v(0);if(null==t?(o=!1,h=y):h=t,p.eq(10))return null==t&&(o=!0),S(v,h);if(h+=10,v.precision=h,r=(n=b(g)).charAt(0),s=N(p),!(Math.abs(s)<15e14))return d=S(v,h+2,y).times(s+""),p=E(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(o=!0,_(p,y)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((p=p.times(e)).d)).charAt(0),m++;for(s=N(p),r>1?(p=new v("0."+n),s++):p=new v(r+"."+n.slice(1)),u=c=p=w(p.minus(i),p.plus(i),h),f=_(p.times(p),h),a=3;;){if(c=_(c.times(f),h),b((d=u.plus(w(c,new v(a),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(S(v,h+2,y).times(s+""))),u=w(u,new v(m),h),v.precision=y,null==t?(o=!0,_(u,y)):u;u=d,a+=2}}function C(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,n){var r,i,a,s,l,c,f,p,v=e.d;for(s=1,a=v[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,f=v[p=0];else{if((p=Math.ceil((r+1)/7))>=(a=v.length))return e;for(f=a=v[p],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(l=f/(a=h(10,s-i-1))%10|0,c=t<0||void 0!==v[p+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,s-i):0:v[p-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(a=N(e),v.length=1,t=t-a-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=p,a=1,p--):(v.length=p+1,a=h(10,7-r),v[p]=i>0?(f/h(10,s-i)%h(10,i)|0)*a:0),c)for(;;){if(0==p){(v[0]+=a)==m&&(v[0]=1,++e.e);break}if(v[p]+=a,v[p]!=m)break;v[p--]=0,a=1}for(r=v.length;0===v[--r];)v.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function O(e,t){var n,r,i,a,s,l,c,u,d,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?_(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r){for((d=s<0)?(n=c,s=-s,l=h.length):(n=h,r=u,l=c.length),s>(i=Math.max(Math.ceil(p/7),l)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=m-1;--c[a],c[i]+=m}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?_(t,p):t):new f(0)}function T(e,t,n){var r,i=N(e),a=b(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+k(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+k(-i-1)+a,n&&(r=n-s)>0&&(a+=k(r))):i>=s?(a+=k(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+k(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=k(r))),e.s<0?"-"+a:a}function A(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);C(t,e)}if(a.prototype=v,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(s),s.default=s.Decimal=s,i=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,s=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),a=n(8396),s=n(9323),o=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=s.get(n,e);return void 0===i?o.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8870:(e,t,n)=>{"use strict";n.d(t,{BH:()=>x,Cp:()=>v,F$:()=>p,G6:()=>k,GR:()=>d,HN:()=>l,MK:()=>f,Od:()=>g,S$:()=>i,Zw:()=>s,b_:()=>h,f8:()=>b,gn:()=>o,j3:()=>c,jY:()=>E,lQ:()=>a,nJ:()=>m,vh:()=>u,yy:()=>S});var r=n(8168),i="undefined"===typeof window;function a(){}function s(e,t){return"function"===typeof e?e(t):e}function o(e){return"number"===typeof e&&e>=0&&e!==1/0}function l(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t,n){return N(e)?"function"===typeof t?(0,r.A)({},n,{queryKey:e,queryFn:t}):(0,r.A)({},t,{queryKey:e}):e}function d(e,t,n){return N(e)?"function"===typeof t?(0,r.A)({},n,{mutationKey:e,mutationFn:t}):(0,r.A)({},t,{mutationKey:e}):"function"===typeof e?(0,r.A)({},t,{mutationFn:e}):(0,r.A)({},e)}function h(e,t,n){return N(e)?[(0,r.A)({},t,{queryKey:e}),n]:[e||{},t]}function f(e,t){var n=e.active,r=e.exact,i=e.fetching,a=e.inactive,s=e.predicate,o=e.queryKey,l=e.stale;if(N(o))if(r){if(t.queryHash!==p(o,t.options))return!1}else if(!v(t.queryKey,o))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,a);if("none"===c)return!1;if("all"!==c){var u=t.isActive();if("active"===c&&!u)return!1;if("inactive"===c&&u)return!1}return("boolean"!==typeof l||t.isStale()===l)&&(("boolean"!==typeof i||t.isFetching()===i)&&!(s&&!s(t)))}function m(e,t){var n=e.exact,r=e.fetching,i=e.predicate,a=e.mutationKey;if(N(a)){if(!t.options.mutationKey)return!1;if(n){if(g(t.options.mutationKey)!==g(a))return!1}else if(!v(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function p(e,t){return((null==t?void 0:t.queryKeyHashFn)||g)(e)}function g(e){var t,n=l(e);return t=n,JSON.stringify(t,function(e,t){return w(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t})}function v(e,t){return y(l(e),l(t))}function y(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(function(n){return!y(e[n],t[n])}))}function x(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||w(e)&&w(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,s=n?[]:{},o=0,l=0;l<a;l++){var c=n?l:i[l];s[c]=x(e[c],t[c]),s[c]===e[c]&&o++}return r===a&&o===r?e:s}return t}function b(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function w(e){if(!j(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!j(n)&&!!n.hasOwnProperty("isPrototypeOf")}function j(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e){return"string"===typeof e||Array.isArray(e)}function S(e){return new Promise(function(t){setTimeout(t,e)})}function k(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function E(){if("function"===typeof AbortController)return new AbortController}},8990:(e,t,n)=>{"use strict";n.d(t,{dd:()=>o,eJ:()=>u,wm:()=>c});var r=n(244),i=n(6317),a=n(8870);function s(e){return Math.min(1e3*Math.pow(2,e),3e4)}function o(e){return"function"===typeof(null==e?void 0:e.cancel)}var l=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof l}var u=function(e){var t,n,c,u,d=this,h=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){h=!0},this.continueRetry=function(){h=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){c=e,u=t});var f=function(t){d.isResolved||(d.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),c(t))},m=function(t){d.isResolved||(d.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),u(t))};!function c(){if(!d.isResolved){var u;try{u=e.fn()}catch(p){u=Promise.reject(p)}t=function(e){if(!d.isResolved&&(m(new l(e)),null==d.abort||d.abort(),o(u)))try{u.cancel()}catch(t){}},d.isTransportCancelable=o(u),Promise.resolve(u).then(f).catch(function(t){var o,l;if(!d.isResolved){var u=null!=(o=e.retry)?o:3,f=null!=(l=e.retryDelay)?l:s,p="function"===typeof f?f(d.failureCount,t):f,g=!0===u||"number"===typeof u&&d.failureCount<u||"function"===typeof u&&u(d.failureCount,t);!h&&g?(d.failureCount++,null==e.onFail||e.onFail(d.failureCount,t),(0,a.yy)(p).then(function(){if(!r.m.isFocused()||!i.t.isOnline())return new Promise(function(t){n=t,d.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){n=void 0,d.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){h?m(t):c()})):m(t)}})}}()}},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),a=n(3272),s=n(1444);t.get=function e(t,n,o){if(null==t)return o;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return o;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,s.toPath(n),o):o:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?o:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,o);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return o;const e=t[n];return void 0===e?o:e}}}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),a=n(1203);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>iE,scaleDiverging:()=>JT,scaleDivergingLog:()=>ZT,scaleDivergingPow:()=>tA,scaleDivergingSqrt:()=>nA,scaleDivergingSymlog:()=>eA,scaleIdentity:()=>KC,scaleImplicit:()=>nE,scaleLinear:()=>WC,scaleLog:()=>t_,scaleOrdinal:()=>rE,scalePoint:()=>sE,scalePow:()=>u_,scaleQuantile:()=>j_,scaleQuantize:()=>N_,scaleRadial:()=>f_,scaleSequential:()=>WT,scaleSequentialLog:()=>KT,scaleSequentialPow:()=>XT,scaleSequentialQuantile:()=>YT,scaleSequentialSqrt:()=>GT,scaleSequentialSymlog:()=>QT,scaleSqrt:()=>d_,scaleSymlog:()=>a_,scaleThreshold:()=>S_,scaleTime:()=>BT,scaleUtc:()=>VT,tickFormat:()=>qC});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>UY,hasStandardBrowserEnv:()=>BY,hasStandardBrowserWebWorkerEnv:()=>VY,navigator:()=>zY,origin:()=>qY});var r,i=n(5043),a=n.t(i,2),s=n(4391),o=n(7950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ve){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,o=a.history,l=r.Pop,h=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:b.location,delta:t})}function x(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let b={get action(){return l},get location(){return e(a,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(u,y),h=e,()=>{a.removeEventListener(u,y),h=null}},createHref:e=>t(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=m(b.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=b.createHref(i);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(u)}s&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=m(b.location,e,t);n&&n(i,e),g=v();let a=f(i,g),c=b.createHref(i);o.replaceState(a,"",c),s&&h&&h({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let a=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=I(i);s=A(a[o],e,r)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=U([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of j(e.path))i(e,t,r);else i(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=j(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,S=3,k=2,E=1,C=10,_=-2,O=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=_),t&&(r+=k),n.filter(e=>!O(e)).reduce((e,t)=>e+(N.test(t)?S:""===t?E:C),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:U([a,u.pathname]),pathnameBase:z(U([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=U([a,u.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let a,s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:B(r),hash:V(i)}}(i,a),u=o&&"/"!==o&&o.endsWith("/"),h=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const Q=i.createContext(null);const X=i.createContext(null);const G=i.createContext(null);const Y=i.createContext(null);const $=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext(G).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext($);return e?function(){let{router:e}=me(he.UseNavigateStable),t=ge(fe.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(Q),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:a}=i.useContext($),{pathname:s}=ee(),o=JSON.stringify(L(a,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let c=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=F(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:U([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)},[t,r,o,s,e]);return c}()}const re=i.createContext(null);function ie(){let{matches:e}=i.useContext($),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:a}=i.useContext($),{pathname:s}=ee(),o=JSON.stringify(L(a,r.v7_relativeSplatPath));return i.useMemo(()=>F(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function se(e,t,n,a){Z()||d(!1);let{navigator:s}=i.useContext(G),{matches:o}=i.useContext($),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var m;let e="string"===typeof t?g(t):t;"/"===u||(null==(m=e.pathname)?void 0:m.startsWith(u))||d(!1),h=e}else h=f;let p=h.pathname||"/",v=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:v});let b=de(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,a);return t&&b?i.createElement(Y.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function oe(){let e=function(){var e;let t=i.useContext(J),n=pe(fe.UseRouteError),r=ge(fe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const le=i.createElement(oe,null);class ce extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement($.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(Q);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement($.Provider,{value:t},r)}function de(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,a)=>{let s,d=!1,h=null,f=null;var m;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||le,c&&(u<0&&0===a?(m="route-fallback",!1||ve[m]||(ve[m]=!0),d=!0,f=null):u===a&&(d=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=s?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ue,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(ce,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),fe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fe||{});function me(e){let t=i.useContext(Q);return t||d(!1),t}function pe(e){let t=i.useContext(X);return t||d(!1),t}function ge(e){let t=function(){let e=i.useContext($);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ve={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function xe(e){let{to:t,replace:n,state:r,relative:a}=e;Z()||d(!1);let{future:s,static:o}=i.useContext(G),{matches:l}=i.useContext($),{pathname:c}=ee(),u=ne(),h=F(t,L(l,s.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function be(e){return function(e){let t=i.useContext($).outlet;return t?i.createElement(re.Provider,{value:e},t):t}(e.context)}function we(e){d(!1)}function je(e){let{basename:t="/",children:n=null,location:a,navigationType:s=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof a&&(a=g(a));let{pathname:f="/",search:m="",hash:p="",state:v=null,key:y="default"}=a,x=i.useMemo(()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:m,hash:p,state:v,key:y},navigationType:s}},[u,f,m,p,v,y,s]);return null==x?null:i.createElement(G.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:x}))}function Ne(e){let{children:t,location:n}=e;return se(Se(t),n)}new Promise(()=>{});i.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Se(e.props.children,a));e.type!==we&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Se(e.props.children,a)),n.push(s)}),n}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ve){}new Map;const _e=a.startTransition;l.flushSync,a.useId;function Oe(e){let{basename:t,children:n,future:r,window:a}=e,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback(e=>{d&&_e?_e(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>ye(r),[r]),i.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=i.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=Ee(e,Ce),{basename:g}=i.useContext(G),v=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Ve){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:a}=i.useContext(G),{hash:s,pathname:o,search:l}=ae(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),a.createHref({pathname:c,search:l,hash:s})}(u,{relative:a}),x=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ae(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(u)===p(d);c(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,s,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:f});return i.createElement("a",ke({},m,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var Ie,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));var Re=n(2907);function Me(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Fe(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function Ue(e,t,n){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Ve={data:""},qe=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ve,He=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,We=/\/\*[^]*?\*\/|  +/g,Ke=/\n+/g,Qe=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+s+";":r+="f"==a[1]?Qe(s,a):a+"{"+Qe(s,"k"==a[1]?"":t)+"}":"object"==typeof s?r+=Qe(s,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Qe.p?Qe.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Xe={},Ge=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ge(e[n]);return t}return e},Ye=(e,t,n,r,i)=>{let a=Ge(e),s=Xe[a]||(Xe[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!Xe[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=He.exec(e.replace(We,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ke," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ke," ").trim();return r[0]})(e);Xe[s]=Qe(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&Xe.g?Xe.g:null;return n&&(Xe.g=Xe[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Xe[s],t,r,o),s};function $e(e){let t=this||{},n=e.call?e(t.p):e;return Ye(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Qe(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,qe(t.target),t.g,t.o,t.k)}$e.bind({g:1});let Je,Ze,et,tt=$e.bind({k:1});function nt(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:Ze&&Ze()},o),n.o=/ *go\d+/.test(l),o.className=$e.apply(n,r)+(l?" "+l:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),et&&c[0]&&et(o),Je(c,o)}return t?t(i):i}}var rt,it,at,st,ot,lt,ct,ut,dt,ht,ft,mt,pt,gt,vt,yt,xt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,bt=(()=>{let e=0;return()=>(++e).toString()})(),wt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jt="default",Nt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Be(Be({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Be(Be({},e),t.toast):e)});case 2:let{toast:r}=t;return Nt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Be(Be({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Be(Be({},e),{},{toasts:[]}):Be(Be({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Be(Be({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Be(Be({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Be(Be({},e),{},{pauseDuration:e.pauseDuration+a}))})}},St=[],kt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Et={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt;Et[t]=Nt(Et[t]||kt,e),St.forEach(e=>{let[n,r]=e;n===t&&r(Et[t])})},_t=e=>Object.keys(Et).forEach(t=>Ct(e,t)),Ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return t=>{Ct(t,e)}},Tt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},At=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Be(Be({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||bt()})}(t,e,n);return Ot(r.toasterId||(e=>Object.keys(Et).find(t=>Et[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Pt=(e,t)=>At("blank")(e,t);Pt.error=At("error"),Pt.success=At("success"),Pt.loading=At("loading"),Pt.custom=At("custom"),Pt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ot(t)(n):_t(n)},Pt.dismissAll=e=>Pt.dismiss(void 0,e),Pt.remove=(e,t)=>{let n={type:4,toastId:e};t?Ot(t)(n):_t(n)},Pt.removeAll=e=>Pt.remove(void 0,e),Pt.promise=(e,t,n)=>{let r=Pt.loading(t.loading,Be(Be({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?xt(t.success,e):void 0;return i?Pt.success(i,Be(Be({id:r},n),null==n?void 0:n.success)):Pt.dismiss(r),e}).catch(e=>{let i=t.error?xt(t.error,e):void 0;i?Pt.error(i,Be(Be({id:r},n),null==n?void 0:n.error)):Pt.dismiss(r)}),e};var It=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt,[n,r]=(0,i.useState)(Et[t]||kt),a=(0,i.useRef)(Et[t]);(0,i.useEffect)(()=>(a.current!==Et[t]&&r(Et[t]),St.push([t,r]),()=>{let e=St.findIndex(e=>{let[n]=e;return n===t});e>-1&&St.splice(e,1)}),[t]);let s=n.toasts.map(t=>{var n,r,i;return Be(Be(Be(Be({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Tt[t.type],style:Be(Be(Be({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return Be(Be({},n),{},{toasts:s})}(e,t),a=(0,i.useRef)(new Map).current,s=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),o({type:4,toastId:e})},t);a.set(e,n)},[]);(0,i.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Pt.dismiss(n.id,t),r);n.visible&&Pt.dismiss(n.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,i.useCallback)(Ot(t),[t]),l=(0,i.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,i.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),u=(0,i.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=(0,i.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},s=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<o&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,i.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Dt=tt(rt||(rt=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Rt=tt(it||(it=Me(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Mt=tt(at||(at=Me(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Lt=nt("div")(st||(st=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Dt,Rt,e=>e.secondary||"#fff",Mt),Ft=tt(ot||(ot=Me(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=nt("div")(lt||(lt=Me(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ft),zt=tt(ct||(ct=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Bt=tt(ut||(ut=Me(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Vt=nt("div")(dt||(dt=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",zt,Bt,e=>e.secondary||"#fff"),qt=nt("div")(ht||(ht=Me(["\n  position: absolute;\n"]))),Ht=nt("div")(ft||(ft=Me(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Wt=tt(mt||(mt=Me(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Kt=nt("div")(pt||(pt=Me(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Wt),Qt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?i.createElement(Kt,null,n):n:"blank"===r?null:i.createElement(Ht,null,i.createElement(Ut,Be({},a)),"loading"!==r&&i.createElement(qt,null,"error"===r?i.createElement(Lt,Be({},a)):i.createElement(Vt,Be({},a))))},Xt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Gt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Yt=nt("div")(gt||(gt=Me(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),$t=nt("div")(vt||(vt=Me(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Jt=i.memo(e=>{let{toast:t,position:n,style:r,children:a}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=wt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Xt(n),Gt(n)];return{animation:t?"".concat(tt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(tt(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=i.createElement(Qt,{toast:t}),l=i.createElement($t,Be({},t.ariaProps),xt(t.message,t));return i.createElement(Yt,{className:t.className,style:Be(Be(Be({},s),r),t.style)},"function"==typeof a?a({icon:o,message:l}):i.createElement(i.Fragment,null,o,l))});!function(e,t,n,r){Qe.p=t,Je=e,Ze=n,et=r}(i.createElement);var Zt=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:s}=e,o=i.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return i.createElement("div",{ref:o,className:n,style:r},s)},en=$e(yt||(yt=Me(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),tn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:s,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=It(r,o);return i.createElement("div",{"data-rht-toaster":o||"",style:Be({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Be(Be({left:0,right:0,display:"flex",position:"absolute",transition:wt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return i.createElement(Zt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?en:"",style:o},"custom"===e.type?xt(e.message,e):s?s(e):i.createElement(Jt,{toast:e,position:r}))}))},nn=Pt;const rn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},an={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new sn;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const on=function(e){return function(e){const t=rn(e);return an.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ln=function(e){try{return an.decodeString(e,!0)}catch(Ve){console.error("base64Decode failed: ",Ve)}return null};const cn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,un=()=>{try{return cn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ve){return}const t=e&&ln(e[1]);return t&&JSON.parse(t)})()}catch(Ve){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Ve))}},dn=e=>{var t,n;return null===(n=null===(t=un())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},hn=()=>{var e;return null===(e=un())||void 0===e?void 0:e.config},fn=e=>{var t;return null===(t=un())||void 0===t?void 0:t["_".concat(e)]};class mn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function pn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function gn(){return!function(){var e;const t=null===(e=un())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Ve){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vn(){try{return"object"===typeof indexedDB}catch(Ve){return!1}}class yn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}}class xn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yn(n,a,t)}}const bn=/\{\$([^}]+)}/g;function wn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(jn(n)&&jn(a)){if(!wn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jn(e){return null!==e&&"object"===typeof e}function Nn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function kn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class En{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Cn),void 0===r.error&&(r.error=Cn),void 0===r.complete&&(r.complete=Cn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Ve){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Ve){"undefined"!==typeof console&&console.error&&console.error(Ve)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function _n(e){return e&&e._delegate?e._delegate:e}class On{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Tn="[DEFAULT]";class An{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new mn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Ve){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ve){if(r)return null;throw Ve}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Tn})}catch(Ve){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Ve){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Tn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;return this.component?this.component.multipleInstances?e:Tn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new An(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const In=[];var Dn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dn||(Dn={}));const Rn={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},Mn=Dn.INFO,Ln={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},Fn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ln[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Un{constructor(e){this.name=e,this._logLevel=Mn,this._logHandler=Fn,this._userLogHandler=null,In.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Rn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...t),this._logHandler(this,Dn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...t),this._logHandler(this,Dn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...t),this._logHandler(this,Dn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...t),this._logHandler(this,Dn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...t),this._logHandler(this,Dn.ERROR,...t)}}let zn,Bn;const Vn=new WeakMap,qn=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,Kn=new WeakMap;let Qn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Hn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Xn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Bn||(Bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($n(this),n),Yn(Vn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yn(e.apply($n(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call($n(this),t,...r);return Hn.set(a,t.sort?t.sort():[t]),Yn(a)}}function Gn(e){return"function"===typeof e?Xn(e):(e instanceof IDBTransaction&&function(e){if(qn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});qn.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,zn||(zn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qn):e)}function Yn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Yn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Vn.set(t,e)}).catch(()=>{}),Kn.set(t,e),t}(e);if(Wn.has(e))return Wn.get(e);const t=Gn(e);return t!==e&&(Wn.set(e,t),Kn.set(t,e)),t}const $n=e=>Kn.get(e);const Jn=["get","getKey","getAll","getAllKeys","count"],Zn=["put","add","delete","clear"],er=new Map;function tr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(er.get(t))return er.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Zn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Jn.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return er.set(t,a),a}Qn=(e=>Be(Be({},e),{},{get:(t,n,r)=>tr(t,n)||e.get(t,n,r),has:(t,n)=>!!tr(t,n)||e.has(t,n)}))(Qn);class nr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const rr="@firebase/app",ir="0.10.13",ar=new Un("@firebase/app"),sr="@firebase/app-compat",or="@firebase/analytics-compat",lr="@firebase/analytics",cr="@firebase/app-check-compat",ur="@firebase/app-check",dr="@firebase/auth",hr="@firebase/auth-compat",fr="@firebase/database",mr="@firebase/data-connect",pr="@firebase/database-compat",gr="@firebase/functions",vr="@firebase/functions-compat",yr="@firebase/installations",xr="@firebase/installations-compat",br="@firebase/messaging",wr="@firebase/messaging-compat",jr="@firebase/performance",Nr="@firebase/performance-compat",Sr="@firebase/remote-config",kr="@firebase/remote-config-compat",Er="@firebase/storage",Cr="@firebase/storage-compat",_r="@firebase/firestore",Or="@firebase/vertexai-preview",Tr="@firebase/firestore-compat",Ar="firebase",Pr="[DEFAULT]",Ir={[rr]:"fire-core",[sr]:"fire-core-compat",[lr]:"fire-analytics",[or]:"fire-analytics-compat",[ur]:"fire-app-check",[cr]:"fire-app-check-compat",[dr]:"fire-auth",[hr]:"fire-auth-compat",[fr]:"fire-rtdb",[mr]:"fire-data-connect",[pr]:"fire-rtdb-compat",[gr]:"fire-fn",[vr]:"fire-fn-compat",[yr]:"fire-iid",[xr]:"fire-iid-compat",[br]:"fire-fcm",[wr]:"fire-fcm-compat",[jr]:"fire-perf",[Nr]:"fire-perf-compat",[Sr]:"fire-rc",[kr]:"fire-rc-compat",[Er]:"fire-gcs",[Cr]:"fire-gcs-compat",[_r]:"fire-fst",[Tr]:"fire-fst-compat",[Or]:"fire-vertex","fire-js":"fire-js",[Ar]:"fire-js-all"},Dr=new Map,Rr=new Map,Mr=new Map;function Lr(e,t){try{e.container.addComponent(t)}catch(Ve){ar.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Ve)}}function Fr(e){const t=e.name;if(Mr.has(t))return ar.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mr.set(t,e);for(const n of Dr.values())Lr(n,e);for(const n of Rr.values())Lr(n,e);return!0}function Ur(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zr(e){return void 0!==e.settings}const Br=new xn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const qr="10.14.1";function Hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=hn()),!n)throw Br.create("no-options");const a=Dr.get(i);if(a){if(wn(n,a.options)&&wn(r,a.config))return a;throw Br.create("duplicate-app",{appName:i})}const s=new Pn(i);for(const l of Mr.values())s.addComponent(l);const o=new Vr(n,r,s);return Dr.set(i,o),o}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr;const t=Dr.get(e);if(!t&&e===Pr&&hn())return Hr();if(!t)throw Br.create("no-app",{appName:e});return t}function Kr(e,t,n){var r;let i=null!==(r=Ir[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ar.warn(e.join(" "))}Fr(new On("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Qr="firebase-heartbeat-store";let Xr=null;function Gr(){return Xr||(Xr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Yn(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Yn(s.result),e.oldVersion,e.newVersion,Yn(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Qr)}catch(Ve){console.warn(Ve)}}}).catch(e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})})),Xr}async function Yr(e,t){try{const n=(await Gr()).transaction(Qr,"readwrite"),r=n.objectStore(Qr);await r.put(t,$r(e)),await n.done}catch(Ve){if(Ve instanceof yn)ar.warn(Ve.message);else{const t=Br.create("idb-set",{originalErrorMessage:null===Ve||void 0===Ve?void 0:Ve.message});ar.warn(t.message)}}}function $r(e){return"".concat(e.name,"!").concat(e.options.appId)}class Jr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ei(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(Ve){ar.warn(Ve)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Zr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ti(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ti(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=on(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Ve){return ar.warn(Ve),""}}}function Zr(){return(new Date).toISOString().substring(0,10)}class ei{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!vn()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Gr()).transaction(Qr),n=await t.objectStore(Qr).get($r(e));return await t.done,n}catch(Ve){if(Ve instanceof yn)ar.warn(Ve.message);else{const t=Br.create("idb-get",{originalErrorMessage:null===Ve||void 0===Ve?void 0:Ve.message});ar.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ti(e){return on(JSON.stringify({version:2,heartbeats:e})).length}var ni;ni="",Fr(new On("platform-logger",e=>new nr(e),"PRIVATE")),Fr(new On("heartbeat",e=>new Jr(e),"PRIVATE")),Kr(rr,ir,ni),Kr(rr,ir,"esm2017"),Kr("fire-js","");Kr("firebase","10.14.1","app");function ri(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ii(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ai=ii,si=new xn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oi=new Un("@firebase/auth");function li(e){if(oi.logLevel<=Dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];oi.error("Auth (".concat(qr,"): ").concat(e),...n)}}function ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fi(e,...n)}function ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fi(e,...n)}function di(e,t,n){const r=Object.assign(Object.assign({},ai()),{[t]:n});return new xn("auth","Firebase",r).create(t,{appName:e.name})}function hi(e){return di(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return si.create(e,...n)}function mi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fi(t,...r)}}function pi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw li(t),new Error(t)}function gi(e,t){e||pi(t)}function vi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yi(){return"http:"===xi()||"https:"===xi()}function xi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function bi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yi()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class wi{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return bi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ji(e,t){gi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ni{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Si={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ki=new wi(3e4,6e4);function Ei(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ci(e,t,n,r){return _i(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=Nn(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Ni.fetch()(Ti(e,e.config.apiHost,n,s),l)})}async function _i(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Si),t);try{const t=new Pi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ii(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ii(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Ii(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Ii(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw di(e,o,s);ci(e,o)}}catch(Ve){if(Ve instanceof yn)throw Ve;ci(e,"network-request-failed",{message:String(Ve)})}}async function Oi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Ci(e,t,n,r,i);return"mfaPendingCredential"in a&&ci(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Ti(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ji(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ai(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ui(this.auth,"network-request-failed")),ki.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ii(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ui(e,t,r);return i.customData._tokenResponse=n,i}function Di(e){return void 0!==e&&void 0!==e.enterprise}class Ri{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ai(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Mi(e,t){return Ci(e,"GET","/v2/recaptchaConfig",Ei(e,t))}async function Li(e,t){return Ci(e,"POST","/v1/accounts:lookup",t)}function Fi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ve){}}function Ui(e){return 1e3*Number(e)}function zi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return li("JWT malformed, contained fewer than 3 sections"),null;try{const e=ln(n);return e?JSON.parse(e):(li("Failed to decode base64 JWT payload"),null)}catch(Ve){return li("Caught error parsing JWT payload as JSON",null===Ve||void 0===Ve?void 0:Ve.toString()),null}}function Bi(e){const t=zi(e);return mi(t,"internal-error"),mi("undefined"!==typeof t.exp,"internal-error"),mi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Vi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Ve){throw Ve instanceof yn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Ve)&&e.auth.currentUser===e&&await e.auth.signOut(),Ve}}class qi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ve){return void((null===Ve||void 0===Ve?void 0:Ve.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Hi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Vi(e,Li(n,{idToken:r}));mi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Ki(a.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Hi(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Ki(e){return e.map(e=>{var{providerId:t}=e,n=ri(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mi(e.idToken,"internal-error"),mi("undefined"!==typeof e.idToken,"internal-error"),mi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Bi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mi(0!==e.length,"internal-error");const t=Bi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(mi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await _i(e,{},async()=>{const n=Nn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=Ti(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ni.fetch()(a,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Qi;return n&&(mi("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(mi("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(mi("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qi,this.toJSON())}_performRefresh(){return pi("not implemented")}}function Xi(e,t){mi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Gi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ri(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return mi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=_n(e),r=await n.getIdToken(t),i=zi(r);mi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Fi(Ui(i.auth_time)),issuedAtTime:Fi(Ui(i.iat)),expirationTime:Fi(Ui(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=_n(e);await Wi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(mi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Wi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Vi(this,async function(e,t){return Ci(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:j}=t;mi(y&&j,e,"internal-error");const N=Qi.fromJSON(this.name,j);mi("string"===typeof y,e,"internal-error"),Xi(u,e.name),Xi(d,e.name),mi("boolean"===typeof x,e,"internal-error"),mi("boolean"===typeof b,e,"internal-error"),Xi(h,e.name),Xi(f,e.name),Xi(m,e.name),Xi(p,e.name),Xi(g,e.name),Xi(v,e.name);const S=new Gi({uid:y,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:N,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),p&&(S._redirectEventId=p),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Qi;r.updateFromServerResponse(t);const i=new Gi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Wi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];mi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ki(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Qi;s.updateFromIdToken(n);const o=new Gi({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Hi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Yi=new Map;function $i(e){gi(e instanceof Function,"Expected a class definition");let t=Yi.get(e);return t?(gi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yi.set(e,t),t)}class Ji{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ji.type="NONE";const Zi=Ji;function ea(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ta{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ea(this.userKey,r.apiKey,i),this.fullPersistenceKey=ea("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ta($i(Zi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||$i(Zi);const a=ea(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){const n=Gi._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new ta(i,e,n)):new ta(i,e,n)}}function na(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ra(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(la(t))return"Blackberry";if(ca(t))return"Webos";if(ia(t))return"Safari";if((t.includes("chrome/")||aa(t))&&!t.includes("edge/"))return"Chrome";if(oa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/firefox\//i.test(e)}function ia(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/crios\//i.test(e)}function sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/iemobile/i.test(e)}function oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/android/i.test(e)}function la(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/blackberry/i.test(e)}function ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/webos/i.test(e)}function ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function da(){return function(){const e=pn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return ua(e)||oa(e)||ca(e)||la(e)||/windows phone/i.test(e)||sa(e)}function fa(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=na(pn());break;case"Worker":t="".concat(na(pn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qr,"/").concat(r)}class ma{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Ve){r(Ve)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Ve){t.reverse();for(const n of t)try{n()}catch(_t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ve||void 0===Ve?void 0:Ve.message})}}}class pa{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ga{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ya(this),this.idTokenSubscription=new ya(this),this.beforeStateQueue=new ma(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=si,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ve){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Li(this,{idToken:e}),n=await Gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Ve){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ve))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Ve){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wi(e)}catch(Ve){if((null===Ve||void 0===Ve?void 0:Ve.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(hi(this));const t=e?_n(e):null;return t&&mi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&mi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ci(e,"GET","/v2/passwordPolicy",Ei(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new pa(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ci(e,"POST","/v2/accounts:revokeToken",Ei(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$i(e)||this._popupRedirectResolver;mi(t,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(mi(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(oi.logLevel<=Dn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];oi.warn("Auth (".concat(qr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function va(e){return _n(e)}class ya{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new En(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return mi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xa={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ba(e){return xa.loadJS(e)}function wa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ja{constructor(e){this.type="recaptcha-enterprise",this.auth=va(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Di(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Mi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ri(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Di(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=xa.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ba(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Na(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ja(e);let a;try{a=await i.verify(n)}catch(o){a=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Sa(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Na(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Na(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function ka(e,t,n){const r=va(e);mi(r._canInitEmulator,r,"emulator-config-failed"),mi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ea(t),{host:s,port:o}=function(e){const t=Ea(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ca(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ca(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ea(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ca(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _a{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,t){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function Oa(e,t){return Ci(e,"POST","/v1/accounts:signUp",t)}async function Ta(e,t){return Oi(e,"POST","/v1/accounts:signInWithPassword",Ei(e,t))}async function Aa(e,t){return Ci(e,"POST","/v1/accounts:sendOobCode",Ei(e,t))}async function Pa(e,t){return Aa(e,t)}class Ia extends _a{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ia(e,t,"password")}static _fromEmailAndCode(e,t){return new Ia(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Sa(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ta);case"emailLink":return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithEmailLink",Ei(e,t))}(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Sa(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oa);case"emailLink":return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithEmailLink",Ei(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Da(e,t){return Oi(e,"POST","/v1/accounts:signInWithIdp",Ei(e,t))}class Ra extends _a{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ri(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Ra(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Da(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Da(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Da(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nn(t)}return e}}const Ma={USER_NOT_FOUND:"user-not-found"};class La extends _a{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new La({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new La({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Oi(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,t));if(n.temporaryProof)throw Ii(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ma)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new La({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fa{constructor(e){var t,n,r,i,a,s;const o=Sn(kn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);mi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Sn(kn(e)).link,n=t?Sn(kn(t)).deep_link_id:null,r=Sn(kn(e)).deep_link_id;return(r?Sn(kn(r)).link:null)||r||n||t||e}(e);try{return new Fa(t)}catch(n){return null}}}class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,t){return Ia._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fa.parseLink(t);return mi(n,"argument-error"),Ia._fromEmailAndCode(e,n.code,n.tenantId)}}Ua.PROVIDER_ID="password",Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class za{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ba extends za{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Va extends Ba{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Va.credential(t.oauthAccessToken)}catch(n){return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com",Va.PROVIDER_ID="facebook.com";class qa extends Ba{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ra._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qa.credential(n,r)}catch(i){return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com",qa.PROVIDER_ID="google.com";class Ha extends Ba{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ha.credential(t.oauthAccessToken)}catch(n){return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com",Ha.PROVIDER_ID="github.com";class Wa extends Ba{constructor(){super("twitter.com")}static credential(e,t){return Ra._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Wa.credential(n,r)}catch(i){return null}}}async function Ka(e,t){return Oi(e,"POST","/v1/accounts:signUp",Ei(e,t))}Wa.TWITTER_SIGN_IN_METHOD="twitter.com",Wa.PROVIDER_ID="twitter.com";class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Gi._fromIdTokenResponse(e,n,r),a=Xa(n);return new Qa({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xa(n);return new Qa({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ga extends yn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ga(e,t,n,r)}}function Ya(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ga._fromErrorAndOperation(e,n,t,r);throw n})}async function $a(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Vi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qa._forOperation(e,"link",r)}async function Ja(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(zr(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const a=await Vi(e,Ya(r,i,t,e),n);mi(a.idToken,r,"internal-error");const s=zi(a.idToken);mi(s,r,"internal-error");const{sub:o}=s;return mi(e.uid===o,r,"user-mismatch"),Qa._forOperation(e,i,a)}catch(Ve){throw(null===Ve||void 0===Ve?void 0:Ve.code)==="auth/".concat("user-not-found")&&ci(r,"user-mismatch"),Ve}}async function Za(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zr(e.app))return Promise.reject(hi(e));const r="signIn",i=await Ya(e,r,t),a=await Qa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function es(e,t){return Za(va(e),t)}function ts(e,t,n){var r;mi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),mi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(mi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(mi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ns(e){const t=va(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rs(e,t,n){if(zr(e.app))return Promise.reject(hi(e));const r=va(e),i=Sa(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ka),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ns(e),t}),s=await Qa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function is(e,t,n){return zr(e.app)?Promise.reject(hi(e)):es(_n(e),Ua.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ns(e),t})}async function as(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const a=await Vi(e,async function(e,t){return Ci(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(a,!0)}new WeakMap;const ss="__sak";class os{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ss,"1"),this.storage.removeItem(ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ls extends os{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ha(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);da()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ls.type="LOCAL";const cs=ls;class us extends os{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}us.type="SESSION";const ds=us;class hs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new hs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hs.receivers=[];class ms{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=fs("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function ps(){return window}function gs(){return"undefined"!==typeof ps().WorkerGlobalScope&&"function"===typeof ps().importScripts}const vs="firebaseLocalStorageDb",ys="firebaseLocalStorage",xs="fbase_key";class bs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ws(e,t){return e.transaction([ys],t?"readwrite":"readonly").objectStore(ys)}function js(){const e=indexedDB.open(vs,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ys,{keyPath:xs})}catch(Ve){n(Ve)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ys)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(vs);return new bs(e).toPromise()}(),t(await js()))})})}async function Ns(e,t,n){const r=ws(e,!0).put({[xs]:t,value:n});return new bs(r).toPromise()}function Ss(e,t){const n=ws(e,!0).delete(t);return new bs(n).toPromise()}class ks{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await js()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Ve){if(t++>3)throw Ve;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hs._getInstance(gs()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ms(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await js();return await Ns(e,ss,"1"),await Ss(e,ss),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ns(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ws(e,!1).get(t),r=await new bs(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ss(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ws(e,!1).getAll();return new bs(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ks.type="LOCAL";const Es=ks;wa("rcb"),new wi(3e4,6e4);const Cs="recaptcha";async function _s(e,t,n){var r;const i=await n.verify();try{let a;if(mi("string"===typeof i,e,"argument-error"),mi(n.type===Cs,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){mi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ci(e,"POST","/v2/accounts/mfaEnrollment:start",Ei(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{mi("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;mi(n,e,"missing-multi-factor-info");const s=await function(e,t){return Ci(e,"POST","/v2/accounts/mfaSignIn:start",Ei(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ci(e,"POST","/v1/accounts:sendVerificationCode",Ei(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Os{constructor(e){this.providerId=Os.PROVIDER_ID,this.auth=va(e)}verifyPhoneNumber(e,t){return _s(this.auth,e,_n(t))}static credential(e,t){return La._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Os.credentialFromTaggedObject(t)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?La._fromTokenResponse(n,r):null}}function Ts(e,t){return t?$i(t):(mi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Os.PROVIDER_ID="phone",Os.PHONE_SIGN_IN_METHOD="phone";class As extends _a{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ps(e){return Za(e.auth,new As(e),e.bypassAuthState)}function Is(e){const{auth:t,user:n}=e;return mi(n,t,"internal-error"),Ja(n,new As(e),e.bypassAuthState)}async function Ds(e){const{auth:t,user:n}=e;return mi(n,t,"internal-error"),$a(n,new As(e),e.bypassAuthState)}class Rs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ve){this.reject(Ve)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(Ve){this.reject(Ve)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ps;case"linkViaPopup":case"linkViaRedirect":return Ds;case"reauthViaPopup":case"reauthViaRedirect":return Is;default:ci(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ms=new wi(2e3,1e4);class Ls extends Rs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mi(e,this.auth,"internal-error"),e}async onExecution(){gi(1===this.filter.length,"Popup operations only handle one event");const e=fs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ms.get())};e()}}Ls.currentPopupAction=null;const Fs=new Map;class Us extends Rs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Fs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vs(t),r=Bs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Ve){e=()=>Promise.reject(Ve)}Fs.set(this.auth._key(),e)}return this.bypassAuthState||Fs.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function zs(e,t){Fs.set(e._key(),t)}function Bs(e){return $i(e._redirectPersistence)}function Vs(e){return ea("pendingRedirect",e.config.apiKey,e.name)}async function qs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zr(e.app))return Promise.reject(hi(e));const r=va(e),i=Ts(r,t),a=new Us(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Hs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ks(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ks(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ws(e))}saveEventToCache(e){this.cachedEventUids.add(Ws(e)),this.lastProcessedEventTime=Date.now()}}function Ws(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ks(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Qs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xs=/^https?/;async function Gs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ci(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ys(r))return}catch(n){}ci(e,"unauthorized-domain")}function Ys(e){const t=vi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Xs.test(n))return!1;if(Qs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $s=new wi(3e4,6e4);function Js(){const e=ps().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Zs(e){return new Promise((t,n)=>{var r,i,a;function s(){Js(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Js(),n(ui(e,"network-request-failed"))},timeout:$s.get()})}if(null===(i=null===(r=ps().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ps().gapi)||void 0===a?void 0:a.load)){const t=wa("iframefcb");return ps()[t]=()=>{gapi.load?s():n(ui(e,"network-request-failed"))},ba("".concat(xa.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw eo=null,e})}let eo=null;const to=new wi(5e3,15e3),no={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ro=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function io(e){const t=e.config;mi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ji(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:qr},i=ro.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Nn(r).slice(1))}async function ao(e){const t=await function(e){return eo=eo||Zs(e),eo}(e),n=ps().gapi;return mi(n,e,"internal-error"),t.open({where:document.body,url:io(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:no,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ui(e,"network-request-failed"),a=ps().setTimeout(()=>{r(i)},to.get());function s(){ps().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const so={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ve){}}}function lo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},so),{width:r.toString(),height:i.toString(),top:a,left:s}),c=pn().toLowerCase();n&&(o=aa(c)?"_blank":n),ra(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ua(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new oo(null);const d=window.open(t||"",o,u);mi(d,e,"popup-blocked");try{d.focus()}catch(Ve){}return new oo(d)}const co="__/auth/handler",uo="emulator/auth/handler",ho=encodeURIComponent("fac");async function fo(e,t,n,r,i,a){mi(e.config.authDomain,e,"auth-domain-config-required"),mi(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qr,eventId:i};if(t instanceof za){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Ba){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ho,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(co);return ji(t,uo)}(e),"?").concat(Nn(o).slice(1)).concat(c)}const mo="webStorageSupport";const po=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=qs,this._overrideRedirectResult=zs}async _openPopup(e,t,n,r){var i;gi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return lo(e,await fo(e,t,n,vi(),r),fs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ps().location.href=e}(await fo(e,t,n,vi(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(gi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ao(e),n=new Hs(e);return t.register("authEvent",t=>{mi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mo,{type:mo},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mo];void 0!==i&&t(!!i),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ha()||ia()||ua()}};var go="@firebase/auth",vo="1.7.9";class yo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xo=fn("authIdTokenMaxAge")||300;let bo=null;var wo;!function(e){xa=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ui("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),wo="Browser",Fr(new On("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;mi(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:wo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fa(wo)},c=new ga(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Fr(new On("auth-internal",e=>(e=>new yo(e))(va(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(go,vo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(wo)),Kr(go,vo,"esm2017");var jo,No,So="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ko={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||0<c.l(e);)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new p(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,n[a]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,m(n,2*i+2*a),n[2*i+2*a+1]+=l*g,m(n,2*i+2*a+1),n[2*i+2*a+1]+=f*p,m(n,2*i+2*a+1),n[2*i+2*a+2]+=l*p,m(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,No=ko.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},jo=ko.Integer=r}).apply("undefined"!==typeof So?So:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Eo,Co,_o,Oo,To,Ao,Po,Io,Do="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ro={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Do&&Do];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){i.setTimeout(()=>{throw e},0)}function S(){var e=O;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,_=!1,O=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(Xe){N(Xe)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function P(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Xe){}return e}();function R(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(Ze){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}d(R,I);var M={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=q(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return X(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):Q(e,t,n,!1,r,i)}function Q(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new B(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function X(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)X(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):Q(e,t,n,!0,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(a=e.g[t],n,r,i))&&(z(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[H]=null)):z(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;w(t=new I(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(s=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&V(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){I.call(this,"d")}function xe(){I.call(this,"c")}d(ye,I),d(xe,I);var be={},we=null;function je(){return we=we||new ne}function Ne(e){I.call(this,be.La,e)}function Se(e){const t=je();re(t,new Ne(t))}function ke(e,t){I.call(this,be.STAT_EVENT,e),this.stat=t}function Ee(e){const t=je();re(t,new ke(t,e))}function Ce(e,t){I.call(this,be.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Oe(){this.g=!0}function Te(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(Ne,I),be.STAT_EVENT="statevent",d(ke,I),be.Ma="timingevent",d(Ce,I),Oe.prototype.xa=function(){this.g=!1},Oe.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(De,me),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=vt(ht(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),Ke(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=xn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var s=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ke(e){e.S=Date.now()+e.I,Qe(e,e.I)}function Qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ye(e){0==e.j.G||e.J||mn(e.j,e)}function $e(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function et(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||at(n.h,e)))if(!e.K&&at(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(He){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),nn(n)}un(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(He){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&fn(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(st(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=yn(r,r.J?r.ia:null,r.W),s.K){ot(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(Ge(o),Ke(o)),r.g=s}else cn(r);0<n.i.length&&an(n)}else"stop"!=c[0]&&"close"!=c[0]||gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(He){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==$t(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const h=$t(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Jt(this.g)))){this.J||4!=h||7==t||Se(),Ge(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Jt(this.g);e="";var a=r.length,s=4==$t(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$e(this),Ye(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),$e(this),Ye(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,et(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=qe(this,o),e==Fe){4==h&&(this.s=4,Ee(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ee(15),Te(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),et(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),dn(d),d.M=!0,Ee(11))}}else Te(this.i,this.l,o,"[Invalid Chunked Response]"),$e(this),Ye(this)}else Te(this.i,this.l,o,null),et(this,o);4==h&&$e(this),this.o&&!this.J&&(4==h?mn(this.j,this):(this.o=!1,Ke(this)))}else(function(e){const t={};e=(e.g&&2<=$t(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=j(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),$e(this),Ye(this)}}}catch(It){}},Re.prototype.cancel=function(){this.J=!0,$e(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Ee(17)),$e(this),this.s=2,Ye(this)):Qe(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function at(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function st(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,ft(this,e.j),this.o=e.o,this.g=e.g,mt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),pt(this,n),this.m=e.m}else e&&(t=String(e).match(ut))?(this.h=!1,ft(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),mt(this,t[4]),this.l=yt(t[5]||"",!0),pt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ht(e){return new dt(e)}function ft(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function pt(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(Ct(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),Tt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=xt(t,St)),e.i=new Et(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(xt(t,wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xt(n,"/"==n.charAt(0)?Nt:jt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",xt(n,kt)),e.join("")};var wt=/[#\/\?@]/g,jt=/[#\?:]/g,Nt=/[#\?]/g,St=/[#\?@]/g,kt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ct(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function _t(e,t){Ct(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ot(e,t){return Ct(e),t=At(e,t),e.g.has(t)}function Tt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(At(e,t),h(n)),e.h+=n.length)}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Pt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Ze){}}function Dt(){this.g=new fe}function Rt(e,t,n){const r=n||"";try{ct(e,function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Ve){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ve}}function Mt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ut(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Bt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Vt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){Ct(this),this.i=null,e=At(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ct(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Ct(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Ct(this);let t=[];if("string"===typeof e)Ot(this,e)&&(t=t.concat(this.g.get(At(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ct(this),this.i=null,Ot(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Mt,me),Mt.prototype.g=function(){return new Lt(this.l,this.j)},Mt.prototype.i=function(e){return function(){return e}}({}),d(Lt,ne),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ut(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ut(this):zt(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ut(this))},e.Qa=function(e){this.g&&(this.response=e,Ut(this))},e.ga=function(){this.g&&Ut(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(qt,ne);var Ht=/^https?$/i,Wt=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Qt(e),Gt(e)}function Qt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=$t(e)||2!=e.Z()))if(e.u&&4==$t(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==$t(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(ut)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!Ht.test(s?s.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<$t(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Qt(e)}}finally{Gt(e)}}}function Gt(e,t){if(e.g){Yt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Ve){}}}function Yt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function $t(e){return e.g?e.g.readyState:0}function Jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new Dt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),on(e,n),(t=new Re(e,e.j,t)).L=2,t.v=vt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Je){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=xn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ke(t)}vn(e)}function nn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(i.clearTimeout(e.u),e.u=null),fn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function an(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||T(),_||(C(),_=!0),O.add(t,e),e.B=0}}function sn(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),on(e,r),e.m&&e.o&&Vt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),st(e.h,n),Ue(n,r,t)}function on(e,t){e.H&&y(e.H,function(e,n){gt(t,n,e)}),e.l&&ct({},function(e,n){gt(t,n,e)})}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const o=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Rt(o,e,"req"+n+"_")}catch(It){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function cn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||T(),_||(C(),_=!0),O.add(t,e),e.v=0}}function un(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),pn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function hn(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),on(e,t),e.m&&e.o&&Vt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(ht(t)),n.m=null,n.P=!0,ze(n,e)}function fn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function mn(e,t){var n=null;if(e.g==t){fn(e),dn(e),e.g=null;var r=2}else{if(!at(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=je(),new Ce(r,n)),an(e)}else cn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),pn(e,e.B)),e.B++,!0))}(e,t)||2==r&&un(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function pn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ft(r,"https"),vt(r),t?function(e,t){const n=new Oe;if(i.Image){const r=new Image;r.onload=u(Pt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Pt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Pt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Pt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Pt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Pt(0,0,!0,t):Pt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Pt(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),vn(e),rn(e)}function vn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function yn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),mt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new dt(null);r&&ft(s,r),t&&(s.g=t),a&&mt(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),on(e,r),r}function xn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new qt(new Mt({eb:n})):new qt(e.pa)).Ha(e.J),t}function bn(){}function wn(){}function jn(e,t){ne.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kn(this)}function Nn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){xe.call(this),this.status=1}function kn(e){this.g=e}(e=qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Ze){return void Kt(this,Ze)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Wt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Ze){Kt(this,Ze)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Gt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch(We){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(We){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=yn(this,null,this.W),an(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let a=this.o;if(this.S&&(a?(a=x(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),on(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Bt(a)))+"&"+t:this.m&&Vt(n,this.m,a)),st(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?sn(this,e):0==this.i.length||rt(this.h)||sn(this))},e.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),nn(this),hn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),un(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},wn.prototype.g=function(e,t){return new jn(e,t)},d(jn,ne),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){tn(this.g)},jn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&an(t)},jn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,jn.aa.N.call(this)},d(Nn,ye),d(Sn,xe),d(kn,bn),kn.prototype.ua=function(){re(this.g,"a")},kn.prototype.ta=function(e){re(this.g,new Nn(e))},kn.prototype.sa=function(e){re(this.g,new Sn)},kn.prototype.ra=function(){re(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Io=Ro.createWebChannelTransport=function(){return new wn},Po=Ro.getStatEventTarget=function(){return je()},Ao=Ro.Event=be,To=Ro.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Oo=Ro.ErrorCode=Pe,Ie.COMPLETE="complete",_o=Ro.EventType=Ie,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Co=Ro.WebChannel=ge,Ro.FetchXmlHttpFactory=Mt,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Eo=Ro.XhrIo=qt}).apply("undefined"!==typeof Do?Do:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Mo="@firebase/firestore";class Lo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lo.UNAUTHENTICATED=new Lo(null),Lo.GOOGLE_CREDENTIALS=new Lo("google-credentials-uid"),Lo.FIRST_PARTY=new Lo("first-party-uid"),Lo.MOCK_USER=new Lo("mock-user");let Fo="10.14.0";const Uo=new Un("@firebase/firestore");function zo(){return Uo.logLevel}function Bo(e){if(Uo.logLevel<=Dn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ho);Uo.debug("Firestore (".concat(Fo,"): ").concat(e),...i)}}function Vo(e){if(Uo.logLevel<=Dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ho);Uo.error("Firestore (".concat(Fo,"): ").concat(e),...i)}}function qo(e){if(Uo.logLevel<=Dn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ho);Uo.warn("Firestore (".concat(Fo,"): ").concat(e),...i)}}function Ho(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(qe){return e}}function Wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Fo,") INTERNAL ASSERTION FAILED: ")+e;throw Vo(t),new Error(t)}function Ko(e,t){e||Wo()}function Qo(e,t){return e}const Xo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Go extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Yo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $o{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Jo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lo.UNAUTHENTICATED))}shutdown(){}}class Zo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class el{constructor(e){this.t=e,this.currentUser=Lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ko(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yo,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Bo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Bo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yo)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Bo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ko("string"==typeof t.accessToken),new $o(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ko(null===e||"string"==typeof e),new Lo(e)}}class tl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Lo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nl{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new tl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Lo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class il{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ko(void 0===this.o);const n=e=>{null!=e.error&&Bo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Bo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Bo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Bo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ko("string"==typeof e.token),this.R=e.token,new rl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function al(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class sl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=al(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ol(e,t){return e<t?-1:e>t?1:0}function ll(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class cl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Go(Xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Go(Xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Go(Xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Go(Xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cl.fromMillis(Date.now())}static fromDate(e){return cl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new cl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ol(this.nanoseconds,e.nanoseconds):ol(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ul{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ul(e)}static min(){return new ul(new cl(0,0))}static max(){return new ul(new cl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Wo(),void 0===n?n=e.length-t:n>e.length-t&&Wo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===dl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hl extends dl{construct(e,t,n){return new hl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Go(Xo.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new hl(e)}static emptyPath(){return new hl([])}}const fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ml extends dl{construct(e,t,n){return new ml(e,t,n)}static isValidIdentifier(e){return fl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ml.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ml(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Go(Xo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Go(Xo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Go(Xo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Go(Xo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ml(t)}static emptyPath(){return new ml([])}}class pl{constructor(e){this.path=e}static fromPath(e){return new pl(hl.fromString(e))}static fromName(e){return new pl(hl.fromString(e).popFirst(5))}static empty(){return new pl(hl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pl(new hl(e.slice()))}}class gl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}gl.UNKNOWN_ID=-1;function vl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ul.fromTimestamp(1e9===r?new cl(n+1,0):new cl(n,r));return new xl(i,pl.empty(),t)}function yl(e){return new xl(e.readTime,e.key,-1)}class xl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new xl(ul.min(),pl.empty(),-1)}static max(){return new xl(ul.max(),pl.empty(),-1)}}function bl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pl.comparator(e.documentKey,t.documentKey),0!==n?n:ol(e.largestBatchId,t.largestBatchId))}const wl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Nl(e){if(e.code!==Xo.FAILED_PRECONDITION||e.message!==wl)throw e;Bo("LocalStore","Unexpectedly lost primary lease")}class Sl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Wo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Sl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Sl?t:Sl.resolve(t)}catch(e){return Sl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Sl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Sl.reject(t)}static resolve(e){return new Sl((t,n)=>{t(e)})}static reject(e){return new Sl((t,n)=>{n(e)})}static waitFor(e){return new Sl((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Sl.resolve(!1);for(const n of e)t=t.next(e=>e?Sl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Sl((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Sl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function kl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(e){return"IndexedDbTransactionError"===e.name}class Cl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function _l(e){return null==e}function Ol(e){return 0===e&&1/e==-1/0}function Tl(e){return"number"==typeof e&&Number.isInteger(e)&&!Ol(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Cl.oe=-1;const Al=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Il=Pl,Dl=[...Il,"indexConfiguration","indexState","indexEntries"];function Rl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ml(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ll(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Fl{constructor(e,t){this.comparator=e,this.root=t||zl.EMPTY}insert(e,t){return new Fl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zl.BLACK,null,null))}remove(e){return new Fl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ul(this.root,e,this.comparator,!0)}}class Ul{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:zl.RED,this.left=null!=r?r:zl.EMPTY,this.right=null!=i?i:zl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new zl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return zl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return zl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Wo();if(this.right.isRed())throw Wo();const e=this.left.check();if(e!==this.right.check())throw Wo();return e+(this.isRed()?0:1)}}zl.EMPTY=null,zl.RED=!0,zl.BLACK=!1,zl.EMPTY=new class{constructor(){this.size=0}get key(){throw Wo()}get value(){throw Wo()}get color(){throw Wo()}get left(){throw Wo()}get right(){throw Wo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new zl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bl{constructor(e){this.comparator=e,this.data=new Fl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(e){return new Vl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Bl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bl(this.comparator);return t.data=e,t}}class Vl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ql{constructor(e){this.fields=e,e.sort(ml.comparator)}static empty(){return new ql([])}unionWith(e){let t=new Bl(ml.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ql(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Hl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Hl("Invalid base64 string: "+e):e}}(e);return new Wl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Wl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ol(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wl.EMPTY_BYTE_STRING=new Wl("");const Kl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(e){if(Ko(!!e),"string"==typeof e){let t=0;const n=Kl.exec(e);if(Ko(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xl(e.seconds),nanos:Xl(e.nanos)}}function Xl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gl(e){return"string"==typeof e?Wl.fromBase64String(e):Wl.fromUint8Array(e)}function Yl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $l(e){const t=e.mapValue.fields.__previous_value__;return Yl(t)?$l(t):t}function Jl(e){const t=Ql(e.mapValue.fields.__local_write_time__.timestampValue);return new cl(t.seconds,t.nanos)}class Zl{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class ec{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ec("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function nc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yl(e)?4:yc(e)?9007199254740991:gc(e)?10:11:Wo()}function rc(e,t){if(e===t)return!0;const n=nc(e);if(n!==nc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jl(e).isEqual(Jl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ql(e.timestampValue),r=Ql(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gl(e.bytesValue).isEqual(Gl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xl(e.geoPointValue.latitude)===Xl(t.geoPointValue.latitude)&&Xl(e.geoPointValue.longitude)===Xl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xl(e.integerValue)===Xl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Xl(e.doubleValue),r=Xl(t.doubleValue);return n===r?Ol(n)===Ol(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ll(e.arrayValue.values||[],t.arrayValue.values||[],rc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Rl(n)!==Rl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rc(n[i],r[i])))return!1;return!0}(e,t);default:return Wo()}}function ic(e,t){return void 0!==(e.values||[]).find(e=>rc(e,t))}function ac(e,t){if(e===t)return 0;const n=nc(e),r=nc(t);if(n!==r)return ol(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ol(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Xl(e.integerValue||e.doubleValue),r=Xl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sc(e.timestampValue,t.timestampValue);case 4:return sc(Jl(e),Jl(t));case 5:return ol(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Gl(e),r=Gl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ol(n[i],r[i]);if(0!==e)return e}return ol(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ol(Xl(e.latitude),Xl(t.latitude));return 0!==n?n:ol(Xl(e.longitude),Xl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return oc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=ol((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:oc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===tc.mapValue&&t===tc.mapValue)return 0;if(e===tc.mapValue)return 1;if(t===tc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=ol(r[s],a[s]);if(0!==e)return e;const t=ac(n[r[s]],i[a[s]]);if(0!==t)return t}return ol(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Wo()}}function sc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ol(e,t);const n=Ql(e),r=Ql(t),i=ol(n.seconds,r.seconds);return 0!==i?i:ol(n.nanos,r.nanos)}function oc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ac(n[i],r[i]);if(e)return e}return ol(n.length,r.length)}function lc(e){return cc(e)}function cc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ql(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Gl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return pl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=cc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(cc(e.fields[i]));return n+"}"}(e.mapValue):Wo()}function uc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function dc(e){return!!e&&"integerValue"in e}function hc(e){return!!e&&"arrayValue"in e}function fc(e){return!!e&&"nullValue"in e}function mc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pc(e){return!!e&&"mapValue"in e}function gc(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ml(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=vc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function yc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class xc{constructor(e){this.value=e}static empty(){return new xc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=ml.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=vc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];pc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ml(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new xc(vc(this.value))}}function bc(e){const t=[];return Ml(e.fields,(e,n)=>{const r=new ml([e]);if(pc(n)){const e=bc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ql(t)}class wc{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new wc(e,0,ul.min(),ul.min(),ul.min(),xc.empty(),0)}static newFoundDocument(e,t,n,r){return new wc(e,1,t,ul.min(),n,r,0)}static newNoDocument(e,t){return new wc(e,2,t,ul.min(),ul.min(),xc.empty(),0)}static newUnknownDocument(e,t){return new wc(e,3,t,ul.min(),ul.min(),xc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ul.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ul.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class jc{constructor(e,t){this.position=e,this.inclusive=t}}function Nc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?pl.comparator(pl.fromName(s.referenceValue),n.key):ac(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Sc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rc(e.position[n],t.position[n]))return!1;return!0}class kc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ec(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Cc{}class _c extends Cc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Mc(e,t,n):"array-contains"===t?new zc(e,n):"in"===t?new Bc(e,n):"not-in"===t?new Vc(e,n):"array-contains-any"===t?new qc(e,n):new _c(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Lc(e,n):new Fc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ac(t,this.value)):null!==t&&nc(this.value)===nc(t)&&this.matchesComparison(ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oc extends Cc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Oc(e,t)}matches(e){return Tc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tc(e){return"and"===e.op}function Ac(e){return Pc(e)&&Tc(e)}function Pc(e){for(const t of e.filters)if(t instanceof Oc)return!1;return!0}function Ic(e){if(e instanceof _c)return e.field.canonicalString()+e.op.toString()+lc(e.value);if(Ac(e))return e.filters.map(e=>Ic(e)).join(",");{const t=e.filters.map(e=>Ic(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Dc(e,t){return e instanceof _c?function(e,t){return t instanceof _c&&e.op===t.op&&e.field.isEqual(t.field)&&rc(e.value,t.value)}(e,t):e instanceof Oc?function(e,t){return t instanceof Oc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Dc(n,t.filters[r]),!0)}(e,t):void Wo()}function Rc(e){return e instanceof _c?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(lc(e.value))}(e):e instanceof Oc?function(e){return e.op.toString()+" {"+e.getFilters().map(Rc).join(" ,")+"}"}(e):"Filter"}class Mc extends _c{constructor(e,t,n){super(e,t,n),this.key=pl.fromName(n.referenceValue)}matches(e){const t=pl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lc extends _c{constructor(e,t){super(e,"in",t),this.keys=Uc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fc extends _c{constructor(e,t){super(e,"not-in",t),this.keys=Uc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>pl.fromName(e.referenceValue))}class zc extends _c{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hc(t)&&ic(t.arrayValue,this.value)}}class Bc extends _c{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ic(this.value.arrayValue,t)}}class Vc extends _c{constructor(e,t){super(e,"not-in",t)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ic(this.value.arrayValue,t)}}class qc extends _c{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ic(this.value.arrayValue,e))}}class Hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.ue=null}}function Wc(e){return new Hc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Kc(e){const t=Qo(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Ic(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),_l(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>lc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>lc(e)).join(",")),t.ue=e}return t.ue}function Qc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ec(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Dc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sc(e.startAt,t.startAt)&&Sc(e.endAt,t.endAt)}function Xc(e){return pl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Gc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Yc(e,t,n,r,i,a,s,o){return new Gc(e,t,n,r,i,a,s,o)}function $c(e){return new Gc(e)}function Jc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zc(e){return null!==e.collectionGroup}function eu(e){const t=Qo(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Bl(ml.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new kc(r,n))}),e.has(ml.keyField().canonicalString())||t.ce.push(new kc(ml.keyField(),n))}return t.ce}function tu(e){const t=Qo(e);return t.le||(t.le=nu(t,eu(e))),t.le}function nu(e,t){if("F"===e.limitType)return Wc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new kc(e.field,t)});const n=e.endAt?new jc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new jc(e.startAt.position,e.startAt.inclusive):null;return Wc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ru(e,t){const n=e.filters.concat([t]);return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function iu(e,t,n){return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function au(e,t){return Qc(tu(e),tu(t))&&e.limitType===t.limitType}function su(e){return"".concat(Kc(tu(e)),"|lt:").concat(e.limitType)}function ou(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Rc(e)).join(", "),"]")),_l(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>lc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>lc(e)).join(",")),"Target(".concat(t,")")}(tu(e)),"; limitType=").concat(e.limitType,")")}function lu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of eu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Nc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,eu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Nc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,eu(e),t))}(e,t)}function cu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uu(e){return(t,n)=>{let r=!1;for(const i of eu(e)){const e=du(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function du(e,t,n){const r=e.field.isKeyField()?pl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ac(r,i):Wo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wo()}}class hu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ml(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Ll(this.inner)}size(){return this.innerSize}}const fu=new Fl(pl.comparator);function mu(){return fu}const pu=new Fl(pl.comparator);function gu(){let e=pu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function vu(e){let t=pu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function yu(){return bu()}function xu(){return bu()}function bu(){return new hu(e=>e.toString(),(e,t)=>e.isEqual(t))}const wu=new Fl(pl.comparator),ju=new Bl(pl.comparator);function Nu(){let e=ju;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Su=new Bl(ol);function ku(){return Su}function Eu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ol(t)?"-0":t}}function Cu(e){return{integerValue:""+e}}function _u(e,t){return Tl(t)?Cu(t):Eu(e,t)}class Ou{constructor(){this._=void 0}}function Tu(e,t,n){return e instanceof Iu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Yl(t)&&(t=$l(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Du?Ru(e,t):e instanceof Mu?Lu(e,t):function(e,t){const n=Pu(e,t),r=Uu(n)+Uu(e.Pe);return dc(n)&&dc(e.Pe)?Cu(r):Eu(e.serializer,r)}(e,t)}function Au(e,t,n){return e instanceof Du?Ru(e,t):e instanceof Mu?Lu(e,t):n}function Pu(e,t){return e instanceof Fu?function(e){return dc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Iu extends Ou{}class Du extends Ou{constructor(e){super(),this.elements=e}}function Ru(e,t){const n=zu(t);for(const r of e.elements)n.some(e=>rc(e,r))||n.push(r);return{arrayValue:{values:n}}}class Mu extends Ou{constructor(e){super(),this.elements=e}}function Lu(e,t){let n=zu(t);for(const r of e.elements)n=n.filter(e=>!rc(e,r));return{arrayValue:{values:n}}}class Fu extends Ou{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Uu(e){return Xl(e.integerValue||e.doubleValue)}function zu(e){return hc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Bu{constructor(e,t){this.field=e,this.transform=t}}class Vu{constructor(e,t){this.version=e,this.transformResults=t}}class qu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qu}static exists(e){return new qu(void 0,e)}static updateTime(e){return new qu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Wu{}function Ku(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nd(e.key,qu.none()):new $u(e.key,e.data,qu.none());{const n=e.data,r=xc.empty();let i=new Bl(ml.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ju(e.key,r,new ql(i.toArray()),qu.none())}}function Qu(e,t,n){e instanceof $u?function(e,t,n){const r=e.value.clone(),i=ed(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ju?function(e,t,n){if(!Hu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ed(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xu(e,t,n,r){return e instanceof $u?function(e,t,n,r){if(!Hu(e.precondition,t))return n;const i=e.value.clone(),a=td(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ju?function(e,t,n,r){if(!Hu(e.precondition,t))return n;const i=td(e.fieldTransforms,r,t),a=t.data;return a.setAll(Zu(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Hu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Gu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Pu(r.transform,e||null);null!=i&&(null===n&&(n=xc.empty()),n.set(r.field,i))}return n||null}function Yu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ll(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Du&&t instanceof Du||e instanceof Mu&&t instanceof Mu?ll(e.elements,t.elements,rc):e instanceof Fu&&t instanceof Fu?rc(e.Pe,t.Pe):e instanceof Iu&&t instanceof Iu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $u extends Wu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ju extends Wu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ed(e,t,n){const r=new Map;Ko(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,Au(s,o,n[i]))}return r}function td(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Tu(e,a,t))}return r}class nd extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rd extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class id{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Qu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xu();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Ku(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ul.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Nu())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(e,t)=>Yu(e,t))&&ll(this.baseMutations,e.baseMutations,(e,t)=>Yu(e,t))}}class ad{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ko(e.mutations.length===n.length);let r=wu;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new ad(e,t,n,r)}}class sd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class od{constructor(e,t){this.count=e,this.unchangedNames=t}}var ld,cd;function ud(e){switch(e){default:return Wo();case Xo.CANCELLED:case Xo.UNKNOWN:case Xo.DEADLINE_EXCEEDED:case Xo.RESOURCE_EXHAUSTED:case Xo.INTERNAL:case Xo.UNAVAILABLE:case Xo.UNAUTHENTICATED:return!1;case Xo.INVALID_ARGUMENT:case Xo.NOT_FOUND:case Xo.ALREADY_EXISTS:case Xo.PERMISSION_DENIED:case Xo.FAILED_PRECONDITION:case Xo.ABORTED:case Xo.OUT_OF_RANGE:case Xo.UNIMPLEMENTED:case Xo.DATA_LOSS:return!0}}function dd(e){if(void 0===e)return Vo("GRPC error has no .code"),Xo.UNKNOWN;switch(e){case ld.OK:return Xo.OK;case ld.CANCELLED:return Xo.CANCELLED;case ld.UNKNOWN:return Xo.UNKNOWN;case ld.DEADLINE_EXCEEDED:return Xo.DEADLINE_EXCEEDED;case ld.RESOURCE_EXHAUSTED:return Xo.RESOURCE_EXHAUSTED;case ld.INTERNAL:return Xo.INTERNAL;case ld.UNAVAILABLE:return Xo.UNAVAILABLE;case ld.UNAUTHENTICATED:return Xo.UNAUTHENTICATED;case ld.INVALID_ARGUMENT:return Xo.INVALID_ARGUMENT;case ld.NOT_FOUND:return Xo.NOT_FOUND;case ld.ALREADY_EXISTS:return Xo.ALREADY_EXISTS;case ld.PERMISSION_DENIED:return Xo.PERMISSION_DENIED;case ld.FAILED_PRECONDITION:return Xo.FAILED_PRECONDITION;case ld.ABORTED:return Xo.ABORTED;case ld.OUT_OF_RANGE:return Xo.OUT_OF_RANGE;case ld.UNIMPLEMENTED:return Xo.UNIMPLEMENTED;case ld.DATA_LOSS:return Xo.DATA_LOSS;default:return Wo()}}(cd=ld||(ld={}))[cd.OK=0]="OK",cd[cd.CANCELLED=1]="CANCELLED",cd[cd.UNKNOWN=2]="UNKNOWN",cd[cd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cd[cd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cd[cd.NOT_FOUND=5]="NOT_FOUND",cd[cd.ALREADY_EXISTS=6]="ALREADY_EXISTS",cd[cd.PERMISSION_DENIED=7]="PERMISSION_DENIED",cd[cd.UNAUTHENTICATED=16]="UNAUTHENTICATED",cd[cd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cd[cd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cd[cd.ABORTED=10]="ABORTED",cd[cd.OUT_OF_RANGE=11]="OUT_OF_RANGE",cd[cd.UNIMPLEMENTED=12]="UNIMPLEMENTED",cd[cd.INTERNAL=13]="INTERNAL",cd[cd.UNAVAILABLE=14]="UNAVAILABLE",cd[cd.DATA_LOSS=15]="DATA_LOSS";let hd=null;function fd(){return new TextEncoder}const md=new jo([4294967295,4294967295],0);function pd(e){const t=fd().encode(e),n=new No;return n.update(t),new Uint8Array(n.digest())}function gd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new jo([n,r],0),new jo([i,a],0)]}class vd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yd("Invalid padding: ".concat(t));if(n<0)throw new yd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new yd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new yd("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=jo.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(jo.fromNumber(n)));return 1===r.compare(md)&&(r=new jo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=pd(e),[n,r]=gd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new vd(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.Ie)return;const t=pd(e),[n,r]=gd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new xd(ul.min(),r,new Fl(ol),mu(),Nu())}}class bd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bd(n,t,Nu(),Nu(),Nu())}}class wd{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class jd{constructor(e,t){this.targetId=e,this.me=t}}class Nd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Sd{constructor(){this.fe=0,this.ge=Cd(),this.pe=Wl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Nu(),t=Nu(),n=Nu();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wo()}}),new bd(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Cd()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ko(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kd{constructor(e){this.Le=e,this.Be=new Map,this.ke=mu(),this.qe=Ed(),this.Qe=new Fl(ol)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Wo()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Xc(i))if(0===n){const e=new pl(i.path);this.Ue(t,e,wc.newNoDocument(e,ul.min()))}else Ko(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==hd||hd.et(function(e,t,n,r,i){var a,s,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=Gl(n).toUint8Array()}catch(e){if(e instanceof Hl)return qo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new vd(a,r,i)}catch(e){return qo(e instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Xc(i.target)){const t=new pl(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,wc.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Nu();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new xd(e,t,this.Qe,this.ke,n);return this.ke=mu(),this.qe=Ed(),this.Qe=new Fl(ol),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Sd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bl(ol),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Bo("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ed(){return new Fl(pl.comparator)}function Cd(){return new Fl(pl.comparator)}const _d={asc:"ASCENDING",desc:"DESCENDING"},Od={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Td={and:"AND",or:"OR"};class Ad{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pd(e,t){return e.useProto3Json||_l(t)?t:{value:t}}function Id(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Rd(e,t){return Id(e,t.toTimestamp())}function Md(e){return Ko(!!e),ul.fromTimestamp(function(e){const t=Ql(e);return new cl(t.seconds,t.nanos)}(e))}function Ld(e,t){return Fd(e,t).canonicalString()}function Fd(e,t){const n=function(e){return new hl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ud(e){const t=hl.fromString(e);return Ko(ah(t)),t}function zd(e,t){return Ld(e.databaseId,t.path)}function Bd(e,t){const n=Ud(t);if(n.get(1)!==e.databaseId.projectId)throw new Go(Xo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Go(Xo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pl(Wd(n))}function Vd(e,t){return Ld(e.databaseId,t)}function qd(e){const t=Ud(e);return 4===t.length?hl.emptyPath():Wd(t)}function Hd(e){return new hl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wd(e){return Ko(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kd(e,t,n){return{name:zd(e,t),fields:n.value.mapValue.fields}}function Qd(e,t){let n;if(t instanceof $u)n={update:Kd(e,t.key,t.value)};else if(t instanceof nd)n={delete:zd(e,t.key)};else if(t instanceof Ju)n={update:Kd(e,t.key,t.data),updateMask:ih(t.fieldMask)};else{if(!(t instanceof rd))return Wo();n={verify:zd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Du)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fu)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Wo()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Rd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wo()}(e,t.precondition)),n}function Xd(e,t){return{documents:[Vd(e,t.path)]}}function Gd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vd(e,i);const a=function(e){if(0!==e.length)return rh(Oc.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:th(e.field),direction:Jd(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Pd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Yd(e){let t=qd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ko(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=$d(e);return t instanceof Oc&&Ac(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new kc(nh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,_l(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new jc(n,t)}(n.endAt)),Yc(t,i,s,a,o,"F",l,c)}function $d(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nh(e.unaryFilter.field);return _c.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nh(e.unaryFilter.field);return _c.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nh(e.unaryFilter.field);return _c.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nh(e.unaryFilter.field);return _c.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wo()}}(e):void 0!==e.fieldFilter?function(e){return _c.create(nh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Oc.create(e.compositeFilter.filters.map(e=>$d(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Wo()}}(e.compositeFilter.op))}(e):Wo()}function Jd(e){return _d[e]}function Zd(e){return Od[e]}function eh(e){return Td[e]}function th(e){return{fieldPath:e.canonicalString()}}function nh(e){return ml.fromServerFormat(e.fieldPath)}function rh(e){return e instanceof _c?function(e){if("=="===e.op){if(mc(e.value))return{unaryFilter:{field:th(e.field),op:"IS_NAN"}};if(fc(e.value))return{unaryFilter:{field:th(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mc(e.value))return{unaryFilter:{field:th(e.field),op:"IS_NOT_NAN"}};if(fc(e.value))return{unaryFilter:{field:th(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:th(e.field),op:Zd(e.op),value:e.value}}}(e):e instanceof Oc?function(e){const t=e.getFilters().map(e=>rh(e));return 1===t.length?t[0]:{compositeFilter:{op:eh(e.op),filters:t}}}(e):Wo()}function ih(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ah(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class sh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ul.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ul.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oh{constructor(e){this.ct=e}}function lh(e){const t=Yd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iu(t,t.limit,"L"):t}class ch{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Xl(e.integerValue));else if("doubleValue"in e){const n=Xl(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Ol(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Ql(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Gl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?yc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):gc(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Wo()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const a="value",s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Xl(s)),this.Vt(a,t),this.Tt(i[a],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),pl.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}ch.vt=new ch;class uh{constructor(){this.un=new dh}addToCollectionParentIndex(e,t){return this.un.add(t),Sl.resolve()}getCollectionParents(e,t){return Sl.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Sl.resolve()}deleteFieldIndex(e,t){return Sl.resolve()}deleteAllFieldIndexes(e){return Sl.resolve()}createTargetIndexes(e,t){return Sl.resolve()}getDocumentsMatchingTarget(e,t){return Sl.resolve(null)}getIndexType(e,t){return Sl.resolve(0)}getFieldIndexes(e,t){return Sl.resolve([])}getNextCollectionGroupToUpdate(e){return Sl.resolve(null)}getMinOffset(e,t){return Sl.resolve(xl.min())}getMinOffsetFromCollectionGroup(e,t){return Sl.resolve(xl.min())}updateCollectionGroup(e,t,n){return Sl.resolve()}updateIndexEntries(e,t){return Sl.resolve()}}class dh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bl(hl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Bl(hl.comparator)).toArray()}}new Uint8Array(0);class hh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new hh(e,hh.DEFAULT_COLLECTION_PERCENTILE,hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hh.DEFAULT_COLLECTION_PERCENTILE=10,hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hh.DEFAULT=new hh(41943040,hh.DEFAULT_COLLECTION_PERCENTILE,hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hh.DISABLED=new hh(-1,0,0);class fh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new fh(0)}static kn(){return new fh(-1)}}class mh{constructor(){this.changes=new hu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Sl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ph{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Xu(n.mutation,e,ql.empty(),cl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Nu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu();const r=yu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=gu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=yu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Nu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=mu();const a=bu(),s=bu();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ju)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Xu(s.mutation,t,s.mutation.getFieldMask(),cl.now())):a.set(t.key,ql.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ph(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=bu();let r=new Fl((e,t)=>e-t),i=Nu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||ql.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Nu()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=xu();l.forEach(e=>{if(!i.has(e)){const r=Ku(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Sl.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return pl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Sl.resolve(yu());let s=-1,o=i;return a.next(t=>Sl.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Sl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Nu())).next(e=>({batchId:s,changes:vu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pl(t)).next(e=>{let t=gu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=gu();return this.indexManager.getCollectionParents(e,i).next(s=>Sl.forEach(s,s=>{const o=function(e,t){return new Gc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,wc.newInvalidDocument(r)))});let n=gu();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Xu(a.mutation,r,ql.empty(),cl.now()),lu(t,r)&&(n=n.insert(e,r))}),n})}}class vh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Sl.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Md(e.createTime)}}(t)),Sl.resolve()}getNamedQuery(e,t){return Sl.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:lh(e.bundledQuery),readTime:Md(e.readTime)}}(t)),Sl.resolve()}}class yh{constructor(){this.overlays=new Fl(pl.comparator),this.Ir=new Map}getOverlay(e,t){return Sl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=yu();return Sl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),Sl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),Sl.resolve()}getOverlaysForCollection(e,t,n){const r=yu(),i=t.length+1,a=new pl(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Sl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Fl((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=yu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=yu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Sl.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new sd(t,n));let i=this.Ir.get(t);void 0===i&&(i=Nu(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class xh{constructor(){this.sessionToken=Wl.EMPTY_BYTE_STRING}getSessionToken(e){return Sl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Sl.resolve()}}class bh{constructor(){this.Tr=new Bl(wh.Er),this.dr=new Bl(wh.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new wh(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new wh(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new pl(new hl([])),n=new wh(t,e),r=new wh(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new pl(new hl([])),n=new wh(t,e),r=new wh(t,e+1);let i=Nu();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new wh(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class wh{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return pl.comparator(e.key,t.key)||ol(e.wr,t.wr)}static Ar(e,t){return ol(e.wr,t.wr)||pl.comparator(e.key,t.key)}}class jh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Bl(wh.Er)}checkEmpty(e){return Sl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new id(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.br=this.br.add(new wh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Sl.resolve(a)}lookupMutationBatch(e,t){return Sl.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Sl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Sl.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Sl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new wh(t,0),r=new wh(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),Sl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bl(ol);return t.forEach(e=>{const t=new wh(e,0),r=new wh(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),Sl.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;pl.isDocumentKey(i)||(i=i.child(""));const a=new wh(new pl(i),0);let s=new Bl(ol);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.wr)),!0)},a),Sl.resolve(this.Cr(s))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ko(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Sl.forEach(t.mutations,r=>{const i=new wh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new wh(t,0),r=this.br.firstAfterOrEqual(n);return Sl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Sl.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nh{constructor(e){this.Mr=e,this.docs=new Fl(pl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Sl.resolve(n?n.document.mutableCopy():wc.newInvalidDocument(t))}getEntries(e,t){let n=mu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():wc.newInvalidDocument(e))}),Sl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=mu();const a=t.path,s=new pl(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||bl(yl(s),n)<=0||(r.has(s.key)||lu(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Sl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Wo()}Or(e,t){return Sl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Sh(this)}getSize(e){return Sl.resolve(this.size)}}class Sh extends mh{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),Sl.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class kh{constructor(e){this.persistence=e,this.Nr=new hu(e=>Kc(e),Qc),this.lastRemoteSnapshotVersion=ul.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bh,this.targetCount=0,this.kr=fh.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),Sl.resolve()}getLastRemoteSnapshotVersion(e){return Sl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Sl.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Sl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Sl.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new fh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Sl.resolve()}updateTargetData(e,t){return this.Kn(t),Sl.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Sl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Sl.waitFor(i).next(()=>r)}getTargetCount(e){return Sl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Sl.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Sl.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Sl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Sl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Sl.resolve(n)}containsKey(e,t){return Sl.resolve(this.Br.containsKey(t))}}class Eh{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Cl(0),this.Kr=!1,this.Kr=!0,this.$r=new xh,this.referenceDelegate=e(this),this.Ur=new kh(this),this.indexManager=new uh,this.remoteDocumentCache=function(e){return new Nh(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new oh(t),this.Gr=new vh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new jh(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Bo("MemoryPersistence","Starting transaction:",e);const r=new Ch(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return Sl.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Ch extends jl{constructor(e){super(),this.currentSequenceNumber=e}}class _h{constructor(e){this.persistence=e,this.Jr=new bh,this.Yr=null}static Zr(e){return new _h(e)}get Xr(){if(this.Yr)return this.Yr;throw Wo()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Sl.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Sl.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Sl.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sl.forEach(this.Xr,n=>{const r=pl.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,ul.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Sl.or([()=>Sl.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Oh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Nu(),r=Nu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Oh(e,t.fromCache,n,r)}}class Th{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ah{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=gn()?8:kl(pn())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Th;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(zo()<=Dn.DEBUG&&Bo("QueryEngine","SDK will not create cache indexes for query:",ou(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Sl.resolve()):(zo()<=Dn.DEBUG&&Bo("QueryEngine","Query:",ou(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(zo()<=Dn.DEBUG&&Bo("QueryEngine","The SDK decides to create cache indexes for query:",ou(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tu(t))):Sl.resolve())}Yi(e,t){if(Jc(t))return Sl.resolve(null);let n=tu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=iu(t,null,"F"),n=tu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Nu(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.ts(t,r);return this.ns(t,a,i,n.readTime)?this.Yi(e,iu(t,null,"F")):this.rs(e,a,t,n)}))})))}Zi(e,t,n,r){return Jc(t)||r.isEqual(ul.min())?Sl.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const a=this.ts(t,i);return this.ns(t,a,n,r)?Sl.resolve(null):(zo()<=Dn.DEBUG&&Bo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ou(t)),this.rs(e,a,t,vl(r,-1)).next(e=>e))})}ts(e,t){let n=new Bl(uu(e));return t.forEach((t,r)=>{lu(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return zo()<=Dn.DEBUG&&Bo("QueryEngine","Using full collection scan to execute query:",ou(t)),this.Ji.getDocumentsMatchingQuery(e,t,xl.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Ph{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Fl(ol),this._s=new hu(e=>Kc(e),Qc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Ih(e,t,n,r){return new Ph(e,t,n,r)}async function Dh(e,t){const n=Qo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=Nu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:a}))})})}function Rh(e){const t=Qo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function Mh(e,t,n){let r=Nu(),i=Nu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=mu();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ul.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Bo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{Ps:r,Is:i}})}function Lh(e,t){const n=Qo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Fh(e,t){const n=Qo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,Sl.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new sh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Uh(e,t,n){const r=Qo(e),i=r.os.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!El(e))throw e;Bo("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function zh(e,t,n){const r=Qo(e);let i=ul.min(),a=Nu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Qo(e),i=r._s.get(n);return void 0!==i?Sl.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,tu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:ul.min(),n?a:Nu())).next(e=>(Bh(r,cu(t),e),{documents:e,Ts:a})))}function Bh(e,t,n){let r=e.us.get(t)||ul.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Vh{constructor(){this.activeTargetIds=ku()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qh{constructor(){this.so=new Vh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hh{_o(e){}shutdown(){}}class Wh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Bo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Bo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kh=null;function Qh(){return null===Kh?Kh=268435456+Math.round(2147483648*Math.random()):Kh++,"0x"+Kh.toString(16)}const Xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gh{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Yh="WebChannelConnection";class $h extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const a=Qh(),s=this.xo(e,t.toUriEncodedString());Bo("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,s,o,n).then(t=>(Bo("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw qo("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}Lo(e,t,n,r,i,a){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Xh[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Qh();return new Promise((a,s)=>{const o=new Eo;o.setWithCredentials(!0),o.listenOnce(_o.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Oo.NO_ERROR:const t=o.getResponseJson();Bo(Yh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Oo.TIMEOUT:Bo(Yh,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Go(Xo.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:const n=o.getStatus();if(Bo(Yh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xo).indexOf(t)>=0?t:Xo.UNKNOWN}(t.status);s(new Go(e,t.message))}else s(new Go(Xo.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Go(Xo.UNAVAILABLE,"Connection failed."));break;default:Wo()}}finally{Bo(Yh,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Bo(Yh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Qh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Io(),s=Po(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Bo(Yh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);let d=!1,h=!1;const f=new Gh({Io:t=>{h?Bo(Yh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Bo(Yh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Bo(Yh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,Co.EventType.OPEN,()=>{h||(Bo(Yh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),m(u,Co.EventType.CLOSE,()=>{h||(h=!0,Bo(Yh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),m(u,Co.EventType.ERROR,t=>{h||(h=!0,qo(Yh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new Go(Xo.UNAVAILABLE,"The operation could not be completed")))}),m(u,Co.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Ko(!!i);const a=i,s=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Bo(Yh,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=ld[e];if(void 0!==t)return dd(t)}(t),i=s.message;void 0===n&&(n=Xo.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.So(new Go(n,i)),u.close()}else Bo(Yh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),m(s,Ao.STAT_EVENT,t=>{t.stat===To.PROXY?Bo(Yh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===To.NOPROXY&&Bo(Yh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function Jh(){return"undefined"!=typeof document?document:null}function Zh(e){return new Ad(e,!0)}class ef{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Bo("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class tf{constructor(e,t,n,r,i,a,s,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ef(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Xo.RESOURCE_EXHAUSTED?(Vo(t.toString()),Vo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Xo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new Go(Xo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Bo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Bo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nf extends tf{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ko(void 0===t||"string"==typeof t),Wl.fromBase64String(t||"")):(Ko(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Wl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Xo.UNKNOWN:dd(e.code);return new Go(t,e.message||"")}(s);n=new Nd(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bd(e,r.document.name),a=Md(r.document.updateTime),s=r.document.createTime?Md(r.document.createTime):ul.min(),o=new xc({mapValue:{fields:r.document.fields}}),l=wc.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new wd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Bd(e,r.document),a=r.readTime?Md(r.readTime):ul.min(),s=wc.newNoDocument(i,a),o=r.removedTargetIds||[];n=new wd([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Bd(e,r.document),a=r.removedTargetIds||[];n=new wd([],a,i,null)}else{if(!("filter"in t))return Wo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new od(r,i),s=e.targetId;n=new jd(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ul.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ul.min():t.readTime?Md(t.readTime):ul.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Hd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Xc(r)?{documents:Xd(e,r)}:{query:Gd(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Dd(e,t.resumeToken);const r=Pd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ul.min())>0){n.readTime=Id(e,t.snapshotVersion.toTimestamp());const r=Pd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Hd(this.serializer),t.removeTarget=e,this.a_(t)}}class rf extends tf{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ko(!!e.streamToken),this.lastStreamToken=e.streamToken,Ko(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ko(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Ko(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Md(e.updateTime):Md(t);return n.isEqual(ul.min())&&(n=Md(t)),new Vu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Md(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Hd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Qd(this.serializer,e))};this.a_(t)}}class af extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Go(Xo.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Mo(e,Fd(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Go(Xo.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Lo(e,Fd(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Go(Xo.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Vo(t),this.D_=!1):Bo("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class of{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{gf(this)&&(Bo("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Qo(e);t.L_.add(4),await cf(t),t.q_.set("Unknown"),t.L_.delete(4),await lf(t)}(this))})}),this.q_=new sf(n,r)}}async function lf(e){if(gf(e))for(const t of e.B_)await t(!0)}async function cf(e){for(const t of e.B_)await t(!1)}function uf(e,t){const n=Qo(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),pf(n)?mf(n):Rf(n).r_()&&hf(n,t))}function df(e,t){const n=Qo(e),r=Rf(n);n.N_.delete(t),r.r_()&&ff(n,t),0===n.N_.size&&(r.r_()?r.o_():gf(n)&&n.q_.set("Unknown"))}function hf(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ul.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Rf(e).A_(t)}function ff(e,t){e.Q_.xe(t),Rf(e).R_(t)}function mf(e){e.Q_=new kd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Rf(e).start(),e.q_.v_()}function pf(e){return gf(e)&&!Rf(e).n_()&&e.N_.size>0}function gf(e){return 0===Qo(e).L_.size}function vf(e){e.Q_=void 0}async function yf(e){e.q_.set("Online")}async function xf(e){e.N_.forEach((t,n)=>{hf(e,t)})}async function bf(e,t){vf(e),pf(e)?(e.q_.M_(t),mf(e)):e.q_.set("Unknown")}async function wf(e,t,n){if(e.q_.set("Online"),t instanceof Nd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Bo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await jf(e,n)}else if(t instanceof wd?e.Q_.Ke(t):t instanceof jd?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ul.min()))try{const t=await Rh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Wl.EMPTY_BYTE_STRING,r.snapshotVersion)),ff(e,t);const i=new sh(r.target,t,n,r.sequenceNumber);hf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Bo("RemoteStore","Failed to raise snapshot:",t),await jf(e,t)}}async function jf(e,t,n){if(!El(t))throw t;e.L_.add(1),await cf(e),e.q_.set("Offline"),n||(n=()=>Rh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Bo("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await lf(e)})}function Nf(e,t){return t().catch(n=>jf(e,n,t))}async function Sf(e){const t=Qo(e),n=Mf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;kf(t);)try{const e=await Lh(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Ef(t,e)}catch(e){await jf(t,e)}Cf(t)&&_f(t)}function kf(e){return gf(e)&&e.O_.length<10}function Ef(e,t){e.O_.push(t);const n=Mf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Cf(e){return gf(e)&&!Mf(e).n_()&&e.O_.length>0}function _f(e){Mf(e).start()}async function Of(e){Mf(e).p_()}async function Tf(e){const t=Mf(e);for(const n of e.O_)t.m_(n.mutations)}async function Af(e,t,n){const r=e.O_.shift(),i=ad.from(r,t,n);await Nf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Sf(e)}async function Pf(e,t){t&&Mf(e).V_&&await async function(e,t){if(function(e){return ud(e)&&e!==Xo.ABORTED}(t.code)){const n=e.O_.shift();Mf(e).s_(),await Nf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Sf(e)}}(e,t),Cf(e)&&_f(e)}async function If(e,t){const n=Qo(e);n.asyncQueue.verifyOperationInProgress(),Bo("RemoteStore","RemoteStore received new credentials");const r=gf(n);n.L_.add(3),await cf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await lf(n)}async function Df(e,t){const n=Qo(e);t?(n.L_.delete(2),await lf(n)):t||(n.L_.add(2),await cf(n),n.q_.set("Unknown"))}function Rf(e){return e.K_||(e.K_=function(e,t,n){const r=Qo(e);return r.w_(),new nf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:yf.bind(null,e),Ro:xf.bind(null,e),mo:bf.bind(null,e),d_:wf.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),pf(e)?mf(e):e.q_.set("Unknown")):(await e.K_.stop(),vf(e))})),e.K_}function Mf(e){return e.U_||(e.U_=function(e,t,n){const r=Qo(e);return r.w_(),new rf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Of.bind(null,e),mo:Pf.bind(null,e),f_:Tf.bind(null,e),g_:Af.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Sf(e)):(await e.U_.stop(),e.O_.length>0&&(Bo("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class Lf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Lf(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Go(Xo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(e,t){if(Vo("AsyncQueue","".concat(t,": ").concat(e)),El(e))return new Go(Xo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Uf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||pl.comparator(t.key,n.key):(e,t)=>pl.comparator(e.key,t.key),this.keyedMap=gu(),this.sortedSet=new Fl(this.comparator)}static emptySet(e){return new Uf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Uf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class zf{constructor(){this.W_=new Fl(pl.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Wo():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Bf{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Bf(e,t,Uf.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Vf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class qf{constructor(){this.queries=Hf(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Qo(e),r=n.queries;n.queries=Hf(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Go(Xo.ABORTED,"Firestore shutting down"))}}function Hf(){return new hu(e=>su(e),au)}async function Wf(e,t){const n=Qo(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.H_()&&t.J_()&&(r=2):(a=new Vf,r=t.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ff(e,"Initialization of query '".concat(ou(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.j_.push(t),t.Z_(n.onlineState),a.z_&&t.X_(a.z_)&&Gf(n)}async function Kf(e,t){const n=Qo(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.j_.indexOf(t);e>=0&&(a.j_.splice(e,1),0===a.j_.length?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qf(e,t){const n=Qo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Gf(n)}function Xf(e,t,n){const r=Qo(e),i=r.queries.get(t);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(t)}function Gf(e){e.Y_.forEach(e=>{e.next()})}var Yf,$f;($f=Yf||(Yf={})).ea="default",$f.Cache="cache";class Jf{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Bf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yf.Cache}}class Zf{constructor(e){this.key=e}}class em{constructor(e){this.key=e}}class tm{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nu(),this.mutatedKeys=Nu(),this.Aa=uu(e),this.Ra=new Uf(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new zf,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=lu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:a,fa:n,ns:s,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wo()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const s=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==a.length||l?{snapshot:new Bf(this.query,e.Ra,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Nu(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new em(e))}),this.da.forEach(n=>{e.has(n)||t.push(new Zf(n))}),t}ba(e){this.Ta=e.Ts,this.da=Nu();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Bf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class nm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class rm{constructor(e){this.key=e,this.va=!1}}class im{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new hu(e=>su(e),au),this.Ma=new Map,this.xa=new Set,this.Oa=new Fl(pl.comparator),this.Na=new Map,this.La=new bh,this.Ba={},this.ka=new Map,this.qa=fh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function am(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Em(e);let i;const a=r.Fa.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await om(r,t,n,!0),i}async function sm(e,t){const n=Em(e);await om(n,t,!0,!1)}async function om(e,t,n,r){const i=await Fh(e.localStore,tu(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await lm(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&uf(e.remoteStore,i),o}async function lm(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await zh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return bm(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const a=await zh(e.localStore,t,!0),s=new tm(t,a.Ts),o=s.ma(a.documents),l=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);bm(e,n,c.wa);const u=new nm(t,n,s);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function cm(e,t,n){const r=Qo(e),i=r.Fa.get(t),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(e=>!au(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&df(r.remoteStore,i.targetId),ym(r,i.targetId)}).catch(Nl)):(ym(r,i.targetId),await Uh(r.localStore,i.targetId,!0))}async function um(e,t){const n=Qo(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),df(n.remoteStore,r.targetId))}async function dm(e,t){const n=Qo(e);try{const e=await function(e,t){const n=Qo(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Ur.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Wl.EMPTY_BYTE_STRING,ul.min()).withLastLimboFreeSnapshotVersion(ul.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&s.push(n.Ur.updateTargetData(e,c))});let o=mu(),l=Nu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Mh(e,a,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(ul.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Sl.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Ko(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Ko(r.va):e.removedDocuments.size>0&&(Ko(r.va),r.va=!1))}),await Nm(n,e,t)}catch(e){await Nl(e)}}function hm(e,t,n){const r=Qo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Qo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&Gf(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fm(e,t,n){const r=Qo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),a=i&&i.key;if(a){let e=new Fl(pl.comparator);e=e.insert(a,wc.newNoDocument(a,ul.min()));const n=Nu().add(a),i=new xd(ul.min(),new Map,new Fl(ol),e,n);await dm(r,i),r.Oa=r.Oa.remove(a),r.Na.delete(t),jm(r)}else await Uh(r.localStore,t,!1).then(()=>ym(r,t,n)).catch(Nl)}async function mm(e,t){const n=Qo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Qo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Sl.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);Ko(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Nu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);vm(n,r,null),gm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nm(n,e)}catch(e){await Nl(e)}}async function pm(e,t,n){const r=Qo(e);try{const e=await function(e,t){const n=Qo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ko(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);vm(r,t,n),gm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Nm(r,e)}catch(n){await Nl(n)}}function gm(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function vm(e,t,n){const r=Qo(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function ym(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||xm(e,t)})}function xm(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(df(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),jm(e))}function bm(e,t,n){for(const r of n)r instanceof Zf?(e.La.addReference(r.key,t),wm(e,r)):r instanceof em?(Bo("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||xm(e,r.key)):Wo()}function wm(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Bo("SyncEngine","New document in limbo: "+n),e.xa.add(r),jm(e))}function jm(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new pl(hl.fromString(t)),r=e.qa.next();e.Na.set(r,new rm(n)),e.Oa=e.Oa.insert(n,r),uf(e.remoteStore,new sh(tu($c(n.path)),r,"TargetPurposeLimboResolution",Cl.oe))}}async function Nm(e,t,n){const r=Qo(e),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{s.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Oh.Wi(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(e,t){const n=Qo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Sl.forEach(t,t=>Sl.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Sl.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!El(e))throw e;Bo("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,a))}async function Sm(e,t){const n=Qo(e);if(!n.currentUser.isEqual(t)){Bo("SyncEngine","User change. New user:",t.toKey());const e=await Dh(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new Go(Xo.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Nm(n,e.hs)}}function km(e,t){const n=Qo(e),r=n.Na.get(t);if(r&&r.va)return Nu().add(r.key);{let e=Nu();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Em(e){const t=Qo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=km.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fm.bind(null,t),t.Ca.d_=Qf.bind(null,t.eventManager),t.Ca.$a=Xf.bind(null,t.eventManager),t}function Cm(e){const t=Qo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pm.bind(null,t),t}class _m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Ih(this.persistence,new Ah,e.initialUser,this.serializer)}Ga(e){return new Eh(_h.Zr,this.serializer)}Wa(e){return new qh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_m.provider={build:()=>new _m};class Om{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>hm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sm.bind(null,this.syncEngine),await Df(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qf}createDatastore(e){const t=Zh(e.databaseInfo.databaseId),n=function(e){return new $h(e)}(e.databaseInfo);return function(e,t,n,r){return new af(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new of(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>hm(this.syncEngine,e,0),Wh.D()?new Wh:new Hh)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new im(e,t,n,r,i,a);return s&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Qo(e);Bo("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await cf(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Om.provider={build:()=>new Om};class Tm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Am{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Lo.UNAUTHENTICATED,this.clientId=sl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Bo("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Bo("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(qe){const n=Ff(qe,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Pm(e,t){e.asyncQueue.verifyOperationInProgress(),Bo("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Dh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Im(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Dm(e);Bo("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>If(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>If(t.remoteStore,n)),e._onlineComponents=t}async function Dm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Bo("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pm(e,e._uninitializedComponentsProvider._offline)}catch(qe){const n=qe;if(!function(e){return"FirebaseError"===e.name?e.code===Xo.FAILED_PRECONDITION||e.code===Xo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await Pm(e,new _m)}}else Bo("FirestoreClient","Using default OfflineComponentProvider"),await Pm(e,new _m);return e._offlineComponents}async function Rm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Bo("FirestoreClient","Using user provided OnlineComponentProvider"),await Im(e,e._uninitializedComponentsProvider._online)):(Bo("FirestoreClient","Using default OnlineComponentProvider"),await Im(e,new Om))),e._onlineComponents}function Mm(e){return Rm(e).then(e=>e.syncEngine)}async function Lm(e){const t=await Rm(e),n=t.eventManager;return n.onListen=am.bind(null,t.syncEngine),n.onUnlisten=cm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=um.bind(null,t.syncEngine),n}function Fm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Yo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Tm({next:o=>{a.Za(),t.enqueueAndForget(()=>Kf(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Go(Xo.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Go(Xo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Jf($c(n.path),a,{includeMetadataChanges:!0,_a:!0});return Wf(e,s)}(await Lm(e),e.asyncQueue,t,n,r)),r.promise}function Um(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Yo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Tm({next:n=>{a.Za(),t.enqueueAndForget(()=>Kf(e,s)),n.fromCache&&"server"===r.source?i.reject(new Go(Xo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Jf(n,a,{includeMetadataChanges:!0,_a:!0});return Wf(e,s)}(await Lm(e),e.asyncQueue,t,n,r)),r.promise}function zm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Bm=new Map;function Vm(e,t,n){if(!n)throw new Go(Xo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qm(e){if(!pl.isDocumentKey(e))throw new Go(Xo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hm(e){if(pl.isDocumentKey(e))throw new Go(Xo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Wo()}function Km(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Go(Xo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wm(e);throw new Go(Xo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Qm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Go(Xo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Go(Xo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Go(Xo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Go(Xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Go(Xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Go(Xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Go(Xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Go(Xo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jo;switch(e.type){case"firstParty":return new nl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Go(Xo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bm.get(e);t&&(Bo("ComponentProvider","Removing Datastore"),Bm.delete(e),t.terminate())}(this),Promise.resolve()}}function Gm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=Km(e,Xm))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==s&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Lo.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[on(JSON.stringify({alg:"none",type:"JWT"})),on(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Go(Xo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Lo(a)}e._authCredentials=new Zo(new $o(t,n))}}class Ym{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ym(this.firestore,e,this._query)}}class $m{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $m(this.firestore,e,this._key)}}class Jm extends Ym{constructor(e,t,n){super(e,t,$c(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $m(this.firestore,null,new pl(e))}withConverter(e){return new Jm(this.firestore,e,this._path)}}function Zm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_n(e),Vm("collection","path",t),e instanceof Xm){const n=hl.fromString(t,...r);return Hm(n),new Jm(e,null,n)}{if(!(e instanceof $m||e instanceof Jm))throw new Go(Xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hl.fromString(t,...r));return Hm(n),new Jm(e.firestore,null,n)}}function ep(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_n(e),1===arguments.length&&(t=sl.newId()),Vm("doc","path",t),e instanceof Xm){const n=hl.fromString(t,...r);return qm(n),new $m(e,null,new pl(n))}{if(!(e instanceof $m||e instanceof Jm))throw new Go(Xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hl.fromString(t,...r));return qm(n),new $m(e.firestore,e instanceof Jm?e.converter:null,new pl(n))}}class tp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ef(this,"async_queue_retry"),this.Vu=()=>{const e=Jh();e&&Bo("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Jh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Yo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Ve){if(!El(Ve))throw Ve;Bo("AsyncQueue","Operation failed with retryable error: "+Ve)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Vo("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Lf.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Wo()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class np extends Xm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new tp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tp(e),this._firestoreClient=void 0,await e}}}function rp(e){if(e._terminated)throw new Go(Xo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ip(e),e._firestoreClient}function ip(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Zl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Am(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ap{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ap(Wl.fromBase64String(e))}catch(e){throw new Go(Xo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ap(Wl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Go(Xo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ml(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._methodName=e}}class lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Go(Xo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Go(Xo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ol(this._lat,e._lat)||ol(this._long,e._long)}}class cp{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const up=/^__.*__$/;class dp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}class hp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wo()}}class mp{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(fp(this.Cu)&&up.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Zh(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mp({Cu:e,methodName:t,qu:n,path:ml.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(e){const t=e._freezeSettings(),n=Zh(e._databaseId);return new pp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vp(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Qu(a.merge||a.mergeFields?2:0,t,n,i);Ep("Data must be an object, but it was:",s,r);const o=Sp(r,s);let l,c;if(a.merge)l=new ql(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Cp(t,r,n);if(!s.contains(i))throw new Go(Xo.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ap(e,i)||e.push(i)}l=new ql(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new dp(new xc(o),l,c)}class yp extends op{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yp}}class xp extends op{_toFieldTransform(e){return new Bu(e.path,new Iu)}isEqual(e){return e instanceof xp}}function bp(e,t,n,r){const i=e.Qu(1,t,n);Ep("Data must be an object, but it was:",i,r);const a=[],s=xc.empty();Ml(r,(e,r)=>{const o=Op(t,e,n);r=_n(r);const l=i.Nu(o);if(r instanceof yp)a.push(o);else{const e=Np(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new ql(a);return new hp(s,o,i.fieldTransforms)}function wp(e,t,n,r,i,a){const s=e.Qu(1,t,n),o=[Cp(t,r,n)],l=[i];if(a.length%2!=0)throw new Go(Xo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)o.push(Cp(t,a[h])),l.push(a[h+1]);const c=[],u=xc.empty();for(let h=o.length-1;h>=0;--h)if(!Ap(c,o[h])){const e=o[h];let t=l[h];t=_n(t);const n=s.Nu(e);if(t instanceof yp)c.push(e);else{const r=Np(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ql(c);return new hp(u,d,s.fieldTransforms)}function jp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Np(n,e.Qu(r?4:3,t))}function Np(e,t){if(kp(e=_n(e)))return Ep("Unsupported field value:",t,e),Sp(e,t);if(e instanceof op)return function(e,t){if(!fp(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Np(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=_n(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _u(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=cl.fromDate(e);return{timestampValue:Id(t.serializer,n)}}if(e instanceof cl){const n=new cl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Id(t.serializer,n)}}if(e instanceof lp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ap)return{bytesValue:Dd(t.serializer,e._byteString)};if(e instanceof $m){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ld(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cp)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Eu(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Wm(e)))}(e,t)}function Sp(e,t){const n={};return Ll(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ml(e,(e,r)=>{const i=Np(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function kp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cl||e instanceof lp||e instanceof ap||e instanceof $m||e instanceof op||e instanceof cp)}function Ep(e,t,n){if(!kp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Wm(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Cp(e,t,n){if((t=_n(t))instanceof sp)return t._internalPath;if("string"==typeof t)return Op(e,t);throw Tp("Field path arguments must be of type string or ",e,!1,void 0,n)}const _p=new RegExp("[~\\*/\\[\\]]");function Op(e,t,n){if(t.search(_p)>=0)throw Tp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new sp(...t.split("."))._internalPath}catch(r){throw Tp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Tp(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Go(Xo.INVALID_ARGUMENT,o+e+l)}function Ap(e,t){return e.some(e=>e.isEqual(t))}class Pp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $m(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ip(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ip extends Pp{data(){return super.data()}}function Dp(e,t){return"string"==typeof t?Op(e,t):t instanceof sp?t._internalPath:t._delegate._internalPath}function Rp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Go(Xo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}class Lp extends Mp{}function Fp(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Mp&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Bp).length,n=e.filter(e=>e instanceof Up).length;if(t>1||t>0&&n>0)throw new Go(Xo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Up extends Lp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Up(e,t,n)}_apply(e){const t=this._parse(e);return Hp(e._query,t),new Ym(e.firestore,e.converter,ru(e._query,t))}_parse(e){const t=gp(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Go(Xo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){qp(s,a);const t=[];for(const n of s)t.push(Vp(r,e,n));o={arrayValue:{values:t}}}else o=Vp(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||qp(s,a),o=jp(n,t,s,"in"===a||"not-in"===a);return _c.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function zp(e,t,n){const r=t,i=Dp("where",e);return Up._create(i,r,n)}class Bp extends Mp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bp(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Oc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Hp(n,i),n=ru(n,i)}(e._query,t),new Ym(e.firestore,e.converter,ru(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Vp(e,t,n){if("string"==typeof(n=_n(n))){if(""===n)throw new Go(Xo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zc(t)&&-1!==n.indexOf("/"))throw new Go(Xo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(hl.fromString(n));if(!pl.isDocumentKey(r))throw new Go(Xo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return uc(e,new pl(r))}if(n instanceof $m)return uc(e,n._key);throw new Go(Xo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Wm(n),"."))}function qp(e,t){if(!Array.isArray(e)||0===e.length)throw new Go(Xo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Hp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Go(Xo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Go(Xo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Wp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Wo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ml(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Xl(e.doubleValue));return new cp(i)}convertGeoPoint(e){return new lp(Xl(e.latitude),Xl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=$l(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=Ql(e);return new cl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=hl.fromString(e);Ko(ah(n));const r=new ec(n.get(1),n.get(3)),i=new pl(n.popFirst(5));return r.isEqual(t)||Vo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Kp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xp extends Pp{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Gp extends Xp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Yp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Gp(this._firestore,this._userDataWriter,n.key,n,new Qp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Go(Xo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Gp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Gp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:$p(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $p(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wo()}}function Jp(e){e=Km(e,$m);const t=Km(e.firestore,np);return Fm(rp(t),e._key).then(n=>sg(t,e,n))}class Zp extends Wp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ap(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $m(this.firestore,null,t)}}function eg(e){e=Km(e,Ym);const t=Km(e.firestore,np),n=rp(t),r=new Zp(t);return Rp(e._query),Um(n,e._query).then(n=>new Yp(t,r,e,n))}function tg(e,t,n){e=Km(e,$m);const r=Km(e.firestore,np),i=Kp(e.converter,t,n);return ag(r,[vp(gp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qu.none())])}function ng(e,t,n){e=Km(e,$m);const r=Km(e.firestore,np),i=gp(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=_n(t))||t instanceof sp?wp(i,"updateDoc",e._key,t,n,o):bp(i,"updateDoc",e._key,t),ag(r,[a.toMutation(e._key,qu.exists(!0))])}function rg(e){return ag(Km(e.firestore,np),[new nd(e._key,qu.none())])}function ig(e,t){const n=Km(e.firestore,np),r=ep(e),i=Kp(e.converter,t);return ag(n,[vp(gp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qu.exists(!1))]).then(()=>r)}function ag(e,t){return function(e,t){const n=new Yo;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Cm(e);try{const e=await function(e,t){const n=Qo(e),r=cl.now(),i=t.reduce((e,t)=>e.add(t.key),Nu());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=mu(),l=Nu();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=Gu(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Ju(e.key,t,bc(t.value.mapValue),qu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:vu(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Fl(ol)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Nm(r,e.changes),await Sf(r.remoteStore)}catch(e){const t=Ff(e,"Failed to persist write");n.reject(t)}}(await Mm(e),t,n)),n.promise}(rp(e),t)}function sg(e,t,n){const r=n.docs.get(t._key),i=new Zp(e);return new Xp(e,i,t._key,r,new Qp(n.hasPendingWrites,n.fromCache),t.converter)}function og(){return new xp("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fo=e}(qr),Fr(new On("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new np(new el(e.getProvider("auth-internal")),new il(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Go(Xo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Kr(Mo,"4.7.3",e),Kr(Mo,"4.7.3","esm2017")}();const lg={apiKey:{NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY||"AIzaSyBccC5IPUYqTMQ6bEMy0NP2H5UqEOObGaE",authDomain:{NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN||"websitesolutionscrm.firebaseapp.com",projectId:{NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID||"websitesolutionscrm",storageBucket:{NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET||"websitesolutionscrm.appspot.com",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||"493384645576",appId:{NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID||"1:493384645576:web:6ac2c785291db2c8f51efd",measurementId:{NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MEASUREMENT_ID||"G-CYCJJ3BTZG"};lg.apiKey&&lg.authDomain&&lg.projectId&&lg.appId||console.error("Firebase config missing or invalid. Ensure REACT_APP_FIREBASE_* env vars are set before building.");const cg=Hr(lg),ug=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr();const t=Ur(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ur(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(wn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ci(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:po,persistence:[Es,cs,ds]}),r=fn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>xo)return;const r=null===t||void 0===t?void 0:t.token;bo!==r&&(bo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){_n(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){_n(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=dn("auth");return a&&ka(n,"http://".concat(a)),n}(cg),dg=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ur("object"==typeof e?e:Wr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=dn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Gm(r,...e)}return r}(cg);function hg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e||isNaN(e))return"Bronze";const n=e,r=Number.isFinite(t)?t:0;return n>=249&&r>=15?"Grand Master":n>=247&&r>=10?"Master":n>=245&&r>=8?"Diamond":n>=242&&r>=6?"Platinum":n>=238&&r>=4?"Gold":"Bronze"}function fg(e){var t,n,r,i;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null!==(t=a.windowDays)&&void 0!==t?t:365,o=null!==(n=a.considerN)&&void 0!==n?n:10,l=null!==(r=a.bestK)&&void 0!==r?r:6,c=null!==(i=a.minFull)&&void 0!==i?i:6,u=Date.now(),d=(Array.isArray(e)?e:[]).map(e=>{var t;const n="number"===typeof(null===e||void 0===e?void 0:e.score)?e.score:parseInt(null===e||void 0===e?void 0:e.score,10)||0,r=Number.isFinite(null===e||void 0===e||null===(t=e.tiebreakerData)||void 0===t?void 0:t.xCount)?e.tiebreakerData.xCount:Array.isArray(null===e||void 0===e?void 0:e.shots)?e.shots.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length:0,i=(e=>{try{if(!e)return 0;if("object"===typeof e){if("function"===typeof e.toMillis)return e.toMillis();if("function"===typeof e.toDate)return e.toDate().getTime();if("number"===typeof e._seconds)return 1e3*e._seconds;if("number"===typeof e.seconds)return 1e3*e.seconds}const t=Date.parse(e);return Number.isFinite(t)?t:0}catch(_t){return 0}})((null===e||void 0===e?void 0:e.submittedAt)||(null===e||void 0===e?void 0:e.createdAt)||(null===e||void 0===e?void 0:e.updatedAt));return{pts:n,x:r,ts:i}});if(0===d.length)return{tier:"Bronze",classificationLabel:"Bronze",provisional:!0,sampleCount:0};const h=u-24*s*60*60*1e3,f=d.filter(e=>0===e.ts||e.ts>=h).sort((e,t)=>t.ts-e.ts),m=f.slice(0,o),p=m.length>=c?l:Math.min(m.length,l),g=m.slice().sort((e,t)=>t.pts-e.pts||t.x-e.x).slice(0,p),v=g.reduce((e,t)=>e+t.pts,0)/g.length,y=g.reduce((e,t)=>e+t.x,0)/g.length,x=hg(v,y);return{tier:x,classificationLabel:x,provisional:m.length<c,sampleCount:m.length,avgCard:v,avgX:y}}var mg=n(579);const pg=(0,i.createContext)(),gg={user:null,token:localStorage.getItem("token"),isLoading:!0,error:null},vg=(e,t)=>{switch(t.type){case"LOGIN_START":return Be(Be({},e),{},{isLoading:!0,error:null});case"LOGIN_SUCCESS":return Be(Be({},e),{},{user:t.payload.user,token:t.payload.token,isLoading:!1,error:null});case"LOGIN_FAILURE":return Be(Be({},e),{},{user:null,token:null,isLoading:!1,error:t.payload});case"LOGOUT":return Be(Be({},e),{},{user:null,token:null,isLoading:!1,error:null});case"UPDATE_USER":return Be(Be({},e),{},{user:Be(Be({},e.user),t.payload)});case"SET_LOADING":return Be(Be({},e),{},{isLoading:t.payload});default:return e}},yg=e=>{let{children:t}=e;const[n,r]=(0,i.useReducer)(vg,gg);(0,i.useEffect)(()=>{const e=function(e,t,n,r){return _n(e).onAuthStateChanged(t,n,r)}(ug,async e=>{if(e)try{const n=await e.getIdToken(),i=await Jp(ep(dg,"users",e.uid));let a=i.exists()?i.data():{email:e.email};try{const t=(await eg(Fp(Zm(dg,"scores"),zp("competitorId","==",e.uid)))).docs.map(e=>e.data()),n=fg(t);if(n){const t=n.tier||n.classificationLabel||a.classification;a=Be(Be({},a),{},{classification:t}),tg(ep(dg,"users",e.uid),{classification:t},{merge:!0}).catch(()=>{})}}catch(t){}r({type:"LOGIN_SUCCESS",payload:{user:Be({id:e.uid},a),token:n}})}catch(Ve){r({type:"LOGIN_FAILURE",payload:Ve.message||"Failed to load profile"})}else r({type:"LOGOUT"})});return()=>e()},[]);const a={user:n.user,token:n.token,isLoading:n.isLoading,error:n.error,login:async(e,t)=>{r({type:"LOGIN_START"});try{return await is(ug,e,t),{success:!0}}catch(n){return r({type:"LOGIN_FAILURE",payload:n.message||"Login failed"}),{success:!1,error:n.message||"Login failed"}}},register:async e=>{r({type:"LOGIN_START"});try{const{email:t,password:n,username:r,firstName:i,lastName:a,role:s}=e,o=await rs(ug,t,n),l={email:t,username:r||t.split("@")[0],firstName:i||"",lastName:a||"",role:s||"competitor",createdAt:og()};return await tg(ep(dg,"users",o.user.uid),l,{merge:!0}),{success:!0}}catch(t){return r({type:"LOGIN_FAILURE",payload:t.message||"Registration failed"}),{success:!1,error:t.message||"Registration failed"}}},logout:async()=>{await function(e){return _n(e).signOut()}(ug),r({type:"LOGOUT"})},updateUser:e=>{r({type:"UPDATE_USER",payload:e})},isAuthenticated:!!n.user};return(0,mg.jsx)(pg.Provider,{value:a,children:t})},xg=()=>{const e=(0,i.useContext)(pg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},bg=()=>{const{isAuthenticated:e,isLoading:t}=xg(),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,m]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1),{login:v,register:y}=xg();if(t)return null;if(e)return null;return(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[9999] p-4",children:(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative",children:[(0,mg.jsxs)("div",{className:"text-center mb-6",children:[(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-16 w-auto object-contain mx-auto mb-4"}),(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Welcome Back":"Create Your Account"}),(0,mg.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Please login or register to access The X-Ring Classic"})]}),(0,mg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),g(!0);try{if(n){const e=await v(a,o);e.success?nn.success("Welcome back!"):nn.error(e.error||"Login failed")}else{const e=await y({email:a,password:o,username:c,firstName:d,lastName:f});e.success?nn.success("Account created! Welcome!"):nn.error(e.error||"Registration failed")}}catch(t){nn.error(t.message||"An error occurred")}finally{g(!1)}},className:"space-y-4",children:[!n&&(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,mg.jsx)("input",{id:"username",type:"text",required:!0,value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username"})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,mg.jsx)("input",{id:"firstName",type:"text",required:!0,value:d,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"First name"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,mg.jsx)("input",{id:"lastName",type:"text",required:!0,value:f,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Last name"})]})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,mg.jsx)("input",{id:"email",type:"email",required:!0,value:a,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,mg.jsx)("input",{id:"password",type:"password",required:!0,value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:n?"Enter your password":"Create a password",minLength:6})]}),(0,mg.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Please wait...":n?"Login":"Create Account"})]}),(0,mg.jsx)("div",{className:"mt-4 text-center",children:(0,mg.jsx)("button",{type:"button",onClick:()=>{r(!n),s(""),l(""),u(""),h(""),m("")},className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:n?"Don't have an account? Register":"Already have an account? Login"})})]})})};function wg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const jg=["title","titleId"];function Ng(e,t){let{title:n,titleId:r}=e,a=wg(e,jg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Sg=i.forwardRef(Ng),kg=["title","titleId"];function Eg(e,t){let{title:n,titleId:r}=e,a=wg(e,kg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Cg=i.forwardRef(Eg),_g=["title","titleId"];function Og(e,t){let{title:n,titleId:r}=e,a=wg(e,_g);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Tg=i.forwardRef(Og),Ag=["title","titleId"];function Pg(e,t){let{title:n,titleId:r}=e,a=wg(e,Ag);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Ig=i.forwardRef(Pg),Dg=["title","titleId"];function Rg(e,t){let{title:n,titleId:r}=e,a=wg(e,Dg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Mg=i.forwardRef(Rg),Lg=["title","titleId"];function Fg(e,t){let{title:n,titleId:r}=e,a=wg(e,Lg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Ug=i.forwardRef(Fg),zg=["title","titleId"];function Bg(e,t){let{title:n,titleId:r}=e,a=wg(e,zg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Vg=i.forwardRef(Bg),qg=["title","titleId"];function Hg(e,t){let{title:n,titleId:r}=e,a=wg(e,qg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const Wg=i.forwardRef(Hg),Kg=["title","titleId"];function Qg(e,t){let{title:n,titleId:r}=e,a=wg(e,Kg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xg=i.forwardRef(Qg),Gg=["title","titleId"];function Yg(e,t){let{title:n,titleId:r}=e,a=wg(e,Gg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const $g=i.forwardRef(Yg),Jg=["title","titleId"];function Zg(e,t){let{title:n,titleId:r}=e,a=wg(e,Jg);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const ev=i.forwardRef(Zg),tv=["title","titleId"];function nv(e,t){let{title:n,titleId:r}=e,a=wg(e,tv);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const rv=i.forwardRef(nv),iv=["title","titleId"];function av(e,t){let{title:n,titleId:r}=e,a=wg(e,iv);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const sv=i.forwardRef(av),ov=["title","titleId"];function lv(e,t){let{title:n,titleId:r}=e,a=wg(e,ov);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const cv=i.forwardRef(lv),uv=["title","titleId"];function dv(e,t){let{title:n,titleId:r}=e,a=wg(e,uv);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const hv=i.forwardRef(dv),fv=()=>{var e,t,n,r;const{user:a,logout:s,isAuthenticated:o}=xg(),l=ee(),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),f=(0,i.useRef)(null),m=[{name:"Home",href:"/",icon:Sg},{name:"Competitions",href:"/competitions",icon:Cg},{name:"Leaderboard",href:"/leaderboard",icon:Cg},{name:"Ranges",href:"/ranges",icon:Tg},{name:"Rulebook",href:"/rulebook",icon:Ig},{name:"Shooting Classes",href:"/shooting-classes",icon:Ig}],p=[{name:"Dashboard",href:"/admin",icon:Mg},{name:"Range Management",href:"/admin/range-management",icon:Tg},{name:"Manage Users",href:"/admin/users",icon:Ug},{name:"Create Competition",href:"/admin/create-competition",icon:Cg},{name:"Enter Score",href:"/admin/enter-score",icon:Vg},{name:"Score Verification",href:"/admin/score-verification",icon:Vg},{name:"Pitch Deck",href:"/pitch-deck",icon:Wg},{name:"Sponsor Dashboard",href:"/dashboard/sponsor",icon:Mg}],g=[{name:"Range Dashboard",href:"/range-admin",icon:Mg},{name:"Create Competition",href:"/admin/create-competition",icon:Cg},{name:"Score Verification",href:"/admin/score-verification",icon:Vg},{name:"Subscription",href:"/range-admin/subscription",icon:Xg}],v="admin"===(null===a||void 0===a?void 0:a.role)||"range_admin"===(null===a||void 0===a?void 0:a.role),y="range_admin"===(null===a||void 0===a?void 0:a.role)&&"admin"!==(null===a||void 0===a?void 0:a.role),x=l.pathname.startsWith("/admin"),b="sponsor"===(null===a||void 0===a?void 0:a.role)||"admin"===(null===a||void 0===a?void 0:a.role);(0,i.useEffect)(()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&h(!1)};return d&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d]);const w=()=>{s()};return(0,mg.jsxs)("div",{className:"min-h-screen relative z-10",children:[(0,mg.jsx)(bg,{}),(0,mg.jsxs)("header",{className:"bg-gray-900/95 backdrop-blur-sm shadow-md border-b-2 border-red-800 relative z-50",children:[(0,mg.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mg.jsxs)("div",{className:"flex justify-between items-center py-3",children:[(0,mg.jsx)("div",{className:"flex items-center",children:(0,mg.jsx)(Pe,{to:"/",className:"flex items-center space-x-3",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-12 w-auto object-contain"})})}),(0,mg.jsxs)("nav",{className:"hidden md:flex items-center gap-2",children:[m.map(e=>{const t=l.pathname===e.href;return(0,mg.jsxs)(Pe,{to:e.href,className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(t?"text-gray-200 bg-gray-800/50":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[(0,mg.jsx)(e.icon,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:e.name})]},e.name)}),o&&(0,mg.jsxs)(Pe,{to:"/profile",className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("/profile"===l.pathname?"text-gray-200 bg-gray-800/50":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[(0,mg.jsx)($g,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Profile"})]}),v&&(0,mg.jsxs)("div",{className:"relative z-[100]",ref:f,children:[(0,mg.jsxs)("button",{onClick:()=>h(!d),className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(x?"text-gray-200 bg-gray-800/50":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[(0,mg.jsx)(ev,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Admin"}),(0,mg.jsx)(rv,{className:"w-4 h-4 transition-transform ".concat(d?"rotate-180":"")})]}),d&&(0,mg.jsx)("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white border-2 border-red-800 z-[9999]",children:(0,mg.jsx)("div",{className:"py-1",role:"menu",children:(y?g:p).filter(e=>"/admin/range-management"===e.href||"/admin/users"===e.href?"admin"===(null===a||void 0===a?void 0:a.role):"/dashboard/sponsor"!==e.href||b).map(e=>{const t=l.pathname===e.href;return(0,mg.jsxs)(Pe,{to:e.href,onClick:()=>h(!1),className:"flex items-center space-x-2 px-4 py-2 text-sm transition-colors ".concat(t?"bg-blue-50 text-blue-700 font-medium":"text-gray-900 hover:bg-gray-100"),role:"menuitem",children:[(0,mg.jsx)(e.icon,{className:"w-4 h-4 ".concat(t?"text-blue-700":"text-gray-700")}),(0,mg.jsx)("span",{children:e.name})]},e.name)})})})]}),(0,mg.jsxs)("a",{href:"https://shop.thegunguys.net/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-4 py-2 rounded-md text-sm font-medium bg-red-600 hover:bg-red-700 text-white transition-colors shadow-md",children:[(0,mg.jsx)(Cg,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Shop Now"})]})]}),(0,mg.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:o?(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[null!==a&&void 0!==a&&a.classification&&"string"===typeof a.classification?(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/").concat((a.classification.includes("Grand")?"GM":a.classification).replace(/\s+/g,""),".png"),alt:a.classification,className:"w-8 h-8 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,mg.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center ".concat(null!==a&&void 0!==a&&a.classification&&"string"===typeof a.classification?"hidden":""),children:(0,mg.jsx)("span",{className:"text-gray-200 font-medium text-sm",children:(null===a||void 0===a||null===(e=a.profile)||void 0===e||null===(t=e.firstName)||void 0===t?void 0:t[0])||(null===a||void 0===a||null===(n=a.username)||void 0===n?void 0:n[0])||"U"})}),(0,mg.jsx)("span",{className:"text-sm text-gray-200",children:(null===a||void 0===a||null===(r=a.profile)||void 0===r?void 0:r.firstName)||(null===a||void 0===a?void 0:a.username)})]}),(0,mg.jsxs)("button",{onClick:w,className:"flex items-center space-x-1 text-gray-300 hover:text-white transition-colors",children:[(0,mg.jsx)(sv,{className:"w-4 h-4"}),(0,mg.jsx)("span",{className:"text-sm",children:"Logout"})]})]}):(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsx)(Pe,{to:"/login",className:"text-gray-300 hover:text-white text-sm font-medium",children:"Login"}),(0,mg.jsx)(Pe,{to:"/register",className:"btn-primary text-sm",children:"Register"})]})}),(0,mg.jsxs)("div",{className:"md:hidden flex items-center gap-3",children:[!o&&(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)(Pe,{to:"/login",className:"text-sm text-gray-300 hover:text-white",children:"Login"}),(0,mg.jsx)(Pe,{to:"/register",className:"px-3 py-1 text-sm rounded-md bg-gray-700 text-white hover:bg-gray-600",children:"Register"})]}),(0,mg.jsx)("button",{onClick:()=>u(!c),className:"text-gray-300 hover:text-white","aria-label":"Toggle menu",children:c?(0,mg.jsx)(cv,{className:"w-6 h-6"}):(0,mg.jsx)(hv,{className:"w-6 h-6"})})]})]})}),c&&(0,mg.jsx)("div",{className:"md:hidden border-t border-red-900",children:(0,mg.jsxs)("nav",{className:"px-4 py-2 space-y-1",children:[m.map(e=>{const t=l.pathname===e.href;return(0,mg.jsxs)(Pe,{to:e.href,onClick:()=>u(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(t?"text-gray-200 bg-gray-800/50":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[(0,mg.jsx)(e.icon,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:e.name})]},e.name)}),o&&(0,mg.jsxs)(Pe,{to:"/profile",onClick:()=>u(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("/profile"===l.pathname?"text-gray-200 bg-gray-800/50":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[(0,mg.jsx)($g,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Profile"})]}),(0,mg.jsxs)("a",{href:"https://shop.thegunguys.net/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium bg-red-600 hover:bg-red-700 text-white transition-colors",onClick:()=>u(!1),children:[(0,mg.jsx)(Cg,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Shop Now"})]}),v&&(0,mg.jsxs)("div",{className:"pt-2 border-t border-red-900",children:[(0,mg.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:y?"Range Admin":"Admin"}),(y?g:p).filter(e=>"/admin/range-management"===e.href||"/admin/users"===e.href?"admin"===(null===a||void 0===a?void 0:a.role):"/dashboard/sponsor"!==e.href||b).map(e=>{const t=l.pathname===e.href;return(0,mg.jsxs)(Pe,{to:e.href,onClick:()=>u(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ml-4 ".concat(t?"text-gray-200 bg-gray-800/50":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[(0,mg.jsx)(e.icon,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:e.name})]},e.name)})]}),o?(0,mg.jsxs)("button",{onClick:()=>{w(),u(!1)},className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-800 w-full",children:[(0,mg.jsx)(sv,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Logout"})]}):(0,mg.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2",children:[(0,mg.jsx)(Pe,{to:"/login",className:"text-sm text-gray-300 hover:text-white",onClick:()=>u(!1),children:"Login"}),(0,mg.jsx)(Pe,{to:"/register",className:"px-3 py-1 text-sm rounded-md bg-rifle-600 text-white hover:bg-rifle-700",onClick:()=>u(!1),children:"Register"})]})]})})]}),(0,mg.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,mg.jsx)(be,{})}),(0,mg.jsx)("footer",{className:"bg-gray-950/95 backdrop-blur-sm border-t border-red-900 mt-auto text-white",children:(0,mg.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-16 w-auto mx-auto object-contain"})}),(0,mg.jsxs)("div",{className:"text-gray-400 text-sm",children:[(0,mg.jsx)("p",{children:"\xa9 2024 The X-Ring Classic. All rights reserved."}),(0,mg.jsx)("p",{className:"mt-2",children:"Powered by precision and passion"}),(0,mg.jsx)("p",{className:"mt-4",children:(0,mg.jsx)("a",{href:"https://www.thegunguys.net/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white underline transition-colors",children:"Visit Gun Guys II"})})]})]})})})]})},mv=async(e,t)=>{if(!ug.currentUser)throw new Error("Not authenticated");return await function(e,t){return as(_n(e),null,t)}(ug.currentUser,t),{data:{message:"Password updated"}}},pv=async e=>(await async function(e,t,n){const r=va(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ts(r,i,n),await Sa(r,i,"getOobCode",Pa)}(ug,e),{data:{message:"Reset email sent"}}),gv=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Zm(dg,"competitions"),n=[];null!==e&&void 0!==e&&e.status&&"all"!==e.status?n.push(zp("status","==",e.status)):n.push(zp("status","==","published")),null!==e&&void 0!==e&&e.format&&"all"!==e.format&&n.push(zp("format","==",e.format)),null!==e&&void 0!==e&&e.type&&"all"!==e.type&&n.push(zp("type","==",e.type));const r=n.length?Fp(t,...n):t;let i=(await eg(r)).docs.map(e=>Be({id:e.id},e.data()));const a=i.map(e=>e.id),s=new Map;if(a.length>0){const e=10;for(let t=0;t<a.length;t+=e){const n=a.slice(t,t+e),r=(await eg(Fp(Zm(dg,"registrations"),zp("competitionId","in",n)))).docs.map(e=>e.data());r.forEach(e=>{if(e.competitionId){const t=s.get(e.competitionId)||0;s.set(e.competitionId,t+1)}})}i=i.map(e=>{const t=s.get(e.id)||0;return Be(Be({},e),{},{participantCount:t,registeredCount:t})})}const{dateFrom:o,dateTo:l}=e||{};(o||l)&&(i=i.filter(e=>{var t;const n=new Date((null===e||void 0===e||null===(t=e.schedule)||void 0===t?void 0:t.competitionDate)||(null===e||void 0===e?void 0:e.competitionDate)||0);return!(o&&n<new Date(o))&&!(l&&n>new Date(l))})),i.sort((e,t)=>{var n,r;return new Date((null===e||void 0===e||null===(n=e.schedule)||void 0===n?void 0:n.competitionDate)||0)-new Date((null===t||void 0===t||null===(r=t.schedule)||void 0===r?void 0:r.competitionDate)||0)});const c=Number((null===e||void 0===e?void 0:e.limit)||0);return{data:{competitions:c>0?i.slice(0,c):i,pagination:{current:1,total:1,hasNext:!1,hasPrev:!1}}}},vv=async e=>{if(!e)return{data:{competitions:[]}};const t=Zm(dg,"competitions");let n=(await eg(t)).docs.map(e=>Be({id:e.id},e.data()));return n=n.filter(t=>{var n,r,i,a;return(null===(n=t.range)||void 0===n?void 0:n.id)===e||(null===(r=t.range)||void 0===r?void 0:r.name)===e||t.rangeId===e||"string"===typeof e&&(null===(i=t.range)||void 0===i||null===(a=i.name)||void 0===a?void 0:a.toLowerCase())===e.toLowerCase()}),n.sort((e,t)=>{var n,r;const i=new Date((null===e||void 0===e||null===(n=e.schedule)||void 0===n?void 0:n.competitionDate)||(null===e||void 0===e?void 0:e.competitionDate)||0);return new Date((null===t||void 0===t||null===(r=t.schedule)||void 0===r?void 0:r.competitionDate)||(null===t||void 0===t?void 0:t.competitionDate)||0)-i}),{data:{competitions:n}}},yv=async e=>{const t=await Jp(ep(dg,"competitions",e));if(!t.exists())throw new Error("Competition not found");const n=(await eg(Fp(Zm(dg,"registrations"),zp("competitionId","==",e)))).docs.map(e=>Be({id:e.id},e.data())),r=Array.from(new Set(n.map(e=>e.userId).filter(Boolean))),i=await Promise.allSettled(r.map(e=>Jp(ep(dg,"users",e)))),a=new Map;i.forEach((e,t)=>{const n=r[t];if("fulfilled"===e.status){const t=e.value;a.set(n,t.exists()?Be({id:n},t.data()):null)}else a.set(n,null)});const s=n.map(e=>{const t=a.get(e.userId),n=t?t.firstName&&t.lastName?"".concat(t.firstName," ").concat(t.lastName):t.username||t.email||"User":"User";return{userId:e.userId,userName:n,location:(null===t||void 0===t?void 0:t.location)||"",registeredAt:e.registeredAt||e.createdAt||(new Date).toISOString()}}),o=Be({id:t.id},t.data());return o.participants=s,o.participantCount=s.length,o.registeredCount=s.length,{data:{competition:o}}},xv=async e=>{var t;const n=await ig(Zm(dg,"competitions"),Be(Be({},e),{},{createdAt:og(),organizerId:(null===(t=ug.currentUser)||void 0===t?void 0:t.uid)||null,status:(null===e||void 0===e?void 0:e.status)||"published"})),r=await Jp(n);return{data:{competition:Be({id:n.id},r.data())}}},bv=async(e,t)=>{await ng(ep(dg,"competitions",e),Be(Be({},t),{},{updatedAt:og()}));return{data:{competition:Be({id:e},(await Jp(ep(dg,"competitions",e))).data())}}},wv=async e=>(await ng(ep(dg,"competitions",e),{status:"archived",archivedAt:og()}),{data:{message:"Competition archived"}}),jv=async e=>{var t;const n=null===(t=ug.currentUser)||void 0===t?void 0:t.uid;if(!n)throw new Error("Not authenticated");const r=await Jp(ep(dg,"competitions",e));if(!r.exists())throw new Error("Competition not found");const i=Be({id:r.id},r.data());if(!["published","active"].includes(i.status))throw new Error("Registration closed");if(!(await eg(Fp(Zm(dg,"registrations"),zp("userId","==",n),zp("competitionId","==",e)))).empty)throw new Error("Already registered");return await ig(Zm(dg,"registrations"),{competitionId:e,userId:n,status:"registered",registeredAt:(new Date).toISOString()}),{data:{message:"Successfully registered for competition"}}},Nv=async e=>{var t,n;const r=null===(t=ug.currentUser)||void 0===t?void 0:t.uid;if(!r)throw new Error("Not authenticated");const i=Array.isArray(null===e||void 0===e?void 0:e.shots)?e.shots:[],a=null===e||void 0===e||null===(n=e.tiebreakerData)||void 0===n?void 0:n.xCount,s=i.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length,o=i.length>0?s:"number"===typeof a?a:0,l=Be(Be({},e),{},{competitorId:r,createdAt:og(),verificationStatus:"pending",tiebreakerData:Be(Be({},(null===e||void 0===e?void 0:e.tiebreakerData)||{}),{},{xCount:o,perfectShots:o})}),c=await ig(Zm(dg,"scores"),l),u=await Jp(c);return{data:{score:Be({id:c.id},u.data())}}},Sv=async e=>{var t,n;const r=(null===e||void 0===e?void 0:e.competitorId)||(null===(t=ug.currentUser)||void 0===t?void 0:t.uid);if(!r)throw new Error("Not authenticated");const i=Array.isArray(null===e||void 0===e?void 0:e.shots)?e.shots:[],a=null===e||void 0===e||null===(n=e.tiebreakerData)||void 0===n?void 0:n.xCount,s=i.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length,o=i.length>0?s:"number"===typeof a?a:0,l=Be(Be({},e),{},{competitorId:r,createdAt:og(),verificationStatus:"pending",tiebreakerData:Be(Be({},(null===e||void 0===e?void 0:e.tiebreakerData)||{}),{},{xCount:o,perfectShots:o})}),c=await ig(Zm(dg,"scores"),l),u=await Jp(c);return{data:{score:Be({id:c.id},u.data())}}},kv=async e=>{const t=(await eg(Fp(Zm(dg,"scores"),zp("competitionId","==",e),zp("verificationStatus","==","approved")))).docs.map(e=>Be({id:e.id},e.data())),n=Array.from(new Set(t.map(e=>e.competitorId).filter(Boolean))),r=await Promise.allSettled(n.map(e=>Jp(ep(dg,"users",e)))),i=new Map;r.forEach((e,t)=>{const r=n[t];if("fulfilled"===e.status){const t=e.value;i.set(r,t.exists()?Be({id:r},t.data()):null)}else i.set(r,null)});const a=t.map(e=>Be(Be({},e),{},{competitor:i.get(e.competitorId)||null,submittedAt:(()=>{const t=e.createdAt||e.updatedAt||e.submittedAt;try{if("function"===typeof(null===t||void 0===t?void 0:t.toMillis))return new Date(t.toMillis()).toISOString();if("function"===typeof(null===t||void 0===t?void 0:t.toDate))return t.toDate().toISOString();if("number"===typeof(null===t||void 0===t?void 0:t.seconds))return new Date(1e3*t.seconds).toISOString();const e=Date.parse(t);return Number.isFinite(e)?new Date(e).toISOString():(new Date).toISOString()}catch(n){return(new Date).toISOString()}})()}));return{data:{scores:a}}},Ev=async(e,t,n)=>(await ng(ep(dg,"scores",e),{verificationStatus:t,verificationNotes:n||"",verifiedAt:og()}),{data:{message:"Score ".concat(t)}}),Cv=async()=>{const e=(await eg(Fp(Zm(dg,"scores"),zp("verificationStatus","==","pending")))).docs.map(e=>Be({id:e.id},e.data()));return{scores:e}},_v={getOverall:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=Number((null===e||void 0===e?void 0:e.limit)||10),n=null===e||void 0===e?void 0:e.category;let r;r=n?Fp(Zm(dg,"scores"),zp("verificationStatus","==","approved"),zp("category","==",n)):Fp(Zm(dg,"scores"),zp("verificationStatus","==","approved"));let i=(await eg(r)).docs.map(e=>Be({id:e.id},e.data())).filter(e=>"approved"===e.verificationStatus||!e.verificationStatus);console.log("[Leaderboard] Found ".concat(i.length," approved scores"));const a=new Map;i.forEach(e=>{const t=e.competitorId;t&&(a.has(t)||a.set(t,[]),a.get(t).push(e))});const s=Array.from(a.keys()),o=await Promise.allSettled(s.map(e=>Jp(ep(dg,"users",e)))),l=new Map;o.forEach((e,t)=>{const n=s[t];if("fulfilled"===e.status){const t=e.value;if(t.exists()){var r;const e=t.data();l.set(n,Be(Be({id:n},e),{},{username:e.username||(null===(r=e.email)||void 0===r?void 0:r.split("@")[0])||"user",firstName:e.firstName||"",lastName:e.lastName||""}))}else console.warn("User document ".concat(n," does not exist")),l.set(n,null)}else{const t=e.reason;"permission-denied"===(null===t||void 0===t?void 0:t.code)?console.warn("Permission denied for user ".concat(n," - using fallback data")):console.error("Failed to fetch user ".concat(n,":"),t),l.set(n,null)}});const c=[];a.forEach((e,t)=>{var n,r,i,a,s,o,u,d,h,f,m,p;const g=l.get(t),v=g||{id:t,username:(null===(n=e[0])||void 0===n?void 0:n.username)||(null===(r=e[0])||void 0===r||null===(i=r.competitor)||void 0===i?void 0:i.username)||"user",firstName:(null===(a=e[0])||void 0===a||null===(s=a.competitor)||void 0===s?void 0:s.firstName)||(null===(o=e[0])||void 0===o?void 0:o.firstName)||"Shooter",lastName:(null===(u=e[0])||void 0===u||null===(d=u.competitor)||void 0===d?void 0:d.lastName)||(null===(h=e[0])||void 0===h?void 0:h.lastName)||"",email:(null===(f=e[0])||void 0===f||null===(m=f.competitor)||void 0===m?void 0:m.email)||(null===(p=e[0])||void 0===p?void 0:p.email)||""},y=e.map(e=>e.score||0).filter(e=>e>0),x=y.length>0?y.reduce((e,t)=>e+t,0)/y.length:0,b=y.length>0?Math.max(...y):0,w=new Set(e.map(e=>e.competitionId).filter(Boolean)),j=w.size||1;let N=0;e.forEach(e=>{var t;const n=Array.isArray(e.shots)?e.shots.filter(e=>10===Number(null===e||void 0===e?void 0:e.value)&&!0===(null===e||void 0===e?void 0:e.isX)).length:0,r="number"===typeof(null===(t=e.tiebreakerData)||void 0===t?void 0:t.xCount)?e.tiebreakerData.xCount:n;N+=r});const S=e.length>0?N/e.length:0,k=hg(x,S);k&&(v.classification=k),c.push({competitor:v,score:x,bestScore:b,averageScore:x,competitionsCount:j,tiebreakerData:{xCount:Math.round(S)}})}),c.sort((e,t)=>(t.averageScore||0)-(e.averageScore||0));const u=c.slice(0,t).map((e,t)=>Be(Be({},e),{},{rank:t+1}));return console.log("[Leaderboard] Returning ".concat(u.length," leaderboard entries (").concat(c.length," unique users)")),{data:{leaderboard:u}}}catch(t){throw console.error("[Leaderboard] Error in getOverall:",t),t}},getIndoor:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _v.getOverall(e)},getOutdoor:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _v.getOverall(e)},getByCompetition:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=null===t||void 0===t?void 0:t.category;let r;r=n?Fp(Zm(dg,"scores"),zp("competitionId","==",e),zp("verificationStatus","==","approved"),zp("category","==",n)):Fp(Zm(dg,"scores"),zp("competitionId","==",e),zp("verificationStatus","==","approved"));let i=(await eg(r)).docs.map(e=>Be({id:e.id},e.data())).filter(e=>"approved"===e.verificationStatus||!e.verificationStatus).sort((e,t)=>(t.score||0)-(e.score||0));const a=Array.from(new Set(i.map(e=>e.competitorId).filter(Boolean))),s=await Promise.allSettled(a.map(e=>Jp(ep(dg,"users",e)))),o=new Map;s.forEach((e,t)=>{const n=a[t];if("fulfilled"===e.status){const t=e.value;if(t.exists()){var r;const e=t.data();o.set(n,Be(Be({id:n},e),{},{username:e.username||(null===(r=e.email)||void 0===r?void 0:r.split("@")[0])||"user",firstName:e.firstName||"",lastName:e.lastName||""}))}else console.warn("User document ".concat(n," does not exist")),o.set(n,null)}else{const t=e.reason;"permission-denied"===(null===t||void 0===t?void 0:t.code)?console.warn("Permission denied for user ".concat(n," - using fallback data")):console.error("Failed to fetch user ".concat(n,":"),t),o.set(n,null)}});const l=i.map((e,t)=>{var n,r,i,a,s;const l=o.get(e.competitorId),c=l||{id:e.competitorId,username:e.username||(null===(n=e.competitor)||void 0===n?void 0:n.username)||"user",firstName:(null===(r=e.competitor)||void 0===r?void 0:r.firstName)||e.firstName||"Shooter",lastName:(null===(i=e.competitor)||void 0===i?void 0:i.lastName)||e.lastName||"",email:(null===(a=e.competitor)||void 0===a?void 0:a.email)||e.email||""},u=e.averageScore||e.score||0,d=(null===(s=e.tiebreakerData)||void 0===s?void 0:s.xCount)||0,h=c.classification||hg(u,d)||void 0;return h&&(c.classification=h),{rank:t+1,competitor:c,score:e.score||0,bestScore:e.bestScore||e.score||0,averageScore:e.averageScore||e.score||0,competitionsCount:e.competitionsCount||1}});return{data:{leaderboard:l}}},getByFormat:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _v.getOverall(t)}},Ov=async()=>{const[e,t]=await Promise.all([eg(Fp(Zm(dg,"competitions"),zp("status","==","published"))),eg(Fp(Zm(dg,"scores"),zp("verificationStatus","==","approved")))]),n=e.docs.filter(e=>{var t;return"published"===((null===(t=e.data())||void 0===t?void 0:t.status)||"")}).length;return{activeCompetitions:n,totalUsers:0,totalScores:t.size,rangesPartnered:0}},Tv=async e=>{const t=await Jp(ep(dg,"users",e));return{data:{user:t.exists()?Be({id:t.id},t.data()):null}}},Av=async e=>{var t;const n=null===(t=ug.currentUser)||void 0===t?void 0:t.uid;if(!n)throw new Error("Not authenticated");return await tg(ep(dg,"users",n),Be(Be({},e),{},{updatedAt:og()}),{merge:!0}),{data:{message:"Profile updated"}}},Pv=async(e,t)=>{const n=(await eg(Fp(Zm(dg,"scores"),zp("competitorId","==",e)))).docs.map(e=>Be({id:e.id},e.data()));return{data:{scores:n}}},Iv=async(e,t)=>{const n=(await eg(Fp(Zm(dg,"registrations"),zp("userId","==",e)))).docs.map(e=>e.data().competitionId),r=await Promise.all(n.map(async e=>{const t=await Jp(ep(dg,"competitions",e));return t.exists()?Be({id:t.id},t.data()):null}));return{data:{competitions:r.filter(Boolean)}}},Dv=async e=>{var t;const n=ug.currentUser;if(!n)throw new Error("Not authenticated");const r=await Jp(ep(dg,"users",n.uid));if("admin"!==(r.exists()?null===(t=r.data())||void 0===t?void 0:t.role:void 0))throw new Error("Admin only");return await ng(ep(dg,"users",e),{isVerified:!0,verificationStatus:"verified",updatedAt:og()}),{data:{message:"User verified"}}},Rv=async e=>{var t;const n=ug.currentUser;if(!n)throw new Error("Not authenticated");const r=await Jp(ep(dg,"users",n.uid));if("admin"!==(r.exists()?null===(t=r.data())||void 0===t?void 0:t.role:void 0))throw new Error("Admin only");return await ng(ep(dg,"users",e),{isActive:!1,updatedAt:og()}),{data:{message:"User deactivated"}}},Mv=async function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=ug.currentUser;if(!i)throw new Error("Not authenticated");const a=await Jp(ep(dg,"users",i.uid));if("admin"!==(a.exists()?null===(n=a.data())||void 0===n?void 0:n.role:void 0))throw new Error("Admin only");if(!["competitor","range_officer","range_admin","admin"].includes(t))throw new Error("Invalid role");const s={role:t,updatedAt:og()};if("range_admin"===t&&r){const e=await Jp(ep(dg,"ranges",r));if(e.exists()){const t=e.data();s.rangeId=r,s.rangeName=t.name||"",s.rangeLocation=t.location||""}}return await ng(ep(dg,"users",e),s),{data:{message:"Role updated"}}},Lv=async(e,t)=>{var n;const r=ug.currentUser;if(!r)throw new Error("Not authenticated");const i=await Jp(ep(dg,"users",r.uid));if("admin"!==(i.exists()?null===(n=i.data())||void 0===n?void 0:n.role:void 0))throw new Error("Admin only");if(!t)return await ng(ep(dg,"users",e),{rangeId:null,rangeName:null,rangeLocation:null,updatedAt:og()}),{data:{message:"Range assignment removed"}};const a=await Jp(ep(dg,"ranges",t));if(!a.exists())throw new Error("Range not found");const s=a.data();return await ng(ep(dg,"users",e),{rangeId:t,rangeName:s.name||"",rangeLocation:s.location||"",updatedAt:og()}),{data:{message:"Range assignment updated"}}},Fv=async e=>{var t;const n=ug.currentUser;if(!n)throw new Error("Not authenticated");const r=await Jp(ep(dg,"users",n.uid));if("admin"!==(r.exists()?null===(t=r.data())||void 0===t?void 0:t.role:void 0))throw new Error("Admin only");const i=await eg(Fp(Zm(dg,"scores"),zp("competitorId","==",e)));for(const s of i.docs)await rg(ep(dg,"scores",s.id));const a=await eg(Fp(Zm(dg,"registrations"),zp("userId","==",e)));for(const s of a.docs)await rg(ep(dg,"registrations",s.id));return await rg(ep(dg,"users",e)),{data:{message:"User and related data removed"}}},Uv=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).period||"30-days",t=new Date;let n=new Date;switch(e){case"7-days":n.setDate(t.getDate()-7);break;case"30-days":default:n.setDate(t.getDate()-30);break;case"90-days":n.setDate(t.getDate()-90);break;case"1-year":n.setFullYear(t.getFullYear()-1)}const[r,i,a]=await Promise.all([eg(Zm(dg,"users")),eg(Zm(dg,"competitions")),eg(Zm(dg,"scores"))]),s=r.docs.map(e=>Be({id:e.id},e.data())),o=i.docs.map(e=>Be({id:e.id},e.data())),l=a.docs.map(e=>Be({id:e.id},e.data())),c=e=>e?e.toMillis?new Date(e.toMillis()):e.toDate?e.toDate():"string"===typeof e||"number"===typeof e?new Date(e):null:null,u=[],d=Math.ceil((t-n)/864e5),h=d<=7?1:d<=30?7:d<=90?14:30;for(let j=0;j<=d;j+=h){const e=new Date(n);e.setDate(n.getDate()+j);const t=e.toISOString().split("T")[0],r=s.filter(t=>{const n=c(t.createdAt);return n&&n<=e}).length;u.push({date:t,users:r,label:e.toLocaleDateString("en-US",{month:"short",day:"numeric"})})}const f=[],m={published:0,draft:0,completed:0,cancelled:0};o.forEach(e=>{const t=e.status||"draft";m.hasOwnProperty(t)&&(m[t]=(m[t]||0)+1)});for(let j=0;j<=d;j+=h){const e=new Date(n);e.setDate(n.getDate()+j);const t=e.toISOString().split("T")[0],r=o.filter(t=>{const n=c(t.createdAt);return n&&n<=e}).length,i=o.filter(t=>{const n=c(t.createdAt),r=t.status||"draft";return n&&n<=e&&"published"===r}).length;f.push({date:t,total:r,active:i,label:e.toLocaleDateString("en-US",{month:"short",day:"numeric"})})}const p=s.filter(e=>{const t=c(e.createdAt);return t&&t>=n}).length,g=l.filter(e=>"pending"===(e.verificationStatus||"approved")).length,v=l.filter(e=>"approved"===e.verificationStatus),y=10*v.length,x=v.filter(e=>{const t=c(e.verifiedAt)||c(e.createdAt)||c(e.submittedAt);return t&&t>=n}),b=10*x.length,w=await Ov();return{stats:{totalUsers:w.totalUsers||0,newUsersThisPeriod:p,activeCompetitions:w.activeCompetitions||0,totalCompetitions:o.length||0,publishedCompetitions:m.published||0,draftCompetitions:m.draft||0,completedCompetitions:m.completed||0,cancelledCompetitions:m.cancelled||0,totalScores:w.totalScores||0,pendingScores:g,totalRevenue:y,revenueThisPeriod:b,activeSessions:0,failedLogins:0,suspiciousActivity:0},userGrowthData:u,competitionActivityData:f,recentActivity:[]}},zv=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};let t=(await eg(Zm(dg,"users"))).docs.map(e=>Be({id:e.id},e.data()));const{role:n,search:r,page:i=1,limit:a=20}=e||{};if(n&&(t=t.filter(e=>(e.role||"competitor")===n)),r){const e=String(r).toLowerCase();t=t.filter(t=>(t.username||"").toLowerCase().includes(e)||(t.firstName||"").toLowerCase().includes(e)||(t.lastName||"").toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e))}t.sort((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.toMillis?e.createdAt.toMillis():new Date(e.createdAt||0).getTime();return(null!==(r=t.createdAt)&&void 0!==r&&r.toMillis?t.createdAt.toMillis():new Date(t.createdAt||0).getTime())-i});const s=t.length,o=(Number(i)-1)*Number(a),l=t.slice(o,o+Number(a)),c=Math.max(1,Math.ceil(s/Number(a)));return{users:l,pagination:{current:Number(i),total:c,hasPrev:Number(i)>1,hasNext:Number(i)<c,totalUsers:s}}},Bv=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};let t=(await eg(Zm(dg,"scores"))).docs.map(e=>Be({id:e.id},e.data()));return null!==e&&void 0!==e&&e.verificationStatus&&(t=t.filter(t=>(t.verificationStatus||"approved")===e.verificationStatus)),{scores:t}},Vv=async()=>{const e=(await eg(Fp(Zm(dg,"users"),zp("role","==","range_admin")))).docs.map(e=>Be({id:e.id},e.data()));return{data:{rangeAdmins:e}}},qv=async e=>{var t;if(!(null===(t=ug.currentUser)||void 0===t?void 0:t.uid))throw new Error("Not authenticated");let n=e.rangeId;if(!n&&e.rangeName){const t=(await eg(Zm(dg,"ranges"))).docs.map(e=>Be({id:e.id},e.data())),r=t.find(t=>{var n,r;return t.name===e.rangeName||(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.rangeName)||void 0===r?void 0:r.toLowerCase())});r&&(n=r.id)}const r=(await rs(ug,e.email,e.password)).user.uid;return await tg(ep(dg,"users",r),{username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,role:"range_admin",rangeId:n||null,rangeName:e.rangeName||"",rangeLocation:e.rangeLocation||"",phone:e.phone||"",isActive:!0,isVerified:!0,createdAt:og()}),{data:{message:"Range admin created",userId:r}}},Hv=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Zm(dg,"ranges");let n=(await eg(t)).docs.map(e=>Be({id:e.id},e.data()));return void 0!==(null===e||void 0===e?void 0:e.active)&&(n=n.filter(t=>!1!==t.isActive===e.active)),n.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),{data:{ranges:n}}},Wv=async e=>{const t=await Jp(ep(dg,"ranges",e));if(!t.exists())throw new Error("Range not found");return{data:{range:Be({id:t.id},t.data())}}},Kv=async e=>{const t=await Jp(ep(dg,"users",e));if(!t.exists())throw new Error("User not found");const n=t.data();if(n.rangeId){const e=await Jp(ep(dg,"ranges",n.rangeId));if(e.exists())return{data:{range:Be({id:e.id},e.data())}}}if(n.rangeName){const e=(await eg(Zm(dg,"ranges"))).docs.map(e=>Be({id:e.id},e.data())),t=e.find(e=>{var t,r;return e.name===n.rangeName||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null===(r=n.rangeName)||void 0===r?void 0:r.toLowerCase())});if(t)return{data:{range:t}}}return{data:{range:null}}},Qv=async e=>{const t=await ig(Zm(dg,"ranges"),Be(Be({},e),{},{isActive:!0,createdAt:og(),updatedAt:og()})),n=await Jp(t);return{data:{range:Be({id:t.id},n.data())}}},Xv=async(e,t)=>{await ng(ep(dg,"ranges",e),Be(Be({},t),{},{updatedAt:og()}));return{data:{range:Be({id:e},(await Jp(ep(dg,"ranges",e))).data())}}},Gv=async e=>(await ng(ep(dg,"ranges",e),{isActive:!1,deletedAt:og()}),{data:{message:"Range deactivated"}}),Yv={getDashboard:async function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{rangeId:r,period:i="30-days"}=n;if(!r)throw new Error("Range ID required");const a=new Date;let s=new Date;switch(i){case"7-days":s.setDate(a.getDate()-7);break;case"30-days":default:s.setDate(a.getDate()-30);break;case"90-days":s.setDate(a.getDate()-90);break;case"1-year":s.setFullYear(a.getFullYear()-1)}const o=await Jp(ep(dg,"ranges",r)),l=o.exists()?Be({id:o.id},o.data()):null,c=(await eg(Zm(dg,"competitions"))).docs.map(e=>Be({id:e.id},e.data())),u=c.filter(e=>{var t,n;return(null===(t=e.range)||void 0===t?void 0:t.id)===r||(null===(n=e.range)||void 0===n?void 0:n.name)===r||e.rangeId===r}),d=(await eg(Zm(dg,"scores"))).docs.map(e=>Be({id:e.id},e.data())),h=u.map(e=>e.id),f=d.filter(e=>h.includes(e.competitionId)),m=(await eg(Zm(dg,"registrations"))).docs.map(e=>Be({id:e.id},e.data())),p=m.filter(e=>h.includes(e.competitionId)),g=e=>e?e.toMillis?new Date(e.toMillis()):e.toDate?e.toDate():"string"===typeof e||"number"===typeof e?new Date(e):null:null,v=u.filter(e=>"published"===e.status).length,y=f.filter(e=>"pending"===(e.verificationStatus||"pending")).length,x=p.length,b=p.filter(e=>{const t=g(e.createdAt||e.registeredAt);return t&&t>=s}).length;let w=[];try{const e=Fp(Zm(dg,"rangeRevenues"),zp("rangeId","==",r));w=(await eg(e)).docs.map(e=>{const t=e.data();return Be(Be({id:e.id},t),{},{approvedAt:g(t.approvedAt),createdAt:g(t.createdAt)})}).sort((e,t)=>{const n=e.approvedAt?e.approvedAt.getTime():0;return(t.approvedAt?t.approvedAt.getTime():0)-n}).slice(0,25)}catch(E){console.error("Error loading range revenue entries",E)}const j=w.reduce((e,t)=>e+(t.amount||0),0),N=w.reduce((e,t)=>t.approvedAt&&t.approvedAt>=s?e+(t.amount||0):e,0),S=null!=(null===l||void 0===l||null===(e=l.revenue)||void 0===e?void 0:e.total)?l.revenue.total:j,k=null!=(null===l||void 0===l||null===(t=l.revenue)||void 0===t?void 0:t.entryCount)?l.revenue.entryCount:w.length;return{stats:{totalCompetitions:u.length,activeCompetitions:v,pendingScores:y,totalRegistrations:x,newRegistrationsThisPeriod:b,totalRevenue:S,revenueThisPeriod:N,revenueEntryCount:k},range:l,revenue:{entries:w,totalRevenue:S,revenueThisPeriod:N},payment:{subscriptionStatus:(null===l||void 0===l?void 0:l.subscriptionStatus)||null,renewalDate:(null===l||void 0===l?void 0:l.subscriptionRenewalDate)||null,lastPaymentDate:(null===l||void 0===l?void 0:l.subscriptionLastPaymentDate)||null,amount:(null===l||void 0===l?void 0:l.subscriptionAmount)||null,currency:(null===l||void 0===l?void 0:l.subscriptionCurrency)||"USD"}}},getPendingScores:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{rangeId:t}=e;if(!t)throw new Error("Range ID required");const n=(await eg(Zm(dg,"competitions"))).docs.map(e=>Be({id:e.id},e.data())),r=n.filter(e=>{var n,r;return(null===(n=e.range)||void 0===n?void 0:n.id)===t||(null===(r=e.range)||void 0===r?void 0:r.name)===t||e.rangeId===t}),i=r.map(e=>e.id),a=(await eg(Zm(dg,"scores"))).docs.map(e=>Be({id:e.id},e.data())),s=a.filter(e=>i.includes(e.competitionId)&&"pending"===(e.verificationStatus||"pending")),o=Array.from(new Set(s.map(e=>{var t;return e.competitorId||(null===(t=e.competitor)||void 0===t?void 0:t.id)}).filter(Boolean))),l=await Promise.all(o.map(e=>Jp(ep(dg,"users",e)))),c=new Map;l.forEach((e,t)=>{e.exists()&&c.set(o[t],Be({id:o[t]},e.data()))});const u=s.map(e=>{var t;return Be(Be({},e),{},{competitor:c.get(e.competitorId||(null===(t=e.competitor)||void 0===t?void 0:t.id))||null,competition:r.find(t=>t.id===e.competitionId)||null})});return{data:{scores:u}}}},$v=["title","titleId"];function Jv(e,t){let{title:n,titleId:r}=e,a=wg(e,$v);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Zv=i.forwardRef(Jv),ey=["title","titleId"];function ty(e,t){let{title:n,titleId:r}=e,a=wg(e,ey);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3.75H6A2.25 2.25 0 0 0 3.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0 1 20.25 6v1.5m0 9V18A2.25 2.25 0 0 1 18 20.25h-1.5m-9 0H6A2.25 2.25 0 0 1 3.75 18v-1.5M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ny=i.forwardRef(ty),ry=["title","titleId"];function iy(e,t){let{title:n,titleId:r}=e,a=wg(e,ry);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ay=i.forwardRef(iy),sy=["title","titleId"];function oy(e,t){let{title:n,titleId:r}=e,a=wg(e,sy);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const ly=i.forwardRef(oy),cy=["title","titleId"];function uy(e,t){let{title:n,titleId:r}=e,a=wg(e,cy);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const dy=i.forwardRef(uy),hy=()=>{var e,t,n,r,i;const{isAuthenticated:a}=xg(),s=(e,t)=>{const n=(e||"").trim(),r=(t||"").trim();return n&&r?"".concat(n," ").concat(r.charAt(0).toUpperCase(),"."):n||"Shooter"},o=e=>(e||"").toString().replace(/^provisional\s+/i,"").trim(),l=e=>{switch((e||"").toLowerCase().replace(/^provisional\s+/,"")){case"grand master":return"bg-purple-600 text-white border-2 border-purple-700";case"master":return"bg-blue-600 text-white border-2 border-blue-700";case"diamond":return"bg-cyan-500 text-white border-2 border-cyan-600";case"platinum":return"bg-slate-500 text-white border-2 border-slate-600";case"gold":return"bg-yellow-500 text-yellow-900 border-2 border-yellow-600";case"bronze":return"bg-orange-600 text-white border-2 border-orange-700";default:return"bg-gray-800/50 text-gray-300 border border-gray-700"}},c=e=>{switch((e||"").toLowerCase()){case"grand master":return"Avg score \u2265 95 (elite)";case"master":return"Avg score \u2265 92";case"diamond":return"Avg score \u2265 89";case"platinum":return"Avg score \u2265 85";case"gold":return"Avg score \u2265 80";case"bronze":return"Developing shooter";default:return"Classification pending"}},u=e=>{switch((e||"").toLowerCase().replace(/^provisional\s+/,"")){case"grand master":return"bg-purple-600/15";case"master":return"bg-blue-600/15";case"diamond":return"bg-cyan-500/15";case"platinum":return"bg-slate-500/15";case"gold":return"bg-yellow-500/15";case"bronze":return"bg-orange-600/15";default:return"bg-gray-50"}},d=e=>{switch((e||"").toLowerCase()){case"grand master":return"249.0\u2013250.0 avg, 15+ X avg";case"master":return"247.0\u2013248.9 avg, 10+ X avg";case"diamond":return"245.0\u2013246.9 avg, 8+ X avg";case"platinum":return"242.0\u2013244.9 avg, 6+ X avg";case"gold":return"238.0\u2013241.9 avg, 4+ X avg";case"bronze":return"Below 238.0 avg";default:return"Classification pending"}},{data:h,isLoading:f,error:m}=(0,Re.useQuery)(["featured-competitions"],async()=>{try{return(await gv({status:"published",limit:3})).data}catch(e){throw console.error("Home: Competitions error:",e),e}},{staleTime:3e5,enabled:!0,retry:2}),{data:p,isLoading:g,error:v}=(0,Re.useQuery)(["top-shooters"],async()=>{try{return(await _v.getOverall({limit:5})).data}catch(e){throw console.error("Home: Top shooters error:",e),e}},{staleTime:6e5,enabled:!0,retry:2}),{data:y,isLoading:x}=(0,Re.useQuery)(["latest-competition-winner"],async()=>{try{let a=[];try{var e;const t=await gv({status:"completed",limit:20});a.push(...(null===(e=t.data)||void 0===e?void 0:e.competitions)||[])}catch(i){console.warn("Could not fetch completed competitions:",i)}try{var t;const e=await gv({status:"closed",limit:20});a.push(...(null===(t=e.data)||void 0===t?void 0:t.competitions)||[])}catch(i){console.warn("Could not fetch closed competitions:",i)}try{var n;const e=await gv({status:"published",limit:20});a.push(...(null===(n=e.data)||void 0===n?void 0:n.competitions)||[])}catch(i){console.warn("Could not fetch published competitions:",i)}const s=Array.from(new Map(a.map(e=>[e.id,e])).values()).sort((e,t)=>{var n,r,i,a;const s=(null===(n=e.schedule)||void 0===n?void 0:n.competitionDate)||e.startDate||e.createdAt||0,o=(null===(r=t.schedule)||void 0===r?void 0:r.competitionDate)||t.startDate||t.createdAt||0,l="string"===typeof s?new Date(s).getTime():(null===s||void 0===s||null===(i=s.toMillis)||void 0===i?void 0:i.call(s))||("object"===typeof s&&null!==s&&void 0!==s&&s.seconds?1e3*s.seconds:0)||0;return("string"===typeof o?new Date(o).getTime():(null===o||void 0===o||null===(a=o.toMillis)||void 0===a?void 0:a.call(o))||("object"===typeof o&&null!==o&&void 0!==o&&o.seconds?1e3*o.seconds:0)||0)-l});for(const e of s)try{var r;const t=(null===(r=(await kv(e.id)).data)||void 0===r?void 0:r.scores)||[];if(t.length>0){const n=new Map;t.forEach(e=>{var t,r,i,a,s,o;const l=e.competitorId||e.userId||e.id,c=(null===(t=e.competitor)||void 0===t?void 0:t.firstName)||e.firstName||"",u=(null===(r=e.competitor)||void 0===r?void 0:r.lastName)||e.lastName||"",d=null!==(i=null!==(a=e.totalScore)&&void 0!==a?a:e.score)&&void 0!==i?i:0,h="number"===typeof(null===(s=e.tiebreakerData)||void 0===s?void 0:s.xCount)?e.tiebreakerData.xCount:Array.isArray(e.shots)?e.shots.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length:0,f=(null===(o=e.competitor)||void 0===o?void 0:o.classification)||e.classification||null;var m;n.has(l)||n.set(l,{competitorId:l,firstName:c,lastName:u,displayName:"".concat(c," ").concat((null===u||void 0===u||null===(m=u.charAt(0))||void 0===m?void 0:m.toUpperCase())||"","."),classification:f,totalScore:0,totalXCount:0,scoreCount:0});const p=n.get(l);p.totalScore+=d,p.totalXCount+=h,p.scoreCount+=1});const r=Array.from(n.values());if(r.sort((e,t)=>t.totalScore!==e.totalScore?t.totalScore-e.totalScore:t.totalXCount-e.totalXCount),r.length>0)return{competition:e,winner:r[0]}}}catch(i){console.warn("Failed to get scores for competition ".concat(e.id,":"),i);continue}return null}catch(i){return console.error("Home: Latest competition winner error:",i),null}},{staleTime:3e5,enabled:!0,retry:1}),{data:b,error:w}=(0,Re.useQuery)(["landing-stats"],()=>Ov(),{staleTime:12e4,enabled:!0,retry:2}),j=()=>(0,mg.jsx)("div",{className:"sm:hidden mb-4",children:(0,mg.jsxs)("div",{className:"bg-white border-2 border-red-800 rounded-xl p-4 flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Welcome to The X-Ring Classic"}),(0,mg.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Sign in or create an account"})]}),(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsx)(Pe,{to:"/login",className:"text-sm text-gray-700 hover:text-gray-900",children:"Login"}),(0,mg.jsx)(Pe,{to:"/register",className:"px-3 py-1 text-sm rounded-md bg-gray-700 text-white hover:bg-gray-600",children:"Register"})]})]})}),N=e=>Number.isFinite(e)?e>=1e3?"".concat((e/1e3).toFixed(e%1e3===0?0:1),"k+"):e.toString():"0";return(0,mg.jsxs)("div",{className:"relative space-y-12",children:[(0,mg.jsxs)("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[(0,mg.jsx)("div",{className:"absolute -top-40 left-1/2 h-[28rem] w-[28rem] -translate-x-1/2 rounded-full bg-red-600/20 blur-3xl"}),(0,mg.jsx)("div",{className:"absolute top-32 right-[-6rem] h-[22rem] w-[22rem] rounded-full bg-yellow-500/20 blur-3xl"}),(0,mg.jsx)("div",{className:"absolute bottom-20 left-[-6rem] h-[24rem] w-[24rem] rounded-full bg-blue-600/15 blur-3xl"})]}),(m||v||w)&&(0,mg.jsxs)("div",{className:"bg-red-900/50 border border-red-700 rounded-lg p-4 text-white",children:[(0,mg.jsx)("p",{className:"font-semibold mb-2",children:"Error loading data:"}),m&&(0,mg.jsxs)("p",{className:"text-sm",children:["Competitions: ",m.message]}),v&&(0,mg.jsxs)("p",{className:"text-sm",children:["Leaderboard: ",v.message]}),w&&(0,mg.jsxs)("p",{className:"text-sm",children:["Stats: ",w.message]})]}),(0,mg.jsx)(j,{}),(0,mg.jsx)("section",{className:"relative overflow-hidden rounded-2xl",children:(0,mg.jsxs)("div",{className:"relative",children:[(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic Banner",className:"w-full h-auto object-cover"}),(0,mg.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent p-8",children:(0,mg.jsxs)("div",{className:"text-center text-white",children:[(0,mg.jsx)("p",{className:"text-lg md:text-xl mb-4 drop-shadow-lg font-medium",children:"The premier platform for precision .22 rifle competitions and marksmanship excellence"}),(0,mg.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,mg.jsx)(Pe,{to:"/competitions",className:"bg-white text-gray-900 px-6 py-2 rounded-lg font-semibold hover:bg-gray-200 transition-colors shadow-lg text-sm",children:"Browse Competitions"}),(0,mg.jsx)(Pe,{to:"/leaderboard",className:"border-2 border-white text-white px-6 py-2 rounded-lg font-semibold hover:bg-white hover:text-gray-900 transition-colors shadow-lg text-sm",children:"View Leaderboards"})]})]})})]})}),(0,mg.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,mg.jsx)(Pe,{to:"/competitions",className:"group bg-white rounded-2xl border-2 border-red-800/70 shadow-sm hover:shadow-md transition-shadow p-6",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Explore"}),(0,mg.jsx)("div",{className:"text-xl font-bold text-gray-900 mt-1",children:"Competitions"}),(0,mg.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Find active matches and results"})]}),(0,mg.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-600/15 flex items-center justify-center group-hover:bg-blue-600/20",children:(0,mg.jsx)(Zv,{className:"w-6 h-6 text-blue-700"})})]})}),(0,mg.jsx)(Pe,{to:"/leaderboard",className:"group bg-white rounded-2xl border-2 border-red-800/70 shadow-sm hover:shadow-md transition-shadow p-6",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Rankings"}),(0,mg.jsx)("div",{className:"text-xl font-bold text-gray-900 mt-1",children:"Leaderboards"}),(0,mg.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"See who\u2019s climbing"})]}),(0,mg.jsx)("div",{className:"w-12 h-12 rounded-xl bg-yellow-500/15 flex items-center justify-center group-hover:bg-yellow-500/20",children:(0,mg.jsx)(Cg,{className:"w-6 h-6 text-yellow-700"})})]})}),(0,mg.jsx)(Pe,{to:a?"/profile":"/login",className:"group bg-white rounded-2xl border-2 border-red-800/70 shadow-sm hover:shadow-md transition-shadow p-6",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Performance"}),(0,mg.jsx)("div",{className:"text-xl font-bold text-gray-900 mt-1",children:a?"Your Stats":"Sign In"}),(0,mg.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:a?"Shot-level analytics and trends":"Access your profile & stats"})]}),(0,mg.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-600/15 flex items-center justify-center group-hover:bg-purple-600/20",children:(0,mg.jsx)(ny,{className:"w-6 h-6 text-purple-700"})})]})})]}),y&&y.winner&&(0,mg.jsxs)("section",{className:"relative overflow-hidden rounded-3xl border-2 border-yellow-400 bg-gradient-to-r from-yellow-50 via-yellow-100 to-yellow-50 shadow-xl",children:[(0,mg.jsx)("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 20% 20%, rgba(250, 204, 21, .55), transparent 45%), radial-gradient(circle at 80% 30%, rgba(234, 179, 8, .35), transparent 40%)"}}),(0,mg.jsx)("div",{className:"relative p-8 sm:p-10",children:(0,mg.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-yellow-600/15 text-yellow-800 border border-yellow-600/25 text-xs font-semibold uppercase tracking-wide",children:[(0,mg.jsx)(Cg,{className:"w-4 h-4"}),"Latest Winner"]}),(0,mg.jsx)("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 mt-4",children:y.winner.displayName}),(0,mg.jsx)("p",{className:"text-gray-700 mt-2 text-lg",children:y.competition.title}),y.winner.classification&&(0,mg.jsx)("div",{className:"mt-4",children:(0,mg.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-semibold ".concat(l(y.winner.classification)),children:o(y.winner.classification)})}),(0,mg.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,mg.jsx)(Pe,{to:"/competitions/".concat(y.competition.id),className:"inline-flex items-center justify-center px-6 py-2.5 bg-yellow-600 text-white rounded-lg font-semibold hover:bg-yellow-700 transition-colors shadow",children:"View Competition Results"}),(0,mg.jsx)(Pe,{to:"/competitions",className:"inline-flex items-center justify-center px-6 py-2.5 bg-white/80 text-gray-900 rounded-lg font-semibold hover:bg-white transition-colors border border-yellow-600/30",children:"Browse Competitions"})]})]}),(0,mg.jsx)("div",{className:"flex-1",children:(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-yellow-600/15",children:[(0,mg.jsx)("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Total Score"}),(0,mg.jsx)("div",{className:"text-3xl font-extrabold text-gray-900 mt-1",children:y.winner.totalScore.toFixed(1)}),(0,mg.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Across submitted scorecards"})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-yellow-600/15",children:[(0,mg.jsx)("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Total X Count"}),(0,mg.jsx)("div",{className:"text-3xl font-extrabold text-gray-900 mt-1",children:y.winner.totalXCount}),(0,mg.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Perfect shots (X)"})]})]})})]})})]}),(0,mg.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,mg.jsxs)("div",{className:"card text-center",children:[(0,mg.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-600/40 rounded-lg mx-auto mb-4",children:(0,mg.jsx)(Cg,{className:"w-6 h-6 text-blue-200"})}),(0,mg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:N(null!==(e=null===b||void 0===b?void 0:b.activeCompetitions)&&void 0!==e?e:0)}),(0,mg.jsx)("p",{className:"text-gray-700",children:"Active Competitions"})]}),(0,mg.jsxs)("div",{className:"card text-center",children:[(0,mg.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-green-600/40 rounded-lg mx-auto mb-4",children:(0,mg.jsx)(ay,{className:"w-6 h-6 text-green-200"})}),(0,mg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:N(null!==(t=null===b||void 0===b?void 0:b.totalUsers)&&void 0!==t?t:0)}),(0,mg.jsx)("p",{className:"text-gray-700",children:"Registered Shooters"})]}),(0,mg.jsxs)("div",{className:"card text-center",children:[(0,mg.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-600/40 rounded-lg mx-auto mb-4",children:(0,mg.jsx)(ny,{className:"w-6 h-6 text-purple-200"})}),(0,mg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:N(null!==(n=null===b||void 0===b?void 0:b.totalScores)&&void 0!==n?n:0)}),(0,mg.jsx)("p",{className:"text-gray-700",children:"Scores Submitted"})]}),(0,mg.jsxs)("div",{className:"card text-center",children:[(0,mg.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-orange-600/40 rounded-lg mx-auto mb-4",children:(0,mg.jsx)(ly,{className:"w-6 h-6 text-orange-200"})}),(0,mg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:N(null!==(r=null===b||void 0===b?void 0:b.rangesPartnered)&&void 0!==r?r:0)}),(0,mg.jsx)("p",{className:"text-gray-700",children:"Ranges Partnered"})]})]}),(0,mg.jsxs)("section",{children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,mg.jsx)("h2",{className:"text-3xl font-bold text-gray-100",children:"Featured Competitions"}),(0,mg.jsxs)(Pe,{to:"/competitions",className:"flex items-center space-x-2 text-gray-300 hover:text-gray-200 font-medium",children:[(0,mg.jsx)("span",{children:"View All"}),(0,mg.jsx)(dy,{className:"w-4 h-4"})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[((null===h||void 0===h?void 0:h.competitions)||[]).map(e=>{var t,n;return(0,mg.jsxs)("div",{className:"card hover:shadow-md transition-shadow",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("span",{className:"badge ".concat("indoor"===(e.competitionType||e.type)?"badge-info":"badge-success"),children:e.competitionType||e.type}),(0,mg.jsx)("span",{className:"text-sm text-gray-700",children:e.maxDistance?"".concat(e.maxDistance," yards"):e.distance||"TBD"})]}),(0,mg.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,mg.jsx)("p",{className:"text-gray-700 mb-4 line-clamp-2",children:e.description}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4 text-sm mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,mg.jsx)(Zv,{className:"w-4 h-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-gray-900",children:null!==(t=e.schedule)&&void 0!==t&&t.competitionDate?new Date(e.schedule.competitionDate).toLocaleDateString():e.startDate?new Date(e.startDate).toLocaleDateString():"TBD"})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,mg.jsx)(ly,{className:"w-4 h-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-gray-900",children:(null===(n=e.range)||void 0===n?void 0:n.name)||e.location||"TBD"})]})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:["$",e.prizePool]}),(0,mg.jsx)(Pe,{to:"/competitions/".concat(e.id),className:"btn-primary text-sm",children:"View Details"})]})]},e.id)}),(f||!(null!==h&&void 0!==h&&null!==(i=h.competitions)&&void 0!==i&&i.length))&&Array.from({length:3}).map((e,t)=>(0,mg.jsxs)("div",{className:"card animate-pulse",children:[(0,mg.jsx)("div",{className:"h-4 bg-gray-800 rounded w-1/4 mb-4"}),(0,mg.jsx)("div",{className:"h-6 bg-gray-800 rounded w-3/4 mb-2"}),(0,mg.jsx)("div",{className:"h-4 bg-gray-800 rounded w-full mb-4"}),(0,mg.jsx)("div",{className:"h-4 bg-gray-800 rounded w-1/2 mb-4"}),(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("div",{className:"h-6 bg-gray-800 rounded w-1/4"}),(0,mg.jsx)("div",{className:"h-8 bg-gray-800 rounded w-1/3"})]})]},t))]})]}),(0,mg.jsxs)("section",{children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,mg.jsx)("h2",{className:"text-3xl font-bold text-gray-100",children:"Top Shooters"}),(0,mg.jsxs)(Pe,{to:"/leaderboard",className:"flex items-center space-x-2 text-gray-300 hover:text-gray-200 font-medium",children:[(0,mg.jsx)("span",{children:"View Full Leaderboard"}),(0,mg.jsx)(dy,{className:"w-4 h-4"})]})]}),(0,mg.jsx)("div",{className:"bg-white rounded-2xl border-2 border-red-800 shadow-sm p-6",children:(e=>{const t=(null===p||void 0===p?void 0:p.leaderboard)||[],n=t.slice(0,3),r=t.slice(3),i=e=>0===e?"bg-yellow-500 text-yellow-900":1===e?"bg-slate-400 text-slate-900":"bg-orange-500 text-orange-900";return(0,mg.jsxs)(mg.Fragment,{children:[n.length>0&&(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:n.map((e,t)=>{var n,r,a,u;const d=e.competitor||{},h=s(d.firstName,d.lastName),f=((e,t)=>{const n=(e||"").trim(),r=(t||"").trim();return(n?n.charAt(0).toUpperCase():"")+(r?r.charAt(0).toUpperCase():"")||"S"})(d.firstName,d.lastName),m=null===(n=null!==(r=e.bestScore)&&void 0!==r?r:e.score)||void 0===n?void 0:n.toFixed(1);return(0,mg.jsxs)("div",{className:"rounded-2xl border p-5 shadow-sm ".concat(0===t?"border-yellow-500/50 bg-yellow-50":"border-gray-200 bg-gray-50"),children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-sm font-extrabold ".concat(i(t)),children:t+1}),(0,mg.jsxs)("div",{className:"text-xs font-semibold text-gray-600",children:[null!==(a=e.competitionsCount)&&void 0!==a?a:1," ",1===(null!==(u=e.competitionsCount)&&void 0!==u?u:1)?"competition":"competitions"]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,mg.jsx)("div",{className:"w-12 h-12 rounded-xl bg-white border flex items-center justify-center font-extrabold text-gray-800",children:f}),(0,mg.jsxs)("div",{className:"min-w-0",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,mg.jsx)("div",{className:"font-bold text-gray-900 truncate",children:h}),d.classification&&(0,mg.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat(l(d.classification)),title:"".concat(o(d.classification)," \u2013 ").concat(c(d.classification)),children:o(d.classification)})]}),(0,mg.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Best: ",(0,mg.jsx)("span",{className:"font-semibold text-gray-900",children:m})]})]})]})]},"".concat(d.id||t,"-podium"))})}),(0,mg.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>{var n,r,i,a;const c=t+4,d=e.competitor||{},h=s(d.firstName,d.lastName),f=null===(n=null!==(r=e.bestScore)&&void 0!==r?r:e.score)||void 0===n?void 0:n.toFixed(1);return(0,mg.jsxs)("div",{className:"flex items-center justify-between rounded-xl px-4 py-3 border border-gray-200 ".concat(u(d.classification)),children:[(0,mg.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mg.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600/15 text-blue-800 flex items-center justify-center text-sm font-extrabold",children:c}),(0,mg.jsxs)("div",{className:"min-w-0",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,mg.jsx)("div",{className:"font-semibold text-gray-900 truncate",children:h}),d.classification&&(0,mg.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat(l(d.classification)),children:o(d.classification)})]}),(0,mg.jsxs)("div",{className:"text-xs text-gray-600",children:[null!==(i=e.competitionsCount)&&void 0!==i?i:1," ",1===(null!==(a=e.competitionsCount)&&void 0!==a?a:1)?"competition":"competitions"]})]})]}),(0,mg.jsxs)("div",{className:"text-right",children:[(0,mg.jsx)("div",{className:"font-semibold text-gray-900",children:f}),(0,mg.jsx)("div",{className:"text-xs text-gray-600",children:"Best score"})]})]},"".concat(d.id||c,"-row"))})}),(g||!(null!==p&&void 0!==p&&null!==(e=p.leaderboard)&&void 0!==e&&e.length))&&(0,mg.jsx)("div",{className:"mt-2",children:Array.from({length:5}).map((e,t)=>(0,mg.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0 animate-pulse",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-xl"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),(0,mg.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]}),(0,mg.jsxs)("div",{className:"text-right",children:[(0,mg.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12 mb-2"}),(0,mg.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]},t))})]})})()}),(0,mg.jsxs)("div",{className:"mt-4 bg-white rounded-lg shadow-sm border-2 border-red-800 p-4",children:[(0,mg.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Classification Legend"}),(0,mg.jsx)("div",{className:"flex flex-wrap gap-2",children:["Grand Master","Master","Diamond","Platinum","Gold","Bronze"].map(e=>(0,mg.jsxs)("div",{className:"flex items-center gap-2 mr-2",children:[(0,mg.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat(l(e)),children:e}),(0,mg.jsx)("span",{className:"text-xs text-gray-600",children:d(e)})]},e))})]})]}),(0,mg.jsxs)("section",{className:"text-center py-16 bg-white rounded-2xl border-2 border-red-800",children:[(0,mg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Compete?"}),(0,mg.jsx)("p",{className:"text-xl text-gray-700 mb-8 max-w-2xl mx-auto",children:"Join thousands of precision shooters in the ultimate .22LR rifle championship platform. Register today and start your journey to the top of the leaderboard."}),(0,mg.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,mg.jsx)(Pe,{to:"/register",className:"btn-primary text-lg px-8 py-3",children:"Get Started"}),(0,mg.jsx)(Pe,{to:"/competitions",className:"btn-secondary text-lg px-8 py-3",children:"Browse Competitions"})]})]}),!1]})};var fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const my=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],py=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),gy=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u}=n,d=wg(n,my);return(0,i.createElement)("svg",Be(Be({ref:r},fy),{},{width:s,height:s,stroke:a,strokeWidth:l?24*Number(o)/Number(s):o,className:["lucide","lucide-".concat(py(e)),c].join(" ")},d),[...t.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(u)?u:[u]])});return n.displayName="".concat(e),n},vy=gy("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),yy=gy("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),xy=gy("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),by=gy("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),wy=gy("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),jy=()=>{var e,t,n,r,i,a;const s=ne(),o=(0,Re.useQueryClient)(),{data:l,isLoading:c}=(0,Re.useQuery)(["competitions-active"],async()=>{var e;const t=[...(null===(e=(await gv({status:"published",limit:50}).catch(()=>({data:{competitions:[]}}))).data)||void 0===e?void 0:e.competitions)||[]],n=Array.from(new Map(t.map(e=>[e.id,e])).values());return n.sort((e,t)=>{var n,r,i,a;const s=(null===(n=e.schedule)||void 0===n?void 0:n.competitionDate)||e.startDate||e.createdAt||0,o=(null===(r=t.schedule)||void 0===r?void 0:r.competitionDate)||t.startDate||t.createdAt||0;return("string"===typeof s?new Date(s).getTime():(null===s||void 0===s||null===(i=s.toMillis)||void 0===i?void 0:i.call(s))||("object"===typeof s&&null!==s&&void 0!==s&&s.seconds?1e3*s.seconds:0)||0)-("string"===typeof o?new Date(o).getTime():(null===o||void 0===o||null===(a=o.toMillis)||void 0===a?void 0:a.call(o))||("object"===typeof o&&null!==o&&void 0!==o&&o.seconds?1e3*o.seconds:0)||0)}),{data:{competitions:n}}},{staleTime:3e5}),{data:u,isLoading:d}=(0,Re.useQuery)(["competitions-past"],async()=>{var e;const t=[...(null===(e=(await gv({status:"completed",limit:50}).catch(()=>({data:{competitions:[]}}))).data)||void 0===e?void 0:e.competitions)||[]],n=Array.from(new Map(t.map(e=>[e.id,e])).values());return n.sort((e,t)=>{var n,r,i,a;const s=(null===(n=e.schedule)||void 0===n?void 0:n.competitionDate)||e.startDate||e.createdAt||0,o=(null===(r=t.schedule)||void 0===r?void 0:r.competitionDate)||t.startDate||t.createdAt||0,l="string"===typeof s?new Date(s).getTime():(null===s||void 0===s||null===(i=s.toMillis)||void 0===i?void 0:i.call(s))||("object"===typeof s&&null!==s&&void 0!==s&&s.seconds?1e3*s.seconds:0)||0;return("string"===typeof o?new Date(o).getTime():(null===o||void 0===o||null===(a=o.toMillis)||void 0===a?void 0:a.call(o))||("object"===typeof o&&null!==o&&void 0!==o&&o.seconds?1e3*o.seconds:0)||0)-l}),{data:{competitions:n}}},{staleTime:3e5}),h=c||d,f=(0,Re.useMutation)(e=>jv(e),{onSuccess:()=>{nn.success("Successfully registered for competition!"),o.invalidateQueries(["competitions"])},onError:e=>{var t,n;nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to register for competition")}}),m=e=>{switch(e){case"draft":default:return"bg-gray-100 text-gray-800";case"published":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";case"closed":return"bg-orange-100 text-orange-800"}},p=e=>{switch(e.competitionType||e.type){case"indoor":return"\ud83c\udfe0";case"outdoor":return"\ud83c\udf32";case"precision":return"\ud83c\udfaf";case"speed":return"\u26a1";default:return"\ud83c\udfc6"}};return h?(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-20 w-auto mx-auto object-contain"})}),(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white mb-4 drop-shadow-lg",children:"Competitions"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Browse and join .22LR rifle competitions"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Active Competitions"}),(0,mg.jsxs)("p",{className:"text-white/80 text-sm",children:[((null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.competitions)||[]).length," competition",1!==((null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.competitions)||[]).length?"s":""]})]}),c?(0,mg.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):((null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.competitions)||[]).length>0?(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(l.data.competitions||[]).map(e=>{var t,n;return(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[(0,mg.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,mg.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)("span",{className:"text-2xl",children:p(e)}),(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title})]}),(0,mg.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(m(e.status)),children:e.status})]}),(0,mg.jsx)("p",{className:"text-gray-700 text-sm mb-4",children:e.description}),(0,mg.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(vy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-gray-900",children:null!==(t=e.schedule)&&void 0!==t&&t.competitionDate?new Date(e.schedule.competitionDate).toLocaleDateString():e.startDate?new Date(e.startDate).toLocaleDateString():"TBD"})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(yy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-gray-900",children:(null===(n=e.range)||void 0===n?void 0:n.name)||e.location||"TBD"})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(xy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsxs)("span",{className:"text-gray-900",children:[e.participantCount||e.registeredCount||0," / ",e.maxParticipants," participants"]})]})]})]}),(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(by,{className:"h-4 w-4 text-yellow-500"}),(0,mg.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",e.prizePool||0]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(wy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-sm text-gray-700",children:e.duration||"TBD"})]})]}),(0,mg.jsxs)("div",{className:"flex space-x-3",children:[(0,mg.jsx)("button",{onClick:()=>s("/competitions/".concat(e.id)),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Details"}),"published"===e.status&&(0,mg.jsx)("button",{onClick:()=>f.mutate(e.id),disabled:f.isLoading,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f.isLoading?"Registering...":"Register"})]})]})]},e.id)})}):(0,mg.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border",children:[(0,mg.jsx)("div",{className:"text-gray-600 mb-4",children:(0,mg.jsx)(by,{className:"h-16 w-16 mx-auto"})}),(0,mg.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No active competitions"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"Check back later for new competitions."})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Past Competitions"}),(0,mg.jsxs)("p",{className:"text-white/80 text-sm",children:[((null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.competitions)||[]).length," competition",1!==((null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.competitions)||[]).length?"s":""]})]}),d?(0,mg.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):((null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.competitions)||[]).length>0?(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(u.data.competitions||[]).map(e=>{var t,n;return(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow opacity-90",children:[(0,mg.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,mg.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)("span",{className:"text-2xl",children:p(e)}),(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title})]}),(0,mg.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(m(e.status)),children:e.status})]}),(0,mg.jsx)("p",{className:"text-gray-700 text-sm mb-4",children:e.description}),(0,mg.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(vy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-gray-900",children:null!==(t=e.schedule)&&void 0!==t&&t.competitionDate?new Date(e.schedule.competitionDate).toLocaleDateString():e.startDate?new Date(e.startDate).toLocaleDateString():"TBD"})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(yy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-gray-900",children:(null===(n=e.range)||void 0===n?void 0:n.name)||e.location||"TBD"})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(xy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsxs)("span",{className:"text-gray-900",children:[e.participantCount||e.registeredCount||0," / ",e.maxParticipants," participants"]})]})]})]}),(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(by,{className:"h-4 w-4 text-yellow-500"}),(0,mg.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",e.prizePool||0]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(wy,{className:"h-4 w-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-sm text-gray-700",children:e.duration||"TBD"})]})]}),(0,mg.jsx)("button",{onClick:()=>s("/competitions/".concat(e.id)),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Results"})]})]},e.id)})}):(0,mg.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border opacity-90",children:[(0,mg.jsx)("div",{className:"text-gray-600 mb-4",children:(0,mg.jsx)(by,{className:"h-16 w-16 mx-auto"})}),(0,mg.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No past competitions"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"Past competitions will appear here."})]})]})]})},Ny=gy("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Sy=gy("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ky=gy("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Ey=gy("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Cy=gy("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),_y=gy("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Oy=gy("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ty=e=>{let{classification:t,size:n=24,className:r=""}=e;const[a,s]=(0,i.useState)(!1),o=(0,i.useMemo)(()=>t?String(t).replace(/^provisional\s+/i,"").trim():"",[t]),l=(0,i.useMemo)(()=>{const e=(e=>{if(!e)return null;const t=String(e).trim().toLowerCase();return"gm"===t||t.includes("grand")?"GM.png":t.includes("master")?"Master.png":t.includes("diamond")?"Diamond.png":t.includes("platinum")?"Platinum.png":t.includes("gold")?"Gold.png":t.includes("bronze")?"Bronze.png":(t.includes("rookie"),null)})(t);if(!e)return null;return"".concat("/X-Ring-Classic","/").concat(e)},[t]);if(!l||a)return null;const c={width:n,height:n};return(0,mg.jsx)("img",{src:l,alt:"".concat(o," logo"),title:o,style:c,className:"inline-block object-contain ".concat(r),onError:e=>{e.currentTarget.style.display="none",s(!0)}})},Ay=()=>{var e,t,n,r,a,s,o;const{id:l}=ie(),c=ne(),{user:u}=xg(),d=(0,Re.useQueryClient)(),[h,f]=(0,i.useState)(!1),[m,p]=(0,i.useState)("overview"),[g,v]=(0,i.useState)({column:"score",direction:"desc"}),[y,x]=(0,i.useState)(new Set),b=e=>{switch((e=>(e||"").toLowerCase().replace(/^provisional\s+/,"").trim())(e)){case"grand master":return"bg-purple-50 text-purple-700 border border-purple-200";case"master":return"bg-blue-50 text-blue-700 border border-blue-200";case"diamond":return"bg-cyan-50 text-cyan-700 border border-cyan-200";case"platinum":return"bg-gray-50 text-gray-700 border border-gray-200";case"gold":return"bg-yellow-50 text-yellow-800 border border-yellow-200";case"bronze":return"bg-orange-50 text-orange-700 border border-orange-200";default:return"bg-gray-50 text-gray-600 border border-gray-200"}},{data:w,isLoading:j,error:N}=(0,Re.useQuery)(["competition",l],async()=>{var e;return null===(e=(await yv(l)).data)||void 0===e?void 0:e.competition},{staleTime:3e5}),{data:S}=(0,Re.useQuery)(["competition-scores",l],async()=>{var e;return(null===(e=(await kv(l)).data)||void 0===e?void 0:e.scores)||[]},{staleTime:12e4}),k=(e,t,n)=>e&&t?"".concat(e," ").concat(t.charAt(0).toUpperCase(),"."):e||(n||"Unknown"),E=(0,i.useMemo)(()=>{const e=new Map;(S||[]).forEach(t=>{var n,r,i,a,s,o,l,c;const u=t.competitorId||t.userId||t.userName||"user_".concat(t.id),d=(null===(n=t.competitor)||void 0===n?void 0:n.firstName)||t.firstName||"",h=(null===(r=t.competitor)||void 0===r?void 0:r.lastName)||t.lastName||"",f=(null===(i=t.competitor)||void 0===i?void 0:i.username)||t.username||t.userName||"Unknown",m=(e=>{try{if(!e)return null;if("function"===typeof(null===e||void 0===e?void 0:e.toMillis))return new Date(e.toMillis());if("function"===typeof(null===e||void 0===e?void 0:e.toDate))return e.toDate();if("number"===typeof e)return new Date(e);if("string"===typeof e){const t=Date.parse(e);return Number.isFinite(t)?new Date(t):null}}catch(t){console.warn("Failed to parse date",t)}return null})(t.submittedAt||t.createdAt||t.updatedAt)||new Date,p=null!==(a=null!==(s=t.totalScore)&&void 0!==s?s:t.score)&&void 0!==a?a:0,g="number"===typeof(null===(o=t.tiebreakerData)||void 0===o?void 0:o.xCount)?t.tiebreakerData.xCount:Array.isArray(t.shots)?t.shots.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length:0,v=(null===(l=t.competitor)||void 0===l?void 0:l.classification)||t.classification||t.classificationLabel||null,y=null!==(c=t.status)&&void 0!==c?c:"approved"===t.verificationStatus?"verified":t.verificationStatus||"pending";e.has(u)||e.set(u,{competitorId:u,firstName:d,lastName:h,username:f,displayName:k(d,h,f),classification:v,individualScores:[],totalScore:0,totalXCount:0,averageScore:0,scoreCount:0});const x=e.get(u);x.individualScores.push({id:t.id,score:p,xCount:g,status:y,submittedAt:m,submittedDisplay:m.toLocaleDateString()}),x.totalScore+=p,x.totalXCount+=g,x.scoreCount+=1});const t=Array.from(e.values()).map(e=>Be(Be({},e),{},{averageScore:e.scoreCount>0?e.totalScore/e.scoreCount:0}));return t.sort((e,t)=>t.totalScore!==e.totalScore?t.totalScore-e.totalScore:t.totalXCount-e.totalXCount),t.map((e,t)=>Be(Be({},e),{},{rank:t+1}))},[S]),C=E.length>0&&E[0]?E[0]:null,_=(0,Re.useMutation)(()=>jv(l),{onSuccess:()=>{nn.success("Successfully registered for competition!"),d.invalidateQueries(["competition",l]),f(!0)},onError:e=>{var t,n;nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to register")}}),O=(0,Re.useMutation)(()=>wv(l),{onSuccess:()=>{nn.success("Competition deleted successfully"),c("/competitions")},onError:e=>{var t,n;nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete competition")}}),T=null===w||void 0===w||null===(e=w.participants)||void 0===e?void 0:e.some(e=>e.userId===(null===u||void 0===u?void 0:u.id)),A="admin"===(null===u||void 0===u?void 0:u.role)||"range_admin"===(null===u||void 0===u?void 0:u.role);null===w||void 0===w||w.createdBy,null===u||void 0===u||u.id;return j?(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):N?(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading competition"}),(0,mg.jsx)("button",{onClick:()=>c("/competitions"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Competitions"})]}):w?(0,mg.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,mg.jsx)("span",{className:"text-3xl",children:"indoor"===(w.competitionType||w.type)?"\ud83c\udfe0":"outdoor"===(w.competitionType||w.type)?"\ud83c\udf32":"\ud83c\udfc6"}),(0,mg.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:w.title}),(0,mg.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat("draft"===w.status?"bg-gray-100 text-gray-800":"published"===w.status?"bg-green-100 text-green-800":"active"===w.status?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:w.status})]}),(0,mg.jsx)("p",{className:"text-gray-600 text-lg",children:w.description})]}),(0,mg.jsxs)("div",{className:"flex space-x-2",children:[A&&(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)("button",{onClick:()=>c("/competitions/".concat(l,"/edit")),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Competition",children:(0,mg.jsx)(Ny,{className:"h-5 w-5"})}),(0,mg.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this competition? This action cannot be undone.")&&O.mutate()},className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Competition",children:(0,mg.jsx)(Sy,{className:"h-5 w-5"})})]}),(0,mg.jsx)("button",{onClick:()=>{var e,t;return null===(e=(t=navigator).share)||void 0===e?void 0:e.call(t,{title:w.title,url:window.location.href})},className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Share Competition",children:(0,mg.jsx)(ky,{className:"h-5 w-5"})})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(vy,{className:"h-5 w-5 text-gray-600"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Date"}),(0,mg.jsx)("p",{className:"font-medium text-gray-900",children:null!==(t=w.schedule)&&void 0!==t&&t.competitionDate?new Date(w.schedule.competitionDate).toLocaleDateString():w.startDate?new Date(w.startDate).toLocaleDateString():"TBD"})]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(yy,{className:"h-5 w-5 text-gray-600"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Location"}),(0,mg.jsx)("p",{className:"font-medium text-gray-900",children:(null===(n=w.range)||void 0===n?void 0:n.name)||w.location||"TBD"})]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(xy,{className:"h-5 w-5 text-gray-600"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Participants"}),(0,mg.jsxs)("p",{className:"font-medium text-gray-900",children:[w.participantCount||w.registeredCount||0," / ",w.maxParticipants]})]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(by,{className:"h-5 w-5 text-gray-600"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Prize Pool"}),(0,mg.jsxs)("p",{className:"font-medium text-gray-900",children:["$",w.prizePool||0]})]})]})]})]}),("published"===w.status||"active"===w.status)&&!T&&!h&&(0,mg.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-medium text-blue-900",children:"Ready to compete?"}),(0,mg.jsx)("p",{className:"text-blue-700",children:"Register now to participate in this competition"})]}),(0,mg.jsx)("button",{onClick:()=>{u?_.mutate():nn.error("Please log in to register for competitions")},disabled:_.isLoading,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:_.isLoading?"Registering...":"Register Now"})]})}),(T||h)&&(0,mg.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(Ey,{className:"h-5 w-5 text-green-600"}),(0,mg.jsx)("span",{className:"text-green-800 font-medium",children:"You are registered for this competition"})]}),(0,mg.jsx)("button",{onClick:()=>c("/submit-score/".concat(l)),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Report Score"})]})}),C&&E.length>0&&(0,mg.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 via-yellow-100 to-yellow-50 border-4 border-yellow-400 rounded-lg p-8 shadow-lg",children:(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,mg.jsx)(by,{className:"h-16 w-16 text-yellow-600"})}),(0,mg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83c\udfc6 Competition Winner \ud83c\udfc6"}),(0,mg.jsx)("div",{className:"text-4xl font-bold text-yellow-700 mb-2",children:C.displayName}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto mt-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow",children:[(0,mg.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Total Score"}),(0,mg.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:C.totalScore.toFixed(1)})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow",children:[(0,mg.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Total X Count"}),(0,mg.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:C.totalXCount})]})]}),C.classification&&(0,mg.jsx)("div",{className:"mt-4",children:(0,mg.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-semibold ".concat(b(C.classification)),children:(P=C.classification,(P||"").toString().replace(/^provisional\s+/i,"").trim())})})]})}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,mg.jsx)("div",{className:"border-b border-gray-200",children:(0,mg.jsx)("nav",{className:"flex space-x-8 px-6",children:[{key:"overview",label:"Overview",icon:Cy},{key:"participants",label:"Participants",icon:xy},{key:"scores",label:"Scores",icon:by},{key:"rules",label:"Rules",icon:_y}].map(e=>(0,mg.jsxs)("button",{onClick:()=>p(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(m===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,mg.jsx)(e.icon,{className:"h-4 w-4"}),(0,mg.jsx)("span",{children:e.label})]},e.key))})}),(0,mg.jsxs)("div",{className:"p-6",children:["overview"===m&&(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Competition Details"}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:w.competitionType||w.type||"TBD"})]}),(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"Duration:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900",children:w.duration||"TBD"})]}),(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"Distance:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900",children:w.maxDistance?"".concat(w.maxDistance," yards"):w.distance||"TBD"})]}),(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"Format:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:w.format||"TBD"})]}),(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"Shots per Target:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900",children:w.shotsPerTarget||"TBD"})]})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Schedule"}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"Registration Deadline:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900",children:null!==(r=w.schedule)&&void 0!==r&&r.registrationDeadline?new Date(w.schedule.registrationDeadline).toLocaleDateString():w.registrationDeadline?new Date(w.registrationDeadline).toLocaleDateString():"TBD"})]}),(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"Start Time:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900",children:(null===(a=w.schedule)||void 0===a?void 0:a.startTime)||w.startTime||"TBD"})]}),(0,mg.jsxs)("div",{className:"flex justify-between",children:[(0,mg.jsx)("span",{className:"text-gray-600",children:"End Time:"}),(0,mg.jsx)("span",{className:"font-medium text-gray-900",children:(null===(s=w.schedule)||void 0===s?void 0:s.endTime)||w.endTime||"TBD"})]})]})]})]}),w.additionalInfo&&(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Additional Information"}),(0,mg.jsx)("p",{className:"text-gray-700",children:w.additionalInfo})]})]}),"participants"===m&&(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Registered Participants"}),(0,mg.jsxs)("span",{className:"text-sm text-gray-500",children:[(null===(o=w.participants)||void 0===o?void 0:o.length)||0," of ",w.maxParticipants]})]}),w.participants&&w.participants.length>0?(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.participants.map(e=>{var t;return(0,mg.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mg.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,mg.jsx)("span",{className:"text-sm font-medium text-gray-700",children:null===(t=e.userName)||void 0===t?void 0:t.charAt(0).toUpperCase()})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"font-medium text-gray-900",children:e.userName}),(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:e.location})]})]}),(0,mg.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:["Registered: ",new Date(e.registeredAt).toLocaleDateString()]})]},e.userId)})}):(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)(xy,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"No participants registered yet"})]})]}),"scores"===m&&(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Competition Scores"}),E&&E.length>0&&(0,mg.jsxs)("button",{className:"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,mg.jsx)(Oy,{className:"h-4 w-4"}),(0,mg.jsx)("span",{children:"Export Scores"})]})]}),E&&E.length>0?(0,mg.jsx)("div",{className:"overflow-x-auto",children:(0,mg.jsxs)("table",{className:"w-full",children:[(0,mg.jsx)("thead",{className:"bg-gray-50",children:(0,mg.jsxs)("tr",{children:[(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Shooter"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Score"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Average Score"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total X Count"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scores Submitted"})]})}),(0,mg.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(e=>{var t;const n=y.has(e.competitorId);return(0,mg.jsxs)(i.Fragment,{children:[(0,mg.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>{return t=e.competitorId,void x(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},children:[(0,mg.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.rank]}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mg.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:(0,mg.jsx)("span",{className:"text-xs font-medium text-gray-700",children:null===(t=e.displayName)||void 0===t?void 0:t.charAt(0).toUpperCase()})}),(0,mg.jsx)("div",{className:"flex-1",children:(0,mg.jsxs)("div",{className:"text-sm font-medium text-gray-900 flex items-center space-x-2",children:[(0,mg.jsx)("span",{children:e.displayName}),e.classification&&(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)(Ty,{classification:e.classification,size:18}),(0,mg.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold ".concat(b(e.classification)),children:e.classification})]}),(0,mg.jsx)("span",{className:"text-xs text-gray-400",children:n?"\u25bc":"\u25b6"})]})})]})}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:e.totalScore.toFixed(1)}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.averageScore.toFixed(1)}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.totalXCount}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.scoreCount})]}),n&&e.individualScores.length>0&&(0,mg.jsx)("tr",{className:"bg-gray-50",children:(0,mg.jsx)("td",{colSpan:6,className:"px-6 py-4",children:(0,mg.jsxs)("div",{className:"ml-12",children:[(0,mg.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Individual Scores:"}),(0,mg.jsx)("div",{className:"space-y-2",children:e.individualScores.map(e=>(0,mg.jsxs)("div",{className:"flex items-center justify-between bg-white rounded p-2 text-sm",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsxs)("span",{className:"text-gray-900 font-medium",children:["Score: ",e.score.toFixed(1)]}),(0,mg.jsxs)("span",{className:"text-gray-600",children:["X Count: ",e.xCount]}),(0,mg.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat("verified"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,mg.jsx)("span",{className:"text-gray-500 text-xs",children:e.submittedDisplay})]},e.id))})]})})})]},e.competitorId)})})]})}):(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)(by,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"No scores submitted yet"})]})]}),"rules"===m&&(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Competition Rules"}),w.rules?(0,mg.jsx)("div",{className:"prose max-w-none",children:(0,mg.jsx)("div",{dangerouslySetInnerHTML:{__html:w.rules}})}):(0,mg.jsx)("p",{className:"text-gray-600",children:"No specific rules have been defined for this competition."})]})]})]})]}):(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-gray-600 mb-4",children:"Competition not found"}),(0,mg.jsx)("button",{onClick:()=>c("/competitions"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Competitions"})]});var P},Py=()=>{var e,t,n,r;const[a,s]=(0,i.useState)("overall"),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("all-time"),{data:d,isLoading:h,error:f}=(0,Re.useQuery)(["leaderboard",a,o,c],async()=>{try{let e;const t=Be({timeFrame:c},o?{category:o}:{});switch(a){case"indoor":e=await _v.getIndoor(t);break;case"outdoor":e=await _v.getOutdoor(t);break;default:e=await _v.getOverall(t)}return e.data}catch(e){throw console.error("API Error:",e),e}},{keepPreviousData:!0,staleTime:12e4}),m=e=>{switch(e){case 1:return"\ud83e\udd47";case 2:return"\ud83e\udd48";case 3:return"\ud83e\udd49";default:return null}},p=e=>(e||"").toLowerCase().replace(/^provisional\s+/,"").trim(),g=e=>{const t=p(e);return"grand master"===t?"bg-purple-50 text-purple-700 border border-purple-200":"master"===t?"bg-blue-50 text-blue-700 border border-blue-200":"diamond"===t?"bg-cyan-50 text-cyan-700 border border-cyan-200":"platinum"===t?"bg-gray-50 text-gray-700 border border-gray-200":"gold"===t?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bronze"===t?"bg-orange-50 text-orange-700 border border-orange-200":"bg-gray-50 text-gray-700 border border-gray-200"},v=e=>{const t=p(e);return"grand master"===t?"bg-purple-50":"master"===t?"bg-blue-50":"diamond"===t?"bg-cyan-50":"platinum"===t?"bg-gray-50":"gold"===t?"bg-yellow-50":"bronze"===t?"bg-orange-50":"bg-white"},y=e=>(e||"").toString().replace(/^provisional\s+/i,"").trim();return h?(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f?(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading leaderboard"}),(0,mg.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-20 w-auto mx-auto object-contain"})}),(0,mg.jsxs)("h1",{className:"text-3xl font-bold text-white mb-4 flex items-center justify-center drop-shadow-lg",children:[(0,mg.jsx)("span",{className:"mr-3",children:(e=>{switch(e){case"indoor":return"\ud83c\udfe0";case"outdoor":return"\ud83c\udf32";default:return"\ud83c\udfc6"}})(a)}),(e=>{switch(e){case"indoor":return"Indoor Leaderboard";case"outdoor":return"Outdoor Leaderboard";case"overall":return"Overall Leaderboard";default:return"Leaderboard"}})(a)]}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Top performers in .22LR rifle competitions"})]}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Type"}),(0,mg.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{key:"overall",label:"Overall",icon:"\ud83c\udfc6"},{key:"indoor",label:"Indoor",icon:"\ud83c\udfe0"},{key:"outdoor",label:"Outdoor",icon:"\ud83c\udf32"}].map(e=>(0,mg.jsx)("button",{onClick:()=>s(e.key),className:"p-3 rounded-lg border transition-colors ".concat(a===e.key?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"),children:(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"text-lg mb-1",children:e.icon}),(0,mg.jsx)("div",{className:"text-sm font-medium",children:e.label})]})},e.key))})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weapon Category"}),(0,mg.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"",children:"All Categories"}),(0,mg.jsx)("option",{value:"22LR",children:"22LR"}),(0,mg.jsx)("option",{value:"Airgun 22cal",children:"Airgun 22cal"})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Frame"}),(0,mg.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"all-time",children:"All Time"}),(0,mg.jsx)("option",{value:"this-year",children:"This Year"}),(0,mg.jsx)("option",{value:"this-month",children:"This Month"}),(0,mg.jsx)("option",{value:"last-30-days",children:"Last 30 Days"})]})]})]})}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(xy,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Total Participants"}),(0,mg.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(null===d||void 0===d||null===(e=d.leaderboard)||void 0===e?void 0:e.length)||0})]})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(Cy,{className:"h-8 w-8 text-green-600 mr-3"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Average Score"}),(0,mg.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(null===d||void 0===d||null===(t=d.leaderboard)||void 0===t?void 0:t.length)>0?(d.leaderboard.reduce((e,t)=>{var n;return e+(null!==(n=t.averageScore)&&void 0!==n?n:t.score)},0)/d.leaderboard.length).toFixed(1):"0.0"})]})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(by,{className:"h-8 w-8 text-yellow-600 mr-3"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Top Score"}),(0,mg.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(null===d||void 0===d||null===(n=d.leaderboard)||void 0===n?void 0:n.length)>0?Math.max(...d.leaderboard.map(e=>{var t;return null!==(t=e.bestScore)&&void 0!==t?t:e.score})).toFixed(1):"0.0"})]})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(vy,{className:"h-8 w-8 text-purple-600 mr-3"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Competitions"}),(0,mg.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"1"})]})]})})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,mg.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Rankings"})}),(0,mg.jsx)("div",{className:"overflow-x-auto",children:(0,mg.jsxs)("table",{className:"w-full",children:[(0,mg.jsx)("thead",{className:"bg-gray-50",children:(0,mg.jsxs)("tr",{children:[(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shooter"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Best Score"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"X Count"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Competitions"}),(0,mg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"})]})}),(0,mg.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===d||void 0===d||null===(r=d.leaderboard)||void 0===r?void 0:r.map((e,t)=>{var n,r,i,a,s,o,l,c,u,d,h,f;return(0,mg.jsxs)("tr",{className:"transition-colors ".concat(v(null===(n=e.competitor)||void 0===n?void 0:n.classification)," hover:opacity-95"),children:[(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[m(e.rank)&&(0,mg.jsx)("span",{className:"text-xl mr-2",children:m(e.rank)}),(0,mg.jsxs)("span",{className:"text-sm font-medium ".concat(e.rank<=3?"text-gray-900":"text-gray-500"),children:["#",e.rank]})]})}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center mr-3",children:(0,mg.jsx)("span",{className:"text-sm font-medium text-gray-700",children:null===(r=e.competitor.firstName)||void 0===r?void 0:r.charAt(0).toUpperCase()})}),(0,mg.jsx)("div",{children:(0,mg.jsxs)("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[(0,mg.jsx)(Ty,{classification:e.competitor.classification,size:24}),(0,mg.jsxs)("span",{children:[e.competitor.firstName," ",(null===(i=e.competitor.lastName)||void 0===i||null===(a=i.charAt(0))||void 0===a?void 0:a.toUpperCase())||"","."]}),e.competitor.classification&&(0,mg.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat(g(e.competitor.classification)),title:y(e.competitor.classification),"aria-label":y(e.competitor.classification),children:y(e.competitor.classification)})]})})]})}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsx)("div",{className:"text-sm font-medium text-gray-900",children:null!==(s=null===(o=e.averageScore)||void 0===o?void 0:o.toFixed(1))&&void 0!==s?s:null===(l=e.score)||void 0===l?void 0:l.toFixed(1)})}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsx)("div",{className:"text-sm text-gray-900",children:null===(c=null!==(u=e.bestScore)&&void 0!==u?u:e.score)||void 0===c?void 0:c.toFixed(1)})}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsx)("div",{className:"text-sm text-gray-900",children:null!==(d=null===(h=e.tiebreakerData)||void 0===h?void 0:h.xCount)&&void 0!==d?d:0})}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsx)("div",{className:"text-sm text-gray-900",children:null!==(f=e.competitionsCount)&&void 0!==f?f:1})}),(0,mg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mg.jsx)("div",{className:"flex items-center",children:(0,mg.jsx)("div",{className:"h-4 w-4 text-gray-400",children:"\u2014"})})})]},"".concat(e.competitor.id,"-").concat(e.rank,"-").concat(t))})})]})}),(!(null!==d&&void 0!==d&&d.leaderboard)||0===d.leaderboard.length)&&(0,mg.jsxs)("div",{className:"text-center py-12",children:[(0,mg.jsx)(by,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rankings available"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"No scores have been submitted for this category yet."})]})]}),(null===d||void 0===d?void 0:d.recentActivity)&&d.recentActivity.length>0&&(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,mg.jsx)("div",{className:"space-y-3",children:d.recentActivity.map((e,t)=>(0,mg.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,mg.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:(0,mg.jsx)(by,{className:"h-4 w-4 text-blue-600"})}),(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsxs)("p",{className:"text-sm text-gray-900",children:[(0,mg.jsx)("span",{className:"font-medium",children:e.userName})," scored ",e.score," in ",e.competitionName]}),(0,mg.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]})]},t))})]})]})},Iy=["_f"],Dy=["name"],Ry=["_f"],My=["ref","message","type"],Ly=["formControl"];var Fy=e=>"checkbox"===e.type,Uy=e=>e instanceof Date,zy=e=>null==e;const By=e=>"object"===typeof e;var Vy=e=>!zy(e)&&!Array.isArray(e)&&By(e)&&!Uy(e),qy=e=>Vy(e)&&e.target?Fy(e.target)?e.target.checked:e.target.value:e,Hy=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Wy="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Ky(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Wy&&(e instanceof Blob||r)||!n&&!Vy(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Vy(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ky(e[n]));else t=e}return t}var Qy=e=>/^\w*$/.test(e),Xy=e=>void 0===e,Gy=e=>Array.isArray(e)?e.filter(Boolean):[],Yy=e=>Gy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$y=(e,t,n)=>{if(!t||!Vy(e))return n;const r=(Qy(t)?[t]:Yy(t)).reduce((e,t)=>zy(e)?e:e[t],e);return Xy(r)||r===e?Xy(e[t])?n:e[t]:r},Jy=e=>"boolean"===typeof e,Zy=(e,t,n)=>{let r=-1;const i=Qy(t)?[t]:Yy(t),a=i.length,s=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==s){const n=e[t];a=Vy(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const ex="blur",tx="focusout",nx="onBlur",rx="onChange",ix="onSubmit",ax="onTouched",sx="all",ox="max",lx="min",cx="maxLength",ux="minLength",dx="pattern",hx="required",fx="validate",mx=i.createContext(null);mx.displayName="HookFormContext";var px=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==sx&&(t._proxyFormState[i]=!r||sx),n&&(n[i]=!0),e[i]}});return i};const gx="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var vx=e=>"string"===typeof e,yx=(e,t,n,r,i)=>vx(e)?(r&&t.watch.add(e),$y(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),$y(n,e))):(r&&(t.watchAll=!0),n),xx=e=>zy(e)||!By(e);function bx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(xx(e)||xx(t))return e===t;if(Uy(e)&&Uy(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const r=e[a];if(!i.includes(a))return!1;if("ref"!==a){const e=t[a];if(Uy(r)&&Uy(e)||Vy(r)&&Vy(e)||Array.isArray(r)&&Array.isArray(e)?!bx(r,e,n):r!==e)return!1}}return!0}var wx=(e,t,n,r,i)=>t?Be(Be({},n[e]),{},{types:Be(Be({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:i||!0})}):{},jx=e=>Array.isArray(e)?e:[e],Nx=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Sx=e=>Vy(e)&&!Object.keys(e).length,kx=e=>"file"===e.type,Ex=e=>"function"===typeof e,Cx=e=>{if(!Wy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_x=e=>"select-multiple"===e.type,Ox=e=>"radio"===e.type,Tx=e=>Cx(e)&&e.isConnected;function Ax(e,t){const n=Array.isArray(t)?t:Qy(t)?[t]:Yy(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Xy(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(Vy(r)&&Sx(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Xy(e[t]))return!1;return!0}(r))&&Ax(e,n.slice(0,-1)),e}var Px=e=>{for(const t in e)if(Ex(e[t]))return!0;return!1};function Ix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Vy(e)||n)for(const r in e)Array.isArray(e[r])||Vy(e[r])&&!Px(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ix(e[r],t[r])):zy(e[r])||(t[r]=!0);return t}function Dx(e,t,n){const r=Array.isArray(e);if(Vy(e)||r)for(const i in e)Array.isArray(e[i])||Vy(e[i])&&!Px(e[i])?Xy(t)||xx(n[i])?n[i]=Array.isArray(e[i])?Ix(e[i],[]):Be({},Ix(e[i])):Dx(e[i],zy(t)?{}:t[i],n[i]):n[i]=!bx(e[i],t[i]);return n}var Rx=(e,t)=>Dx(e,t,Ix(t));const Mx={value:!1,isValid:!1},Lx={value:!0,isValid:!0};var Fx=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Xy(e[0].attributes.value)?Xy(e[0].value)||""===e[0].value?Lx:{value:e[0].value,isValid:!0}:Lx:Mx}return Mx},Ux=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Xy(e)?e:n?""===e?NaN:e?+e:e:r&&vx(e)?new Date(e):i?i(e):e};const zx={isValid:!1,value:null};var Bx=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,zx):zx;function Vx(e){const t=e.ref;return kx(t)?t.files:Ox(t)?Bx(e.refs).value:_x(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Fy(t)?Fx(e.refs).value:Ux(Xy(t.value)?e.ref.value:t.value,e)}var qx=e=>e instanceof RegExp,Hx=e=>Xy(e)?e:qx(e)?e.source:Vy(e)?qx(e.value)?e.value.source:e.value:e,Wx=e=>({isOnSubmit:!e||e===ix,isOnBlur:e===nx,isOnChange:e===rx,isOnAll:e===sx,isOnTouch:e===ax});const Kx="AsyncFunction";var Qx=e=>!!e&&!!e.validate&&!!(Ex(e.validate)&&e.validate.constructor.name===Kx||Vy(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Kx)),Xx=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Gx=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=$y(e,i);if(n){const{_f:e}=n,a=wg(n,Iy);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Gx(a,t))break}else if(Vy(a)&&Gx(a,t))break}}};function Yx(e,t,n){const r=$y(e,n);if(r||Qy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=$y(t,r),s=$y(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(s&&s.type)return{name:r,error:s};if(s&&s.root&&s.root.type)return{name:"".concat(r,".root"),error:s.root};i.pop()}return{name:n}}var $x=(e,t,n)=>{const r=jx($y(e,n));return Zy(r,"root",t[n]),Zy(e,n,r),e},Jx=e=>vx(e);function Zx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Jx(e)||Array.isArray(e)&&e.every(Jx)||Jy(e)&&!e)return{type:n,message:Jx(e)?e:"",ref:t}}var eb=e=>Vy(e)&&!qx(e)?e:{value:e,message:""},tb=async(e,t,n,r,i,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:p,valueAsNumber:g,mount:v}=e._f,y=$y(n,p);if(!v||t.has(p))return{};const x=o?o[0]:s,b=e=>{i&&x.reportValidity&&(x.setCustomValidity(Jy(e)?"":e||""),x.reportValidity())},w={},j=Ox(s),N=Fy(s),S=j||N,k=(g||kx(s))&&Xy(s.value)&&Xy(y)||Cx(s)&&""===s.value||""===y||Array.isArray(y)&&!y.length,E=wx.bind(null,p,r,w),C=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cx,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ux;const a=e?t:n;w[p]=Be({type:e?r:i,message:a,ref:s},E(e?r:i,a))};if(a?!Array.isArray(y)||!y.length:l&&(!S&&(k||zy(y))||Jy(y)&&!y||N&&!Fx(o).isValid||j&&!Bx(o).isValid)){const{value:e,message:t}=Jx(l)?{value:!!l,message:l}:eb(l);if(e&&(w[p]=Be({type:hx,message:t,ref:x},E(hx,t)),!r))return b(t),w}if(!k&&(!zy(d)||!zy(h))){let e,t;const n=eb(h),i=eb(d);if(zy(y)||isNaN(y)){const r=s.valueAsDate||new Date(y),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==s.type,l="week"==s.type;vx(n.value)&&y&&(e=o?a(y)>a(n.value):l?y>n.value:r>new Date(n.value)),vx(i.value)&&y&&(t=o?a(y)<a(i.value):l?y<i.value:r<new Date(i.value))}else{const r=s.valueAsNumber||(y?+y:y);zy(n.value)||(e=r>n.value),zy(i.value)||(t=r<i.value)}if((e||t)&&(C(!!e,n.message,i.message,ox,lx),!r))return b(w[p].message),w}if((c||u)&&!k&&(vx(y)||a&&Array.isArray(y))){const e=eb(c),t=eb(u),n=!zy(e.value)&&y.length>+e.value,i=!zy(t.value)&&y.length<+t.value;if((n||i)&&(C(n,e.message,t.message),!r))return b(w[p].message),w}if(f&&!k&&vx(y)){const{value:e,message:t}=eb(f);if(qx(e)&&!y.match(e)&&(w[p]=Be({type:dx,message:t,ref:s},E(dx,t)),!r))return b(t),w}if(m)if(Ex(m)){const e=Zx(await m(y,n),x);if(e&&(w[p]=Be(Be({},e),E(fx,e.message)),!r))return b(e.message),w}else if(Vy(m)){let e={};for(const t in m){if(!Sx(e)&&!r)break;const i=Zx(await m[t](y,n),x,t);i&&(e=Be(Be({},i),E(t,i.message)),b(i.message),r&&(w[p]=e))}if(!Sx(e)&&(w[p]=Be({ref:x},e),!r))return w}return b(!0),w};const nb={mode:ix,reValidateMode:rx,shouldFocusError:!0};function rb(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Be(Be({},nb),t),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ex(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(Vy(n.defaultValues)||Vy(n.values))&&Ky(n.defaultValues||n.values)||{},s=n.shouldUnregister?{}:Ky(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d=Be({},u);const h={array:Nx(),state:Nx()},f=n.criteriaMode===sx,m=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?Sx((await x()).errors):await b(i,!0);e!==r.isValid&&h.state.next({isValid:e})}},p=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?Zy(r.validatingFields,e,t):Ax(r.validatingFields,e))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Sx(r.validatingFields)}))},g=(e,t,n,r)=>{const l=$y(i,e);if(l){const i=$y(s,e,Xy(n)?$y(a,e):n);Xy(i)||r&&r.defaultChecked||t?Zy(s,e,t?i:Vx(l._f)):N(e,i),o.mount&&m()}},v=(e,t,i,s,o)=>{let l=!1,c=!1;const f={name:e};if(!n.disabled){if(!i||s){(u.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=f.isDirty=w(),l=c!==f.isDirty);const n=bx($y(a,e),t);c=!!$y(r.dirtyFields,e),n?Ax(r.dirtyFields,e):Zy(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(i){const t=$y(r.touchedFields,e);t||(Zy(r.touchedFields,e,i),f.touchedFields=r.touchedFields,l=l||(u.touchedFields||d.touchedFields)&&t!==i)}l&&o&&h.state.next(f)}return l?f:{}},y=(t,i,a,s)=>{const o=$y(r.errors,t),l=(u.isValid||d.isValid)&&Jy(i)&&r.isValid!==i;if(n.delayError&&a?(e=(e=>t=>{clearTimeout(c),c=setTimeout(e,t)})(()=>((e,t)=>{Zy(r.errors,e,t),h.state.next({errors:r.errors})})(t,a)),e(n.delayError)):(clearTimeout(c),e=null,a?Zy(r.errors,t,a):Ax(r.errors,t)),(a?!bx(o,a):o)||!Sx(s)||l){const e=Be(Be(Be({},s),l&&Jy(i)?{isValid:i}:{}),{},{errors:r.errors,name:t});r=Be(Be({},r),e),h.state.next(e)}},x=async e=>{p(e,!0);const t=await n.resolver(s,n.context,((e,t,n,r)=>{const i={};for(const a of e){const e=$y(t,a);e&&Zy(i,a,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return p(e),t},b=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const o=e[a];if(o){const{_f:e}=o,c=wg(o,Ry);if(e){const c=l.array.has(e.name),d=o._f&&Qx(o._f);d&&u.validatingFields&&p([a],!0);const h=await tb(o,l.disabled,s,f,n.shouldUseNativeValidation&&!t,c);if(d&&u.validatingFields&&p([a]),h[e.name]&&(i.valid=!1,t))break;!t&&($y(h,e.name)?c?$x(r.errors,h,e.name):Zy(r.errors,e.name,h[e.name]):Ax(r.errors,e.name))}!Sx(c)&&await b(c,t,i)}}return i.valid},w=(e,t)=>!n.disabled&&(e&&t&&Zy(s,e,t),!bx(O(),a)),j=(e,t,n)=>yx(e,l,Be({},o.mount?s:Xy(t)?a:vx(e)?{[e]:t}:t),n,t),N=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=$y(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&Zy(s,e,Ux(t,n)),a=Cx(n.ref)&&zy(t)?"":t,_x(n.ref)?[...n.ref.options].forEach(e=>e.selected=a.includes(e.value)):n.refs?Fy(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):n.refs.forEach(e=>e.checked=e.value===a):kx(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||h.state.next({name:e,values:Ky(s)})))}(n.shouldDirty||n.shouldTouch)&&v(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&_(e)},S=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const a=t[r],s=e+"."+r,o=$y(i,s);(l.array.has(e)||Vy(a)||o&&!o._f)&&!Uy(a)?S(s,a,n):N(s,a,n)}},k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=$y(i,e),f=l.array.has(e),m=Ky(t);Zy(s,e,m),f?(h.array.next({name:e,values:Ky(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:Rx(a,s),isDirty:w(e,m)})):!c||c._f||zy(m)?N(e,m,n):S(e,m,n),Xx(e,l)&&h.state.next(Be(Be({},r),{},{name:e})),h.state.next({name:o.mount?e:void 0,values:Ky(s)})},E=async t=>{o.mount=!0;const a=t.target;let c=a.name,g=!0;const w=$y(i,c),j=e=>{g=Number.isNaN(e)||Uy(e)&&isNaN(e.getTime())||bx(e,$y(s,c,e))},N=Wx(n.mode),S=Wx(n.reValidateMode);if(w){let o,E;const C=a.type?Vx(w._f):qy(t),O=t.type===ex||t.type===tx,T=!((k=w._f).mount&&(k.required||k.min||k.max||k.maxLength||k.minLength||k.pattern||k.validate))&&!n.resolver&&!$y(r.errors,c)&&!w._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(O,$y(r.touchedFields,c),r.isSubmitted,S,N),A=Xx(c,l,O);Zy(s,c,C),O?a&&a.readOnly||(w._f.onBlur&&w._f.onBlur(t),e&&e(0)):w._f.onChange&&w._f.onChange(t);const P=v(c,C,O),I=!Sx(P)||A;if(!O&&h.state.next({name:c,type:t.type,values:Ky(s)}),T)return(u.isValid||d.isValid)&&("onBlur"===n.mode?O&&m():O||m()),I&&h.state.next(Be({name:c},A?{}:P));if(!O&&A&&h.state.next(Be({},r)),n.resolver){const{errors:e}=await x([c]);if(j(C),g){const t=Yx(r.errors,i,c),n=Yx(e,i,t.name||c);o=n.error,c=n.name,E=Sx(e)}}else p([c],!0),o=(await tb(w,l.disabled,s,f,n.shouldUseNativeValidation))[c],p([c]),j(C),g&&(o?E=!1:(u.isValid||d.isValid)&&(E=await b(i,!0)));g&&(w._f.deps&&_(w._f.deps),y(c,E,o,P))}var k},C=(e,t)=>{if($y(r.errors,t)&&e.focus)return e.focus(),1},_=async function(e){let t,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=jx(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await x(e);if(e)for(const n of e){const e=$y(t,n);e?Zy(r.errors,n,e):Ax(r.errors,n)}else r.errors=t;return t})(Xy(e)?e:o);t=Sx(n),a=e?!o.some(e=>$y(n,e)):t}else e?(a=(await Promise.all(o.map(async e=>{const t=$y(i,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||r.isValid)&&m()):a=t=await b(i);return h.state.next(Be(Be(Be({},!vx(e)||(u.isValid||d.isValid)&&t!==r.isValid?{}:{name:e}),n.resolver||!e?{isValid:t}:{}),{},{errors:r.errors})),s.shouldFocus&&!a&&Gx(i,C,e?o:l.mount),a},O=e=>{const t=Be({},o.mount?s:a);return Xy(e)?t:vx(e)?$y(t,e):e.map(e=>$y(t,e))},T=(e,t)=>({invalid:!!$y((t||r).errors,e),isDirty:!!$y((t||r).dirtyFields,e),error:$y((t||r).errors,e),isValidating:!!$y(r.validatingFields,e),isTouched:!!$y((t||r).touchedFields,e)}),A=(e,t,n)=>{const a=($y(i,e,{_f:{}})._f||{}).ref,s=$y(r.errors,e)||{},{ref:o,message:l,type:c}=s,u=wg(s,My);Zy(r.errors,e,Be(Be(Be({},u),t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},P=e=>h.state.subscribe({next:t=>{var n,i,o;n=e.name,i=t.name,o=e.exact,n&&i&&n!==i&&!jx(n).some(e=>e&&(o?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i}=e,a=wg(e,Dy);return Sx(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||sx))})(t,e.formState||u,z,e.reRenderRoot)||e.callback(Be(Be(Be({values:Be({},s)},r),t),{},{defaultValues:a}))}}).unsubscribe,I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?jx(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(Ax(i,o),Ax(s,o)),!t.keepError&&Ax(r.errors,o),!t.keepDirty&&Ax(r.dirtyFields,o),!t.keepTouched&&Ax(r.touchedFields,o),!t.keepIsValidating&&Ax(r.validatingFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&Ax(a,o);h.state.next({values:Ky(s)}),h.state.next(Be(Be({},r),t.keepDirty?{isDirty:w()}:{})),!t.keepIsValid&&m()},D=e=>{let{disabled:t,name:n}=e;(Jy(t)&&o.mount||t||l.disabled.has(n))&&(t?l.disabled.add(n):l.disabled.delete(n))},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=$y(i,e);const s=Jy(t.disabled)||Jy(n.disabled);return Zy(i,e,Be(Be({},r||{}),{},{_f:Be(Be({},r&&r._f?r._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),l.mount.add(e),r?D({disabled:Jy(t.disabled)?t.disabled:n.disabled,name:e}):g(e,!0,t.value),Be(Be(Be({},s?{disabled:t.disabled||n.disabled}:{}),n.progressive?{required:!!t.required,min:Hx(t.min),max:Hx(t.max),minLength:Hx(t.minLength),maxLength:Hx(t.maxLength),pattern:Hx(t.pattern)}:{}),{},{name:e,onChange:E,onBlur:E,ref:s=>{if(s){R(e,t),r=$y(i,e);const n=Xy(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=(e=>Ox(e)||Fy(e))(n),l=r._f.refs||[];if(o?l.find(e=>e===n):n===r._f.ref)return;Zy(i,e,{_f:Be(Be({},r._f),o?{refs:[...l.filter(Tx),n,...Array.isArray($y(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n})}),g(e,!1,void 0,n)}else r=$y(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!Hy(l.array,e)||!o.action)&&l.unMount.add(e)}})},M=()=>n.shouldFocusError&&Gx(i,C,l.mount),L=(e,t)=>async a=>{let o;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=Ky(s);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await x();r.errors=e,c=Ky(t)}else await b(i);if(l.disabled.size)for(const e of l.disabled)Ax(c,e);if(Ax(r.errors,"root"),Sx(r.errors)){h.state.next({errors:{}});try{await e(c,a)}catch(u){o=u}}else t&&await t(Be({},r.errors),a),M(),setTimeout(M);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sx(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?Ky(e):a,d=Ky(c),f=Sx(e),m=f?a:d;if(t.keepDefaultValues||(a=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Rx(a,s))]);for(const t of Array.from(e))$y(r.dirtyFields,t)?Zy(m,t,$y(s,t)):k(t,$y(m,t))}else{if(Wy&&Xy(e))for(const e of l.mount){const t=$y(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Cx(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)k(e,$y(m,e));else i={}}s=n.shouldUnregister?t.keepDefaultValues?Ky(a):{}:Ky(m),h.array.next({values:Be({},m)}),h.state.next({values:Be({},m)})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!n.shouldUnregister,h.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!f&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||bx(e,a))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:t.keepDirtyValues?t.keepDefaultValues&&s?Rx(a,s):r.dirtyFields:t.keepDefaultValues&&e?Rx(a,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:a})},U=(e,t)=>F(Ex(e)?e(s):e,t),z=e=>{r=Be(Be({},r),e)},B={control:{register:R,unregister:I,getFieldState:T,handleSubmit:L,setError:A,_subscribe:P,_runSchema:x,_focusError:M,_getWatch:j,_getDirty:w,_setValid:m,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!n.disabled){if(o.action=!0,m&&Array.isArray($y(i,e))){const t=l($y(i,e),c.argA,c.argB);f&&Zy(i,e,t)}if(m&&Array.isArray($y(r.errors,e))){const t=l($y(r.errors,e),c.argA,c.argB);f&&Zy(r.errors,e,t),((e,t)=>{!Gy($y(e,t)).length&&Ax(e,t)})(r.errors,e)}if((u.touchedFields||d.touchedFields)&&m&&Array.isArray($y(r.touchedFields,e))){const t=l($y(r.touchedFields,e),c.argA,c.argB);f&&Zy(r.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Rx(a,s)),h.state.next({name:e,isDirty:w(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zy(s,e,t)},_setDisabledField:D,_setErrors:e=>{r.errors=e,h.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Gy($y(o.mount?s:a,e,n.shouldUnregister?$y(a,e,[]):[])),_reset:F,_resetDefaultValues:()=>Ex(n.defaultValues)&&n.defaultValues().then(e=>{U(e,n.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=$y(i,e);t&&(t._f.refs?t._f.refs.every(e=>!Tx(e)):!Tx(t._f.ref))&&I(e)}l.unMount=new Set},_disableForm:e=>{Jy(e)&&(h.state.next({disabled:e}),Gx(i,(t,n)=>{const r=$y(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:u,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(e){o=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return n},set _options(e){n=Be(Be({},n),e)}},subscribe:e=>(o.mount=!0,d=Be(Be({},d),e.formState),P(Be(Be({},e),{},{formState:d}))),trigger:_,register:R,handleSubmit:L,watch:(e,t)=>Ex(e)?h.state.subscribe({next:n=>"values"in n&&e(j(void 0,t),n)}):j(e,t,!0),setValue:k,getValues:O,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$y(i,e)&&(Xy(t.defaultValue)?k(e,Ky($y(a,e))):(k(e,t.defaultValue),Zy(a,e,Ky(t.defaultValue))),t.keepTouched||Ax(r.touchedFields,e),t.keepDirty||(Ax(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,Ky($y(a,e))):w()),t.keepError||(Ax(r.errors,e),u.isValid&&m()),h.state.next(Be({},r)))},clearErrors:e=>{e&&jx(e).forEach(e=>Ax(r.errors,e)),h.state.next({errors:e?r.errors:{}})},unregister:I,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=$y(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&Ex(e.select)&&e.select())}},getFieldState:T};return Be(Be({},B),{},{formControl:B})}function ib(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(void 0),n=i.useRef(void 0),[r,a]=i.useState({isDirty:!1,isValidating:!1,isLoading:Ex(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ex(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=Be(Be({},e.formControl),{},{formState:r}),e.defaultValues&&!Ex(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=rb(e),{formControl:i}=n,a=wg(n,Ly);t.current=Be(Be({},a),{},{formState:r})}const s=t.current.control;return s._options=e,gx(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>a(Be({},s._formState)),reRenderRoot:!0});return a(e=>Be(Be({},e),{},{isReady:!0})),s._formState.isReady=!0,e},[s]),i.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),i.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),i.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),i.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),i.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==r.isDirty&&s._subjects.state.next({isDirty:e})}},[s,r.isDirty]),i.useEffect(()=>{e.values&&!bx(e.values,n.current)?(s._reset(e.values,Be({keepFieldsRef:!0},s._options.resetOptions)),n.current=e.values,a(e=>Be({},e))):s._resetDefaultValues()},[s,e.values]),i.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next(Be({},s._formState))),s._removeUnmounted()}),t.current.formState=px(r,s),t.current}function ab(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ab(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sb(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ab(e))&&(r&&(r+=" "),r+=t);return r}var ob=n(7820),lb=n.n(ob),cb=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},ub=n(7770),db=n.n(ub),hb=e=>0===e?0:e>0?1:-1,fb=e=>"number"==typeof e&&e!=+e,mb=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,pb=e=>("number"===typeof e||e instanceof Number)&&!fb(e),gb=e=>pb(e)||"string"===typeof e,vb=0,yb=e=>{var t=++vb;return"".concat(e||"").concat(t)},xb=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!pb(e)&&"string"!==typeof e)return r;if(mb(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return fb(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},bb=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function wb(e,t,n){return pb(e)&&pb(t)?e+n*(t-e):t}function jb(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):db()(e,t))===n)}var Nb=e=>null===e||"undefined"===typeof e,Sb=e=>Nb(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),kb=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=mb(r)?e:Number(r),l=mb(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},Eb={width:0,height:0,overflow:"visible"},Cb={width:0,overflowX:"visible"},_b={height:0,overflowY:"visible"},Ob={},Tb=e=>{var{width:t,height:n}=e,r=mb(t),i=mb(n);return r&&i?Eb:r?Cb:i?_b:Ob};function Ab(e){return Number.isFinite(e)}function Pb(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(null,arguments)}function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(n),!0).forEach(function(t){Mb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lb=(0,i.createContext)({width:-1,height:-1});function Fb(e){var{children:t,width:n,height:r}=e,a=(0,i.useMemo)(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:i.createElement(Lb.Provider,{value:a},t)}var Ub=()=>(0,i.useContext)(Lb),zb=(0,i.forwardRef)((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:m,style:p={}}=e,g=(0,i.useRef)(null),v=(0,i.useRef)();v.current=m,(0,i.useImperativeHandle)(t,()=>g.current);var[y,x]=(0,i.useState)({containerWidth:r.width,containerHeight:r.height}),b=(0,i.useCallback)((e,t)=>{x(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,i.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=lb()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var{containerWidth:w,containerHeight:j}=y;cb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:S}=kb(w,j,{width:a,height:s,aspect:n,maxHeight:c});return cb(N>0||S>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",N,S,a,s,o,l,n),i.createElement("div",{id:h?"".concat(h):void 0,className:sb("recharts-responsive-container",f),style:Rb(Rb({},p),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},i.createElement("div",{style:Tb({width:a,height:s})},i.createElement(Fb,{width:N,height:S},u)))}),Bb=(0,i.forwardRef)((e,t)=>{var n=Ub();if(Pb(n.width)&&Pb(n.height))return e.children;var{width:r,height:a}=function(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=r&&r>0?void 0:"100%":void 0===a&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=kb(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return pb(s)&&pb(o)?i.createElement(Fb,{width:s,height:o},e.children):i.createElement(zb,Ib({},e,{width:r,height:a,ref:t}))}),Vb=Symbol.for("immer-nothing"),qb=Symbol.for("immer-draftable"),Hb=Symbol.for("immer-state");function Wb(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Kb=Object.getPrototypeOf;function Qb(e){return!!e&&!!e[Hb]}function Xb(e){var t;return!!e&&($b(e)||Array.isArray(e)||!!e[qb]||!(null===(t=e.constructor)||void 0===t||!t[qb])||nw(e)||rw(e))}var Gb=Object.prototype.constructor.toString(),Yb=new WeakMap;function $b(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=Yb.get(n);return void 0===r&&(r=Function.toString.call(n),Yb.set(n,r)),r===Gb}function Jb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Zb(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function Zb(e){const t=e[Hb];return t?t.type_:Array.isArray(e)?1:nw(e)?2:rw(e)?3:0}function ew(e,t){return 2===Zb(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tw(e,t,n){const r=Zb(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function nw(e){return e instanceof Map}function rw(e){return e instanceof Set}function iw(e){return e.copy_||e.base_}function aw(e,t){if(nw(e))return new Map(e);if(rw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$b(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Hb];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Kb(e),t)}{const t=Kb(e);if(null!==t&&n)return Be({},e);const r=Object.create(t);return Object.assign(r,e)}}function sw(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return lw(e)||Qb(e)||!Xb(e)||(Zb(e)>1&&Object.defineProperties(e,{set:ow,add:ow,clear:ow,delete:ow}),Object.freeze(e),t&&Object.values(e).forEach(e=>sw(e,!0))),e}var ow={value:function(){Wb(2)}};function lw(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var cw,uw={};function dw(e){const t=uw[e];return t||Wb(0),t}function hw(){return cw}function fw(e,t){t&&(dw("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mw(e){pw(e),e.drafts_.forEach(vw),e.drafts_=null}function pw(e){e===cw&&(cw=e.parent_)}function gw(e){return cw={drafts_:[],parent_:cw,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vw(e){const t=e[Hb];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function yw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Hb].modified_&&(mw(t),Wb(4)),Xb(e)&&(e=xw(t,e),t.parent_||ww(t,e)),t.patches_&&dw("Patches").generateReplacementPatches_(n[Hb].base_,e,t.patches_,t.inversePatches_)):e=xw(t,n,[]),mw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Vb?e:void 0}function xw(e,t,n){if(lw(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Hb];if(!i)return Jb(t,(r,a)=>bw(e,i,t,r,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ww(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let a=t,s=!1;3===i.type_&&(a=new Set(t),t.clear(),s=!0),Jb(a,(r,a)=>bw(e,i,t,r,a,n,s),r),ww(e,t,!1),n&&e.patches_&&dw("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function bw(e,t,n,r,i,a,s){if(null==i)return;if("object"!==typeof i&&!s)return;const o=lw(i);if(!o||s){if(Qb(i)){const s=xw(e,i,a&&t&&3!==t.type_&&!ew(t.assigned_,r)?a.concat(r):void 0);if(tw(n,r,s),!Qb(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(Xb(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===i&&o)return;xw(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(nw(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||ww(e,i)}}}function ww(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sw(t,n)}var jw={get(e,t){if(t===Hb)return e;const n=iw(e);if(!ew(n,t))return function(e,t,n){var r;const i=kw(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Xb(r)?r:r===Sw(e.base_,t)?(Cw(e),e.copy_[t]=_w(r,e)):r},has:(e,t)=>t in iw(e),ownKeys:e=>Reflect.ownKeys(iw(e)),set(e,t,n){const r=kw(iw(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Sw(iw(e),t),i=null===r||void 0===r?void 0:r[Hb];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||ew(e.base_,t)))return!0;Cw(e),Ew(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Sw(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Cw(e),Ew(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=iw(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Wb(11)},getPrototypeOf:e=>Kb(e.base_),setPrototypeOf(){Wb(12)}},Nw={};function Sw(e,t){const n=e[Hb];return(n?iw(n):e)[t]}function kw(e,t){if(!(t in e))return;let n=Kb(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Kb(n)}}function Ew(e){e.modified_||(e.modified_=!0,e.parent_&&Ew(e.parent_))}function Cw(e){e.copy_||(e.copy_=aw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Jb(jw,(e,t)=>{Nw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Nw.deleteProperty=function(e,t){return Nw.set.call(this,e,t,void 0)},Nw.set=function(e,t,n){return jw.set.call(this,e[0],t,n,e[0])};function _w(e,t){const n=nw(e)?dw("MapSet").proxyMap_(e,t):rw(e)?dw("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:hw(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=jw;n&&(i=[r],a=Nw);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:hw()).drafts_.push(n),n}function Ow(e){return Qb(e)||Wb(10),Tw(e)}function Tw(e){if(!Xb(e)||lw(e))return e;const t=e[Hb];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=aw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=aw(e,!0);return Jb(n,(e,t)=>{tw(n,e,Tw(t))},r),t&&(t.finalized_=!1),n}var Aw=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Wb(6),void 0!==n&&"function"!==typeof n&&Wb(7),Xb(e)){const i=gw(this),a=_w(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?mw(i):pw(i)}return fw(i,n),yw(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Vb&&(r=void 0),this.autoFreeze_&&sw(r,!0),n){const t=[],i=[];dw("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Wb(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xb(e)||Wb(8),Qb(e)&&(e=Ow(e));const t=gw(this),n=_w(e,void 0);return n[Hb].isManual_=!0,pw(t),n}finishDraft(e,t){const n=e&&e[Hb];n&&n.isManual_||Wb(9);const{scope_:r}=n;return fw(r,t),yw(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=dw("Patches").applyPatches_;return Qb(e)?r(e,t):this.produce(e,e=>r(e,t))}},Pw=Aw.produce,Iw=Aw.setUseStrictIteration.bind(Aw);function Dw(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Rw=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Mw=()=>Math.random().toString(36).substring(7).split("").join("."),Lw={INIT:"@@redux/INIT".concat(Mw()),REPLACE:"@@redux/REPLACE".concat(Mw()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Mw())};function Fw(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Uw(e,t,n){if("function"!==typeof e)throw new Error(Dw(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Dw(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Dw(1));return n(Uw)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(Dw(3));return i}function d(e){if("function"!==typeof e)throw new Error(Dw(4));if(l)throw new Error(Dw(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(Dw(6));t=!1,c(),s.delete(n),a=null}}}function h(e){if(!Fw(e))throw new Error(Dw(7));if("undefined"===typeof e.type)throw new Error(Dw(8));if("string"!==typeof e.type)throw new Error(Dw(17));if(l)throw new Error(Dw(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}h({type:Lw.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Dw(10));r=e,h({type:Lw.REPLACE})},[Rw]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Dw(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Rw](){return this}}}}}function zw(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Lw.INIT}))throw new Error(Dw(12));if("undefined"===typeof n(void 0,{type:Lw.PROBE_UNKNOWN_ACTION()}))throw new Error(Dw(13))})}(n)}catch(Ve){i=Ve}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const s={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Dw(14))}s[o]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?s:e}}function Bw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Vw(e){return Fw(e)&&"type"in e&&"string"===typeof e.type}function qw(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Hw=qw(),Ww=qw;const Kw=["reducerPath"];var Qw="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Bw:Bw.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Xw(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(qj(0));return Be(Be({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>Vw(t)&&t.type===e,n}var Gw=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Yw(e){return Xb(e)?Pw(e,()=>{}):e}function $w(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Jw="RTK_autoBatch",Zw=()=>e=>({payload:e,meta:{[Jw]:!0}}),ej=e=>t=>{setTimeout(t,e)},tj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ej(10):"callback"===e.type?e.queueNotification:ej(e.timeout),l=()=>{a=!1,i&&(i=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Jw]),i=!r,i&&(a||(a=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}};function nj(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new Gw;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(Hw):a.push(Ww(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!Fw(n))throw new Error(qj(1));l=zw(n)}c="function"===typeof r?r(t):t();let u=Bw;i&&(u=Qw(Be({trace:!1},"object"===typeof i&&i)));const d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Dw(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},o=t.map(e=>e(s));return a=Bw(...o)(i.dispatch),Be(Be({},i),{},{dispatch:a})}}(...c),h=(e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Gw(e);return n&&r.push(tj("object"===typeof n?n:void 0)),r})(d);return Uw(l,s,u(..."function"===typeof o?o(h):h()))}function rj(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(qj(28));if(r in t)throw new Error(qj(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}Iw(!1);var ij=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var aj=Symbol.for("rtk-slice-createasyncthunk");function sj(e,t){return"".concat(e,"/").concat(t)}function oj(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[aj];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(qj(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return Be({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(qj(12));if(n in s.sliceCaseReducersByType)throw new Error(qj(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?rj(e.extraReducers):[e.extraReducers],i=Be(Be({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=rj(t);if(function(e){return"function"===typeof e}(e))n=()=>Yw(e());else{const t=Yw(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,n)=>{if(n){if(Qb(e)){const r=n(e,t);return void 0===r?e:r}if(Xb(e))return Pw(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],s={reducerName:r,type:sj(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(qj(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(s,r).exposeAction(s,i?Xw(a,i):Xw(a))}(s,a,o):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(qj(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,s,d);n.exposeAction(a,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(a,{fulfilled:o||uj,pending:l||uj,rejected:c||uj,settled:u||uj})}(s,a,o,n)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function m(){return h||(h=l()),h.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=$w(d,r,m)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=$w(u,n,()=>new WeakMap);return $w(r,t,()=>{const r={};for(const[a,s]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[a]=lj(s,t,()=>$w(d,t,m),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const g=Be(Be({name:t,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:m},p(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=wg(t,Kw);const a=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:a,reducer:f},i),Be(Be({},g),p(a,!0))}});return g}}function lj(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(a,...o)}return i.unwrapped=e,i}var cj=oj();function uj(){}var dj="listener",hj="completed",fj="cancelled",mj="task-".concat(fj),pj="task-".concat(hj),gj="".concat(dj,"-").concat(fj),vj="".concat(dj,"-").concat(hj),yj=class{constructor(e){Ue(this,"name","TaskAbortError"),Ue(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(fj," (reason: ").concat(e,")")}},xj=(e,t)=>{if("function"!==typeof e)throw new TypeError(qj(32))},bj=()=>{},wj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bj;return e.catch(t),e},jj=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Nj=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Sj=e=>{if(e.aborted){const{reason:t}=e;throw new yj(t)}};function kj(e,t){let n=bj;return new Promise((r,i)=>{const a=()=>i(new yj(e.reason));e.aborted?a():(n=jj(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=bj})}var Ej=e=>t=>wj(kj(e,t).then(t=>(Sj(e),t))),Cj=e=>{const t=Ej(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:_j}=Object,Oj={},Tj="listenerMiddleware",Aj=(e,t)=>(n,r)=>{xj(n);const i=new AbortController;var a;a=i,jj(e,()=>Nj(a,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof yj?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{Sj(e),Sj(i.signal);const t=await n({pause:Ej(i.signal),delay:Cj(i.signal),signal:i.signal});return Sj(i.signal),t},()=>Nj(i,pj));return null!==r&&void 0!==r&&r.autoJoin&&t.push(s.catch(bj)),{result:Ej(e)(s),cancel(){Nj(i,mj)}}},Pj=(e,t)=>(n,r)=>wj((async(n,r)=>{Sj(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await kj(t,Promise.race(a));return Sj(t),e}finally{i()}})(n,r)),Ij=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Xw(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(qj(21));return xj(a),{predicate:i,type:t,effect:a}},Dj=_j(e=>{const{type:t,predicate:n,effect:r}=Ij(e);return{id:ij(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(qj(22))}}},{withTypes:()=>Dj}),Rj=(e,t)=>{const{type:n,effect:r,predicate:i}=Ij(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Mj=e=>{e.pending.forEach(e=>{Nj(e,gj)})},Lj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Fj=_j(Xw("".concat(Tj,"/add")),{withTypes:()=>Fj}),Uj=Xw("".concat(Tj,"/removeAll")),zj=_j(Xw("".concat(Tj,"/remove")),{withTypes:()=>zj}),Bj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(Tj,"/error"),...t)},Vj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,n=new Map,{extra:r,onError:i=Bj}=e;xj(i);const a=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Mj(e)}))(null!==(n=Rj(t,e))&&void 0!==n?n:Dj(e))};_j(a,{withTypes:()=>a});const s=e=>{const n=Rj(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Mj(n)),!!n};_j(s,{withTypes:()=>s});const o=async(e,s,o,l)=>{const c=new AbortController,u=Pj(a,c.signal),d=[];try{e.pending.add(c),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:0;n.set(e,r+1)})(e),await Promise.resolve(e.effect(s,_j({},o,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:Cj(c.signal),pause:Ej(c.signal),extra:r,signal:c.signal,fork:Aj(c.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==c&&(Nj(e,gj),n.delete(e))})},cancel:()=>{Nj(c,gj),e.pending.delete(c)},throwIfCancelled:()=>{Sj(c.signal)}})))}catch(h){h instanceof yj||Lj(i,h,{raisedBy:"effect"})}finally{await Promise.all(d),Nj(c,vj),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:1;1===r?n.delete(e):n.set(e,r-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Mj(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!Vw(r))return n(r);if(Fj.match(r))return a(r.payload);if(Uj.match(r))return void l();if(zj.match(r))return s(r.payload);let c=e.getState();const u=()=>{if(c===Oj)throw new Error(qj(23));return c};let d;try{if(d=n(r),t.size>0){const n=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(r,n,c)}catch(h){a=!1,Lj(i,h,{raisedBy:"predicate"})}a&&o(t,r,e,u)}}}finally{c=Oj}return d},startListening:a,stopListening:s,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function qj(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Hj(e,t){if(t){var n=Number.parseInt(t,10);if(!fb(n))return null===e||void 0===e?void 0:e[n]}}var Wj=cj({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kj=Wj.reducer,{createEventEmitter:Qj}=Wj.actions;n(7237);function Xj(e){e()}var Gj={notify(){},get:()=>[]};function Yj(e,t){let n,r=Gj,i=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Xj(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=Gj)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var $j=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Jj=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Zj=(()=>$j||Jj?i.useLayoutEffect:i.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var eN=Symbol.for("react-redux-context"),tN="undefined"!==typeof globalThis?globalThis:{};function nN(){var e;if(!i.createContext)return{};const t=null!==(e=tN[eN])&&void 0!==e?e:tN[eN]=new Map;let n=t.get(i.createContext);return n||(n=i.createContext(null),t.set(i.createContext,n)),n}var rN=nN();var iN=function(e){const{children:t,context:n,serverState:r,store:a}=e,s=i.useMemo(()=>{const e=Yj(a);return{store:a,subscription:e,getServerState:r?()=>r:void 0}},[a,r]),o=i.useMemo(()=>a.getState(),[a]);Zj(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=n||rN;return i.createElement(l.Provider,{value:s},t)};var aN=Symbol.for("immer-nothing"),sN=Symbol.for("immer-draftable"),oN=Symbol.for("immer-state");function lN(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var cN=Object.getPrototypeOf;function uN(e){return!!e&&!!e[oN]}function dN(e){var t;return!!e&&(mN(e)||Array.isArray(e)||!!e[sN]||!(null===(t=e.constructor)||void 0===t||!t[sN])||xN(e)||bN(e))}var hN=Object.prototype.constructor.toString(),fN=new WeakMap;function mN(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=fN.get(n);return void 0===r&&(r=Function.toString.call(n),fN.set(n,r)),r===hN}function pN(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===gN(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function gN(e){const t=e[oN];return t?t.type_:Array.isArray(e)?1:xN(e)?2:bN(e)?3:0}function vN(e,t){return 2===gN(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yN(e,t,n){const r=gN(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function xN(e){return e instanceof Map}function bN(e){return e instanceof Set}function wN(e){return e.copy_||e.base_}function jN(e,t){if(xN(e))return new Map(e);if(bN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=mN(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[oN];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(cN(e),t)}{const t=cN(e);if(null!==t&&n)return Be({},e);const r=Object.create(t);return Object.assign(r,e)}}function NN(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return kN(e)||uN(e)||!dN(e)||(gN(e)>1&&Object.defineProperties(e,{set:SN,add:SN,clear:SN,delete:SN}),Object.freeze(e),t&&Object.values(e).forEach(e=>NN(e,!0))),e}var SN={value:function(){lN(2)}};function kN(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var EN,CN={};function _N(e){const t=CN[e];return t||lN(0),t}function ON(){return EN}function TN(e,t){t&&(_N("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function AN(e){PN(e),e.drafts_.forEach(DN),e.drafts_=null}function PN(e){e===EN&&(EN=e.parent_)}function IN(e){return EN={drafts_:[],parent_:EN,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DN(e){const t=e[oN];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function RN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[oN].modified_&&(AN(t),lN(4)),dN(e)&&(e=MN(t,e),t.parent_||FN(t,e)),t.patches_&&_N("Patches").generateReplacementPatches_(n[oN].base_,e,t.patches_,t.inversePatches_)):e=MN(t,n,[]),AN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aN?e:void 0}function MN(e,t,n){if(kN(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[oN];if(!i)return pN(t,(r,a)=>LN(e,i,t,r,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return FN(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let a=t,s=!1;3===i.type_&&(a=new Set(t),t.clear(),s=!0),pN(a,(r,a)=>LN(e,i,t,r,a,n,s),r),FN(e,t,!1),n&&e.patches_&&_N("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function LN(e,t,n,r,i,a,s){if(null==i)return;if("object"!==typeof i&&!s)return;const o=kN(i);if(!o||s){if(uN(i)){const s=MN(e,i,a&&t&&3!==t.type_&&!vN(t.assigned_,r)?a.concat(r):void 0);if(yN(n,r,s),!uN(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(dN(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===i&&o)return;MN(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(xN(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||FN(e,i)}}}function FN(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&NN(t,n)}var UN={get(e,t){if(t===oN)return e;const n=wN(e);if(!vN(n,t))return function(e,t,n){var r;const i=VN(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!dN(r)?r:r===BN(e.base_,t)?(HN(e),e.copy_[t]=WN(r,e)):r},has:(e,t)=>t in wN(e),ownKeys:e=>Reflect.ownKeys(wN(e)),set(e,t,n){const r=VN(wN(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=BN(wN(e),t),i=null===r||void 0===r?void 0:r[oN];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||vN(e.base_,t)))return!0;HN(e),qN(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==BN(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,HN(e),qN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=wN(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){lN(11)},getPrototypeOf:e=>cN(e.base_),setPrototypeOf(){lN(12)}},zN={};function BN(e,t){const n=e[oN];return(n?wN(n):e)[t]}function VN(e,t){if(!(t in e))return;let n=cN(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=cN(n)}}function qN(e){e.modified_||(e.modified_=!0,e.parent_&&qN(e.parent_))}function HN(e){e.copy_||(e.copy_=jN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}pN(UN,(e,t)=>{zN[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),zN.deleteProperty=function(e,t){return zN.set.call(this,e,t,void 0)},zN.set=function(e,t,n){return UN.set.call(this,e[0],t,n,e[0])};function WN(e,t){const n=xN(e)?_N("MapSet").proxyMap_(e,t):bN(e)?_N("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ON(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=UN;n&&(i=[r],a=zN);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:ON()).drafts_.push(n),n}function KN(e){if(!dN(e)||kN(e))return e;const t=e[oN];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=jN(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=jN(e,!0);return pN(n,(e,t)=>{yN(n,e,KN(t))},r),t&&(t.finalized_=!1),n}var QN=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&lN(6),void 0!==n&&"function"!==typeof n&&lN(7),dN(e)){const i=IN(this),a=WN(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?AN(i):PN(i)}return TN(i,n),RN(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===aN&&(r=void 0),this.autoFreeze_&&NN(r,!0),n){const t=[],i=[];_N("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}lN(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){dN(e)||lN(8),uN(e)&&(e=function(e){uN(e)||lN(10);return KN(e)}(e));const t=IN(this),n=WN(e,void 0);return n[oN].isManual_=!0,PN(t),n}finishDraft(e,t){const n=e&&e[oN];n&&n.isManual_||lN(9);const{scope_:r}=n;return TN(r,t),RN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=_N("Patches").applyPatches_;return uN(e)?r(e,t):this.produce(e,e=>r(e,t))}};QN.produce;var XN={active:!1,index:null,dataKey:void 0,coordinate:void 0},GN=cj({name:"tooltip",initialState:{itemInteraction:{click:XN,hover:XN},axisInteraction:{click:XN,hover:XN},keyboardInteraction:XN,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zw()},removeTooltipEntrySettings:{reducer(e,t){var n=Ow(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Zw()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:YN,removeTooltipEntrySettings:$N,setTooltipSettingsState:JN,setActiveMouseOverItemIndex:ZN,mouseLeaveItem:eS,mouseLeaveChart:tS,setActiveClickItemIndex:nS,setMouseOverAxisIndex:rS,setMouseClickAxisIndex:iS,setSyncInteraction:aS,setKeyboardInteraction:sS}=GN.actions,oS=GN.reducer,lS=cj({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:cS,setDataStartEndIndexes:uS,setComputedData:dS}=lS.actions,hS=lS.reducer,fS=cj({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:mS,setLayout:pS,setChartSize:gS,setScale:vS}=fS.actions,yS=fS.reducer;function xS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var bS=e=>Array.isArray(e)?e:[e];function wS(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var jS="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function NS(){return{s:0,v:void 0,o:null,p:null}}function SS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=NS(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=NS(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new jS(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function kS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),xS(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=Be(Be({},i),o),{memoize:u,memoizeOptions:d=[],argsMemoize:h=SS,argsMemoizeOptions:f=[],devModeChecks:m={}}=c,p=bS(d),g=bS(f),v=wS(t),y=u(function(){return a++,l.apply(null,arguments)},...p);const x=h(function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r},...g);return Object.assign(x,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:u,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var ES=kS(SS),CS=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ES;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>CS}),_S=n(8443),OS=(0,i.createContext)(null),TS=e=>e,AS=()=>{var e=(0,i.useContext)(OS);return e?e.store.dispatch:TS},PS=()=>{},IS=()=>PS,DS=(e,t)=>e===t;function RS(e){var t=(0,i.useContext)(OS);return(0,_S.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:IS,t?t.store.getState:PS,t?t.store.getState:PS,t?e:PS,DS)}var MS=n(3821),LS=n.n(MS),FS=e=>e.legend.settings,US=ES([e=>e.legend.payload,FS],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?LS()(r,n):r});function zS(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function BS(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function VS(e){return function(){return e}}function qS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function HS(e,t){return e[t]}function WS(e){const t=[];return t.key=e,t}function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(n),!0).forEach(function(t){XS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GS=Math.PI/180,YS=e=>180*e/Math.PI,$S=(e,t,n,r)=>({x:e+Math.cos(-GS*r)*n,y:t+Math.sin(-GS*r)*n}),JS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},ZS=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:YS(l),angleInRadian:l}},ek=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},tk=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=ZS({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?QS(QS({},t),{},{radius:i,angle:ek(d,t)}):null};function nk(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ik(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rk(Object(n),!0).forEach(function(t){ak(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ak(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sk(e,t,n){return Nb(e)||Nb(t)?n:gb(t)?db()(e,t,n):"function"===typeof t?t(e):n}var ok=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,lk=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(n),s},ck=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var m="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,p=(t||n)&&"category"===i&&s.bandwidth?s.bandwidth()/m:0;return p="angleAxis"===f&&a&&a.length>=2?2*hb(a[0]-a[1])*p:p,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+p,value:e,offset:p,index:t}}).filter(e=>!fb(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+p,value:e,index:t,offset:p})):s.ticks&&!n&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+p,value:e,offset:p,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+p,value:r?r[e]:e,index:t,offset:p}))},uk=1e-4,dk={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=fb(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}zS(e,t)}},none:zS,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}zS(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var m=e[t[f]];h+=(m[s][1]||0)-(m[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,zS(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=fb(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},hk=(e,t,n)=>{var r=dk[n],i=function(){var e=VS([]),t=qS,n=zS,r=HS;function i(i){var a,s,o=Array.from(e.apply(this,arguments),WS),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=BS(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:VS(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:VS(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?qS:"function"===typeof e?e:VS(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?zS:e,i):n},i}().keys(t).value((e,t)=>+sk(e,t,0)).order(qS).offset(r);return i(e)};function fk(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nb(i[t.dataKey])){var o=jb(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=sk(i,Nb(s)?t.dataKey:s);return Nb(l)?null:t.scale(l)}var mk=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=sk(a,t.dataKey,t.scale.domain()[s]);return Nb(o)?null:t.scale(o)-i/2+r},pk=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(pb);return[Math.min(...t),Math.max(...t)]})(nk(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},gk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yk=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=LS()(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function xk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return ik(ik({},t),{},{dataKey:n,payload:r,value:i,name:a})}function bk(e,t){return e?String(e):"string"===typeof t?t:void 0}var wk=e=>e.layout.width,jk=e=>e.layout.height,Nk=e=>e.layout.scale,Sk=e=>e.layout.margin,kk=ES(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ek=ES(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ck="data-recharts-item-index",_k="data-recharts-item-data-key";function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(t){Ak(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ak(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pk=ES([wk,jk,Sk,e=>e.brush.height,function(e){return Ek(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Ek(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return kk(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return kk(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},FS,e=>e.legend.size],(e,t,n,r,i,a,s,o,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d=Tk(Tk({},{top:(n.top||0)+s,bottom:(n.bottom||0)+o}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&pb(e[a]))return ik(ik({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&pb(e[s]))return ik(ik({},e),{},{[s]:e[s]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,m=t-d.top-d.bottom;return Tk(Tk({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(m,0)})}),Ik=ES(Pk,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Dk=ES(wk,jk,(e,t)=>({x:0,y:0,width:e,height:t})),Rk=(0,i.createContext)(null),Mk=()=>null!=(0,i.useContext)(Rk),Lk=e=>e.brush,Fk=ES([Lk,Pk,Sk],(e,t,n)=>({height:e.height,x:pb(e.x)?e.x:t.left,y:pb(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:pb(e.width)?e.width:t.width})),Uk=()=>{var e,t=Mk(),n=RS(Ik),r=RS(Fk),i=null===(e=RS(Lk))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},zk={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Bk=()=>{var e;return null!==(e=RS(Pk))&&void 0!==e?e:zk},Vk=()=>RS(wk),qk=()=>RS(jk),Hk=e=>e.layout.layoutType,Wk=()=>RS(Hk),Kk=e=>{var t=AS(),n=Mk(),{width:r,height:a}=e,s=Ub(),o=r,l=a;return s&&(o=s.width>0?s.width:r,l=s.height>0?s.height:a),(0,i.useEffect)(()=>{!n&&Pb(o)&&Pb(l)&&t(gS({width:o,height:l}))},[t,n,o,l]),null},Qk=n(9859),Xk=n.n(Qk);function Gk(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Yk(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class $k extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tE;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Jk(this,e))}has(e){return super.has(Jk(this,e))}set(e,t){return super.set(Zk(this,e),t)}delete(e){return super.delete(eE(this,e))}}Set;function Jk(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Zk(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function eE(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function tE(e){return null!==e&&"object"===typeof e?e.valueOf():e}const nE=Symbol("implicit");function rE(){var e=new $k,t=[],n=[],r=nE;function i(i){let a=e.get(i);if(void 0===a){if(r!==nE)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new $k;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return rE(t,n).unknown(r)},Gk.apply(i,arguments),i}function iE(){var e,t,n=rE().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<a,h=d?s:a,f=d?a:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,d()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return iE(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},Gk.apply(d(),arguments)}function aE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aE(t())},e}function sE(){return aE(iE.apply(null,arguments).paddingInner(1))}const oE=Math.sqrt(50),lE=Math.sqrt(10),cE=Math.sqrt(2);function uE(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=oE?10:a>=lE?5:a>=cE?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?uE(e,t,2*n):[o,l,c]}function dE(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?uE(t,e,n):uE(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function hE(e,t,n){return uE(e=+e,t=+t,n=+n)[2]}function fE(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?hE(t,e,n):hE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mE(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pE(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gE(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=mE,n=(t,n)=>mE(e(t),n),r=(t,n)=>e(t)-n):(t=e===mE||e===pE?e:vE,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function vE(){return 0}function yE(e){return null===e?NaN:+e}const xE=gE(mE),bE=xE.right,wE=(xE.left,gE(yE).center,bE);function jE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function NE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function SE(){}var kE=.7,EE=1/kE,CE="\\s*([+-]?\\d+)\\s*",_E="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",OE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TE=/^#([0-9a-f]{3,8})$/,AE=new RegExp("^rgb\\(".concat(CE,",").concat(CE,",").concat(CE,"\\)$")),PE=new RegExp("^rgb\\(".concat(OE,",").concat(OE,",").concat(OE,"\\)$")),IE=new RegExp("^rgba\\(".concat(CE,",").concat(CE,",").concat(CE,",").concat(_E,"\\)$")),DE=new RegExp("^rgba\\(".concat(OE,",").concat(OE,",").concat(OE,",").concat(_E,"\\)$")),RE=new RegExp("^hsl\\(".concat(_E,",").concat(OE,",").concat(OE,"\\)$")),ME=new RegExp("^hsla\\(".concat(_E,",").concat(OE,",").concat(OE,",").concat(_E,"\\)$")),LE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function FE(){return this.rgb().formatHex()}function UE(){return this.rgb().formatRgb()}function zE(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?BE(t):3===n?new HE(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?VE(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?VE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=AE.exec(e))?new HE(t[1],t[2],t[3],1):(t=PE.exec(e))?new HE(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=IE.exec(e))?VE(t[1],t[2],t[3],t[4]):(t=DE.exec(e))?VE(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=RE.exec(e))?YE(t[1],t[2]/100,t[3]/100,1):(t=ME.exec(e))?YE(t[1],t[2]/100,t[3]/100,t[4]):LE.hasOwnProperty(e)?BE(LE[e]):"transparent"===e?new HE(NaN,NaN,NaN,0):null}function BE(e){return new HE(e>>16&255,e>>8&255,255&e,1)}function VE(e,t,n,r){return r<=0&&(e=t=n=NaN),new HE(e,t,n,r)}function qE(e,t,n,r){return 1===arguments.length?function(e){return e instanceof SE||(e=zE(e)),e?new HE((e=e.rgb()).r,e.g,e.b,e.opacity):new HE}(e):new HE(e,t,n,null==r?1:r)}function HE(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function WE(){return"#".concat(GE(this.r)).concat(GE(this.g)).concat(GE(this.b))}function KE(){const e=QE(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(XE(this.r),", ").concat(XE(this.g),", ").concat(XE(this.b)).concat(1===e?")":", ".concat(e,")"))}function QE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function XE(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function GE(e){return((e=XE(e))<16?"0":"")+e.toString(16)}function YE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new JE(e,t,n,r)}function $E(e){if(e instanceof JE)return new JE(e.h,e.s,e.l,e.opacity);if(e instanceof SE||(e=zE(e)),!e)return new JE;if(e instanceof JE)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new JE(s,o,l,e.opacity)}function JE(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ZE(e){return(e=(e||0)%360)<0?e+360:e}function eC(e){return Math.max(0,Math.min(1,e||0))}function tC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function nC(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}jE(SE,zE,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FE,formatHex:FE,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $E(this).formatHsl()},formatRgb:UE,toString:UE}),jE(HE,qE,NE(SE,{brighter(e){return e=null==e?EE:Math.pow(EE,e),new HE(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?kE:Math.pow(kE,e),new HE(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new HE(XE(this.r),XE(this.g),XE(this.b),QE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WE,formatHex:WE,formatHex8:function(){return"#".concat(GE(this.r)).concat(GE(this.g)).concat(GE(this.b)).concat(GE(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:KE,toString:KE})),jE(JE,function(e,t,n,r){return 1===arguments.length?$E(e):new JE(e,t,n,null==r?1:r)},NE(SE,{brighter(e){return e=null==e?EE:Math.pow(EE,e),new JE(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?kE:Math.pow(kE,e),new JE(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new HE(tC(e>=240?e-240:e+120,i,r),tC(e,i,r),tC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new JE(ZE(this.h),eC(this.s),eC(this.l),QE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=QE(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ZE(this.h),", ").concat(100*eC(this.s),"%, ").concat(100*eC(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const rC=e=>()=>e;function iC(e,t){return function(n){return e+n*t}}function aC(e){return 1===(e=+e)?sC:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):rC(isNaN(t)?n:t)}}function sC(e,t){var n=t-e;return n?iC(e,n):rC(isNaN(e)?t:e)}const oC=function e(t){var n=aC(t);function r(e,t){var r=n((e=qE(e)).r,(t=qE(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=sC(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function lC(e){return function(t){var n,r,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=qE(t[n]),a[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return a=e(a),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=o(e),r+""}}}lC(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return nC((n-r/t)*t,s,i,a,o)}}),lC(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return nC((n-r/t)*t,i,a,s,o)}});function cC(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=vC(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function uC(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dC(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function hC(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=vC(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var fC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mC=new RegExp(fC.source,"g");function pC(e,t){var n,r,i,a=fC.lastIndex=mC.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=fC.exec(e))&&(r=mC.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:dC(n,r)})),a=mC.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function gC(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function vC(e,t){var n,r=typeof t;return null==t||"boolean"===r?rC(t):("number"===r?dC:"string"===r?(n=zE(t))?(t=n,oC):pC:t instanceof zE?oC:t instanceof Date?uC:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?gC:Array.isArray(t)?cC:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?hC:dC)(e,t)}function yC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function xC(e){return+e}var bC=[0,1];function wC(e){return e}function jC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function NC(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=jC(i,r),a=n(s,a)):(r=jC(r,i),a=n(a,s)),function(e){return a(r(e))}}function SC(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=jC(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=wE(e,t,1,r)-1;return a[n](i[n](t))}}function kC(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function EC(){var e,t,n,r,i,a,s=bC,o=bC,l=vC,c=wC;function u(){var e=Math.min(s.length,o.length);return c!==wC&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?SC:NC,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(o,s.map(e),dC)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,xC),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=yC,u()},d.clamp=function(e){return arguments.length?(c=!!e||wC,u()):c!==wC},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function CC(){return EC()(wC,wC)}var _C,OC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function TC(e){if(!(t=OC.exec(e)))throw new Error("invalid format: "+e);var t;return new AC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function AC(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function PC(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function IC(e){return(e=PC(Math.abs(e)))?e[1]:NaN}function DC(e,t){var n=PC(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}TC.prototype=AC.prototype,AC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const RC={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DC(100*e,t),r:DC,s:function(e,t){var n=PC(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(_C=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+PC(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MC(e){return e}var LC,FC,UC,zC=Array.prototype.map,BC=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function VC(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?MC:(t=zC.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?MC:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(zC.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=TC(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,p=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(p=!0,y="g"):RC[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",w=RC[y],j=/[defgprs%]/.test(y);function N(e){var i,a,l,h=x,N=b;if("c"===y)N=w(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===y?BC[8+_C/3]:"")+N+(S&&"("===d?")":""),j)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){N=(46===l?s+e.slice(i+1):e.slice(i))+N,e=e.slice(0,i);break}}p&&!f&&(e=r(e,1/0));var k=h.length+e.length+N.length,E=k<m?new Array(m-k+1).join(t):"";switch(p&&f&&(e=r(E+e,E.length?m-N.length:1/0),E=""),n){case"<":e=h+e+N+E;break;case"=":e=h+E+e+N;break;case"^":e=E.slice(0,k=E.length>>1)+h+e+N+E.slice(k);break;default:e=E+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=TC(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(IC(t)/3))),i=Math.pow(10,-r),a=BC[8+r/3];return function(e){return n(i*e)+a}}}}function qC(e,t,n,r){var i,a=fE(e,t,n);switch((r=TC(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(IC(t)/3)))-IC(Math.abs(e)))}(a,s))||(r.precision=i),UC(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,IC(t)-IC(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-IC(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return FC(r)}function HC(e){var t=e.domain;return e.ticks=function(e){var n=t();return dE(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return qC(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=hE(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function WC(){var e=CC();return e.copy=function(){return kC(e,WC())},Gk.apply(e,arguments),HC(e)}function KC(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,xC),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return KC(e).unknown(t)},e=arguments.length?Array.from(e,xC):[0,1],HC(n)}function QC(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function XC(e){return Math.log(e)}function GC(e){return Math.exp(e)}function YC(e){return-Math.log(-e)}function $C(e){return-Math.exp(-e)}function JC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZC(e){return(t,n)=>-e(-t,n)}function e_(e){const t=e(XC,GC),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?JC:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=ZC(r),i=ZC(i),e(YC,$C)):e(XC,GC),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let m=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}2*m.length<f&&(m=dE(s,o,f))}else m=dE(d,h,Math.min(h-d,f)).map(i);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=TC(n)).precision||(n.trim=!0),n=FC(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(QC(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function t_(){const e=e_(EC()).domain([1,10]);return e.copy=()=>kC(e,t_()).base(e.base()),Gk.apply(e,arguments),e}function n_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function r_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function i_(e){var t=1,n=e(n_(t),r_(t));return n.constant=function(n){return arguments.length?e(n_(t=+n),r_(t)):t},HC(n)}function a_(){var e=i_(EC());return e.copy=function(){return kC(e,a_()).constant(e.constant())},Gk.apply(e,arguments)}function s_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function o_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l_(e){return e<0?-e*e:e*e}function c_(e){var t=e(wC,wC),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(wC,wC):.5===n?e(o_,l_):e(s_(n),s_(1/n)):n},HC(t)}function u_(){var e=c_(EC());return e.copy=function(){return kC(e,u_()).exponent(e.exponent())},Gk.apply(e,arguments),e}function d_(){return u_.apply(null,arguments).exponent(.5)}function h_(e){return Math.sign(e)*e*e}function f_(){var e,t=CC(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(h_(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,xC)).map(h_)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return f_(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Gk.apply(i,arguments),HC(i)}function m_(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function p_(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function g_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mE;if(e===mE)return v_;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function v_(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function y_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?v_:g_(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);y_(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(x_(e,n,t),i(e[r],a)>0&&x_(e,n,r);s<o;){for(x_(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?x_(e,n,o):(++o,x_(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function x_(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b_(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return p_(e);if(t>=1)return m_(e);var r,i=(r-1)*t,a=Math.floor(i),s=m_(y_(e,a).subarray(0,a+1));return s+(p_(e.subarray(a+1))-s)*(i-a)}}function w_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yE;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function j_(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=w_(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[wE(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(mE),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return j_().domain(t).range(n).unknown(e)},Gk.apply(a,arguments)}function N_(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[wE(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return N_().domain([t,n]).range(a).unknown(e)},Gk.apply(HC(s),arguments)}function S_(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[wE(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return S_().domain(t).range(n).unknown(e)},Gk.apply(i,arguments)}LC=VC({thousands:",",grouping:[3],currency:["$",""]}),FC=LC.format,UC=LC.formatPrefix;const k_=1e3,E_=6e4,C_=36e5,__=864e5,O_=6048e5,T_=2592e6,A_=31536e6,P_=new Date,I_=new Date;function D_(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>D_(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(P_.setTime(+t),I_.setTime(+r),e(P_),e(I_),Math.floor(n(P_,I_))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const R_=D_(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);R_.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?D_(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):R_:null);R_.range;const M_=D_(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*k_)},(e,t)=>(t-e)/k_,e=>e.getUTCSeconds()),L_=(M_.range,D_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*k_)},(e,t)=>{e.setTime(+e+t*E_)},(e,t)=>(t-e)/E_,e=>e.getMinutes())),F_=(L_.range,D_(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*E_)},(e,t)=>(t-e)/E_,e=>e.getUTCMinutes())),U_=(F_.range,D_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*k_-e.getMinutes()*E_)},(e,t)=>{e.setTime(+e+t*C_)},(e,t)=>(t-e)/C_,e=>e.getHours())),z_=(U_.range,D_(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*C_)},(e,t)=>(t-e)/C_,e=>e.getUTCHours())),B_=(z_.range,D_(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*E_)/__,e=>e.getDate()-1)),V_=(B_.range,D_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/__,e=>e.getUTCDate()-1)),q_=(V_.range,D_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/__,e=>Math.floor(e/__)));q_.range;function H_(e){return D_(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*E_)/O_)}const W_=H_(0),K_=H_(1),Q_=H_(2),X_=H_(3),G_=H_(4),Y_=H_(5),$_=H_(6);W_.range,K_.range,Q_.range,X_.range,G_.range,Y_.range,$_.range;function J_(e){return D_(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/O_)}const Z_=J_(0),eO=J_(1),tO=J_(2),nO=J_(3),rO=J_(4),iO=J_(5),aO=J_(6),sO=(Z_.range,eO.range,tO.range,nO.range,rO.range,iO.range,aO.range,D_(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),oO=(sO.range,D_(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),lO=(oO.range,D_(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));lO.every=e=>isFinite(e=Math.floor(e))&&e>0?D_(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;lO.range;const cO=D_(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cO.every=e=>isFinite(e=Math.floor(e))&&e>0?D_(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;cO.range;function uO(e,t,n,r,i,a){const s=[[M_,1,k_],[M_,5,5e3],[M_,15,15e3],[M_,30,3e4],[a,1,E_],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,C_],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,__],[r,2,1728e5],[n,1,O_],[t,1,T_],[t,3,7776e6],[e,1,A_]];function o(t,n,r){const i=Math.abs(n-t)/r,a=gE(e=>{let[,,t]=e;return t}).right(s,i);if(a===s.length)return e.every(fE(t/A_,n/A_,r));if(0===a)return R_.every(Math.max(fE(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}const[dO,hO]=uO(cO,oO,Z_,q_,z_,F_),[fO,mO]=uO(lO,sO,W_,B_,U_,L_);function pO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vO(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var yO,xO,bO,wO={"-":"",_:" ",0:"0"},jO=/^\s*\d+/,NO=/^%/,SO=/[\\^$*+?|[\]().{}]/g;function kO(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function EO(e){return e.replace(SO,"\\$&")}function CO(e){return new RegExp("^(?:"+e.map(EO).join("|")+")","i")}function _O(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function OO(e,t,n){var r=jO.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function TO(e,t,n){var r=jO.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function AO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function PO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function IO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function DO(e,t,n){var r=jO.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function RO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function MO(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function LO(e,t,n){var r=jO.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function FO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function UO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function zO(e,t,n){var r=jO.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function BO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function VO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function qO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function HO(e,t,n){var r=jO.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function WO(e,t,n){var r=jO.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function KO(e,t,n){var r=NO.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function QO(e,t,n){var r=jO.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function XO(e,t,n){var r=jO.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function GO(e,t){return kO(e.getDate(),t,2)}function YO(e,t){return kO(e.getHours(),t,2)}function $O(e,t){return kO(e.getHours()%12||12,t,2)}function JO(e,t){return kO(1+B_.count(lO(e),e),t,3)}function ZO(e,t){return kO(e.getMilliseconds(),t,3)}function eT(e,t){return ZO(e,t)+"000"}function tT(e,t){return kO(e.getMonth()+1,t,2)}function nT(e,t){return kO(e.getMinutes(),t,2)}function rT(e,t){return kO(e.getSeconds(),t,2)}function iT(e){var t=e.getDay();return 0===t?7:t}function aT(e,t){return kO(W_.count(lO(e)-1,e),t,2)}function sT(e){var t=e.getDay();return t>=4||0===t?G_(e):G_.ceil(e)}function oT(e,t){return e=sT(e),kO(G_.count(lO(e),e)+(4===lO(e).getDay()),t,2)}function lT(e){return e.getDay()}function cT(e,t){return kO(K_.count(lO(e)-1,e),t,2)}function uT(e,t){return kO(e.getFullYear()%100,t,2)}function dT(e,t){return kO((e=sT(e)).getFullYear()%100,t,2)}function hT(e,t){return kO(e.getFullYear()%1e4,t,4)}function fT(e,t){var n=e.getDay();return kO((e=n>=4||0===n?G_(e):G_.ceil(e)).getFullYear()%1e4,t,4)}function mT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kO(t/60|0,"0",2)+kO(t%60,"0",2)}function pT(e,t){return kO(e.getUTCDate(),t,2)}function gT(e,t){return kO(e.getUTCHours(),t,2)}function vT(e,t){return kO(e.getUTCHours()%12||12,t,2)}function yT(e,t){return kO(1+V_.count(cO(e),e),t,3)}function xT(e,t){return kO(e.getUTCMilliseconds(),t,3)}function bT(e,t){return xT(e,t)+"000"}function wT(e,t){return kO(e.getUTCMonth()+1,t,2)}function jT(e,t){return kO(e.getUTCMinutes(),t,2)}function NT(e,t){return kO(e.getUTCSeconds(),t,2)}function ST(e){var t=e.getUTCDay();return 0===t?7:t}function kT(e,t){return kO(Z_.count(cO(e)-1,e),t,2)}function ET(e){var t=e.getUTCDay();return t>=4||0===t?rO(e):rO.ceil(e)}function CT(e,t){return e=ET(e),kO(rO.count(cO(e),e)+(4===cO(e).getUTCDay()),t,2)}function _T(e){return e.getUTCDay()}function OT(e,t){return kO(eO.count(cO(e)-1,e),t,2)}function TT(e,t){return kO(e.getUTCFullYear()%100,t,2)}function AT(e,t){return kO((e=ET(e)).getUTCFullYear()%100,t,2)}function PT(e,t){return kO(e.getUTCFullYear()%1e4,t,4)}function IT(e,t){var n=e.getUTCDay();return kO((e=n>=4||0===n?rO(e):rO.ceil(e)).getUTCFullYear()%1e4,t,4)}function DT(){return"+0000"}function RT(){return"%"}function MT(e){return+e}function LT(e){return Math.floor(+e/1e3)}function FT(e){return new Date(e)}function UT(e){return e instanceof Date?+e:+new Date(+e)}function zT(e,t,n,r,i,a,s,o,l,c){var u=CC(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?m:s(e)<e?p:a(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,UT)):h().map(FT)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(QC(n,e)):u},u.copy=function(){return kC(u,zT(e,t,n,r,i,a,s,o,l,c))},u}function BT(){return Gk.apply(zT(fO,mO,lO,sO,W_,B_,U_,L_,M_,xO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VT(){return Gk.apply(zT(dO,hO,cO,oO,Z_,V_,z_,F_,M_,bO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qT(){var e,t,n,r,i,a=0,s=1,o=wC,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(vC),c.rangeRound=u(yC),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function HT(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function WT(){var e=HC(qT()(wC));return e.copy=function(){return HT(e,WT())},Yk.apply(e,arguments)}function KT(){var e=e_(qT()).domain([1,10]);return e.copy=function(){return HT(e,KT()).base(e.base())},Yk.apply(e,arguments)}function QT(){var e=i_(qT());return e.copy=function(){return HT(e,QT()).constant(e.constant())},Yk.apply(e,arguments)}function XT(){var e=c_(qT());return e.copy=function(){return HT(e,XT()).exponent(e.exponent())},Yk.apply(e,arguments)}function GT(){return XT.apply(null,arguments).exponent(.5)}function YT(){var e=[],t=wC;function n(n){if(null!=n&&!isNaN(n=+n))return t((wE(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(mE),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>b_(e,r/t))},n.copy=function(){return YT(t).domain(e)},Yk.apply(n,arguments)}function $T(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,u=1,d=wC,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=vC);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=m(vC),f.rangeRound=m(yC),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function JT(){var e=HC($T()(wC));return e.copy=function(){return HT(e,JT())},Yk.apply(e,arguments)}function ZT(){var e=e_($T()).domain([.1,1,10]);return e.copy=function(){return HT(e,ZT()).base(e.base())},Yk.apply(e,arguments)}function eA(){var e=i_($T());return e.copy=function(){return HT(e,eA()).constant(e.constant())},Yk.apply(e,arguments)}function tA(){var e=c_($T());return e.copy=function(){return HT(e,tA()).exponent(e.exponent())},Yk.apply(e,arguments)}function nA(){return tA.apply(null,arguments).exponent(.5)}function rA(e){return null!=e}!function(e){yO=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=CO(i),u=_O(i),d=CO(a),h=_O(a),f=CO(s),m=_O(s),p=CO(o),g=_O(o),v=CO(l),y=_O(l),x={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:GO,e:GO,f:eT,g:dT,G:fT,H:YO,I:$O,j:JO,L:ZO,m:tT,M:nT,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:MT,s:LT,S:rT,u:iT,U:aT,V:oT,w:lT,W:cT,x:null,X:null,y:uT,Y:hT,Z:mT,"%":RT},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:pT,e:pT,f:bT,g:AT,G:IT,H:gT,I:vT,j:yT,L:xT,m:wT,M:jT,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:MT,s:LT,S:NT,u:ST,U:kT,V:CT,w:_T,W:OT,x:null,X:null,y:TT,Y:PT,Z:DT,"%":RT},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:UO,e:UO,f:WO,g:RO,G:DO,H:BO,I:BO,j:zO,L:HO,m:FO,M:VO,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:LO,Q:QO,s:XO,S:qO,u:TO,U:AO,V:PO,w:OO,W:IO,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:RO,Y:DO,Z:MO,"%":KO};function j(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=wO[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(n){var r,i,a=vO(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=gO(vO(a.y,0,1))).getUTCDay(),r=i>4||0===i?eO.ceil(r):eO(r),r=V_.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=pO(vO(a.y,0,1))).getDay(),r=i>4||0===i?K_.ceil(r):K_(r),r=B_.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?gO(vO(a.y,0,1)).getUTCDay():pO(vO(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,gO(a)):pO(a)}}function S(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in wO?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),xO=yO.format,yO.parse,bO=yO.utcFormat,yO.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var iA=e=>e.chartData,aA=ES([iA],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sA=(e,t,n,r)=>r?aA(e):iA(e);function oA(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Ab(t)&&Ab(n))return!0}return!1}function lA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function cA(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(Ab(i))n=i;else if("function"===typeof i)return;if(Ab(a))r=a;else if("function"===typeof a)return;var s=[n,r];if(oA(s))return s}}var uA=n(8210),dA=n.n(uA),hA=e=>e,fA={"@@functional/placeholder":!0},mA=e=>e===fA,pA=e=>function t(){return 0===arguments.length||1===arguments.length&&mA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},gA=(e,t)=>1===e?t:pA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==fA).length;return a>=e?t(...r):gA(e-a,pA(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>mA(e)?n.shift():e);return t(...a,...n)}))}),vA=e=>gA(e.length,e),yA=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},xA=vA((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),bA=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),wA=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function jA(e){return 0===e?1:Math.floor(new(dA())(e).abs().log(10).toNumber())+1}function NA(e,t,n){for(var r=new(dA())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}vA((e,t,n)=>{var r=+e;return r+n*(+t-r)}),vA((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),vA((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var SA=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},kA=(e,t,n)=>{if(e.lte(0))return new(dA())(0);var r=jA(e.toNumber()),i=new(dA())(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new(dA())(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return t?new(dA())(o.toNumber()):new(dA())(Math.ceil(o.toNumber()))},EA=(e,t,n)=>{var r=new(dA())(1),i=new(dA())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(dA())(10).pow(jA(e)-1),i=new(dA())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(dA())(Math.floor(e)))}else 0===e?i=new(dA())(Math.floor((t-1)/2)):n||(i=new(dA())(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return hA;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(xA(e=>i.add(new(dA())(e-s).mul(r)).toNumber()),yA);return o(0,t)},CA=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(dA())(0),tickMin:new(dA())(0),tickMax:new(dA())(0)};var a,s=kA(new(dA())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(dA())(0):(a=new(dA())(e).add(t).div(2)).sub(new(dA())(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new(dA())(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?CA(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new(dA())(o).mul(s)),tickMax:a.add(new(dA())(l).mul(s))})};var _A=wA(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[s,o]=SA([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...yA(0,r-1).map(()=>1/0)]:[...yA(0,r-1).map(()=>-1/0),o];return t>n?bA(l):l}if(s===o)return EA(s,r,i);var{step:c,tickMin:u,tickMax:d}=CA(s,o,a,i,0),h=NA(u,d.add(new(dA())(.1).mul(c)),c);return t>n?bA(h):h}),OA=wA(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=SA([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(t,2),l=kA(new(dA())(s).sub(a).div(o-1),i,0),c=[...NA(new(dA())(a),new(dA())(s),l),s];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?bA(c):c}),TA=e=>e.rootProps.maxBarSize,AA=e=>e.rootProps.barCategoryGap,PA=e=>e.rootProps.stackOffset,IA=e=>e.options.chartName,DA=e=>e.rootProps.syncId,RA=e=>e.rootProps.syncMethod,MA=e=>e.options.eventEmitter,LA=0,FA="auto",UA=!0,zA=!1,BA=!0,VA=0,qA="auto",HA=!0,WA=5,KA=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},QA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:LA,includeHidden:!1,name:void 0,reversed:!1,scale:FA,tick:UA,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},XA={allowDataOverflow:zA,allowDecimals:!1,allowDuplicatedCategory:BA,dataKey:void 0,domain:void 0,id:VA,includeHidden:!1,name:void 0,reversed:!1,scale:qA,tick:HA,tickCount:WA,ticks:void 0,type:"number",unit:void 0},GA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:LA,includeHidden:!1,name:void 0,reversed:!1,scale:FA,tick:UA,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},YA={allowDataOverflow:zA,allowDecimals:!1,allowDuplicatedCategory:BA,dataKey:void 0,domain:void 0,id:VA,includeHidden:!1,name:void 0,reversed:!1,scale:qA,tick:HA,tickCount:WA,ticks:void 0,type:"category",unit:void 0},$A=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?GA:QA,JA=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?YA:XA,ZA=e=>e.polarOptions,eP=ES([wk,jk,Pk],JS),tP=ES([ZA,eP],(e,t)=>{if(null!=e)return xb(e.innerRadius,t,0)}),nP=ES([ZA,eP],(e,t)=>{if(null!=e)return xb(e.outerRadius,t,.8*t)}),rP=ES([ZA],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),iP=(ES([$A,rP],KA),ES([eP,tP,nP],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),aP=(ES([JA,iP],KA),ES([Hk,ZA,tP,nP,wk,jk],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:xb(s,i,i/2),cy:xb(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),sP=(e,t)=>t,oP=(e,t,n)=>n;function lP(e){return null===e||void 0===e?void 0:e.id}var cP=e=>{var t=Hk(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},uP=e=>e.tooltip.settings.axisId,dP=e=>{var t=cP(e),n=uP(e);return TP(e,t,n)},hP=ES([dP],e=>null===e||void 0===e?void 0:e.dataKey);function fP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=lP(e);n.forEach((t,n)=>{var r,l=null==a||i?n:String(sk(t,a,null)),c=sk(t,e.dataKey,0);r=s.has(l)?s.get(l):{},Object.assign(r,{[o]:c}),s.set(l,r)})}}),Array.from(s.values())}function mP(e){return null!=e.stackId&&null!=e.dataKey}var pP=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function gP(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(t){xP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bP=[0,"auto"],wP={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jP=(e,t)=>e.cartesianAxis.xAxis[t],NP=(e,t)=>{var n=jP(e,t);return null==n?wP:n},SP={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:bP,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},kP=(e,t)=>e.cartesianAxis.yAxis[t],EP=(e,t)=>{var n=kP(e,t);return null==n?SP:n},CP={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_P=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?CP:n},OP=(e,t,n)=>{switch(t){case"xAxis":return NP(e,n);case"yAxis":return EP(e,n);case"zAxis":return _P(e,n);case"angleAxis":return $A(e,n);case"radiusAxis":return JA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},TP=(e,t,n)=>{switch(t){case"xAxis":return NP(e,n);case"yAxis":return EP(e,n);case"angleAxis":return $A(e,n);case"radiusAxis":return JA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},AP=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function PP(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var IP=e=>e.graphicalItems.cartesianItems,DP=ES([sP,oP],PP),RP=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),MP=ES([IP,OP,DP],RP,{memoizeOptions:{resultEqualityCheck:gP}}),LP=ES([MP],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(mP)),FP=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),UP=ES([MP],FP),zP=e=>e.map(e=>e.data).filter(Boolean).flat(1),BP=ES([MP],zP,{memoizeOptions:{resultEqualityCheck:gP}}),VP=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},qP=ES([BP,sA],VP),HP=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:sk(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:sk(e,t)}))):e.map(e=>({value:e})),WP=ES([qP,OP,MP],HP);function KP(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function QP(e){if(gb(e)||e instanceof Date){var t=Number(e);if(Ab(t))return t}}function XP(e){if(Array.isArray(e)){var t=[QP(e[0]),QP(e[1])];return oA(t)?t:void 0}var n=QP(e);if(null!=n)return[n,n]}function GP(e){return e.map(QP).filter(rA)}var YP=ES([LP,sA,dP],fP),$P=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(lP);return[r,{stackedData:hk(e,a,n),graphicalItems:i}]}))},JP=ES([YP,LP,PA],$P),ZP=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==r&&"zAxis"!==n){var s=pk(e,i,a);if(null==s||0!==s[0]||0!==s[1])return s}},eI=ES([OP],e=>e.allowDataOverflow),tI=e=>{var t;if(null==e||!("domain"in e))return bP;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=GP(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:bP},nI=ES([OP],tI),rI=ES([nI,eI],cA),iI=ES([JP,iA,sP,rI],ZP,{memoizeOptions:{resultEqualityCheck:pP}}),aI=e=>e.errorBars,sI=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},oI=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var o,l,c=null===(o=r[n.id])||void 0===o?void 0:o.filter(e=>KP(i,e)),u=sk(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),d=function(e,t,n){return!n||"number"!==typeof t||fb(t)?[]:n.length?GP(n.flatMap(n=>{var r,i,a=sk(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,Ab(r)&&Ab(i))return[t-r,t+i]})):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==a||h<a)&&(a=h),(null==s||f>s)&&(s=f)}var m=XP(u);null!=m&&(a=null==a?m[0]:Math.min(a,m[0]),s=null==s?m[1]:Math.max(s,m[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var n=XP(sk(e,t.dataKey));null!=n&&(a=null==a?n[0]:Math.min(a,n[0]),s=null==s?n[1]:Math.max(s,n[1]))}),Ab(a)&&Ab(s))return[a,s]},lI=ES([qP,OP,UP,aI,sP],oI,{memoizeOptions:{resultEqualityCheck:pP}});function cI(e){var{value:t}=e;if(gb(t)||t instanceof Date)return t}var uI=e=>e.referenceElements.dots,dI=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),hI=ES([uI,sP,oP],dI),fI=e=>e.referenceElements.areas,mI=ES([fI,sP,oP],dI),pI=e=>e.referenceElements.lines,gI=ES([pI,sP,oP],dI),vI=(e,t)=>{var n=GP(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},yI=ES(hI,sP,vI),xI=(e,t)=>{var n=GP(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},bI=ES([mI,sP],xI),wI=(e,t)=>{var n=GP(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},jI=ES(gI,sP,wI),NI=ES(yI,jI,bI,(e,t,n)=>sI(e,n,t)),SI=(e,t,n,r,i,a,s,o)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(oA(r))return lA(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(pb(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[0]))}catch(m){}else if("string"===typeof s&&gk.test(s)){var l=gk.exec(s);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(pb(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[1]))}catch(p){}else if("string"===typeof o&&vk.test(o)){var u=vk.exec(o);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(oA(h))return null==t?h:lA(h,t,n)}}}(t,"vertical"===s&&"xAxis"===o||"horizontal"===s&&"yAxis"===o?sI(r,a,i):sI(a,i),e.allowDataOverflow),kI=ES([OP,nI,rI,iI,lI,NI,Hk,sP],SI,{memoizeOptions:{resultEqualityCheck:pP}}),EI=[0,1],CI=(e,t,n,r,i,a,s)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==s){var{dataKey:o,type:l}=e,c=ok(t,a);return c&&null==o?Xk()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(cI).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&bb(r))?Xk()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?EI:s}},_I=ES([OP,Hk,qP,WP,PA,sP,kI],CI),OI=(t,n,r,i,a)=>{if(null!=t){var{scale:s,type:o}=t;if("auto"===s)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===o&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(Sb(s));return l in e?l:"point"}}},TI=ES([OP,Hk,AP,IA,sP],OI);function AI(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Sb(t));return n in e?e[n]():void 0}}(n);if(null!=a){var s=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-uk,a=Math.max(r[0],r[1])+uk,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}})(s),s}}}var PI=(e,t,n)=>{var r=tI(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&oA(e)?_A(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&oA(e)?OA(e,t.tickCount,t.allowDecimals):void 0},II=ES([_I,TP,TI],PI),DI=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&oA(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},RI=ES([OP,_I,II,sP],DI),MI=ES(WP,OP,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(GP(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),LI=ES(MI,Hk,AA,Pk,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Ab(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=xb(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),FI=ES(NP,(e,t)=>{var n=NP(e,t);return null==n||"string"!==typeof n.padding?0:LI(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),UI=ES(EP,(e,t)=>{var n=EP(e,t);return null==n||"string"!==typeof n.padding?0:LI(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),zI=ES([Pk,FI,Fk,Lk,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),BI=ES([Pk,Hk,UI,Fk,Lk,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),VI=(e,t,n,r)=>{var i;switch(t){case"xAxis":return zI(e,n,r);case"yAxis":return BI(e,n,r);case"zAxis":return null===(i=_P(e,n))||void 0===i?void 0:i.range;case"angleAxis":return rP(e);case"radiusAxis":return iP(e,n);default:return}},qI=ES([OP,VI],KA),HI=ES([OP,TI,RI,qI],AI);ES([MP,aI,sP],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>KP(n,e)));function WI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var KI=(e,t)=>t,QI=(e,t,n)=>n,XI=ES(kk,KI,QI,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(WI)),GI=ES(Ek,KI,QI,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(WI)),YI=(e,t)=>({width:e.width,height:t.height}),$I=ES(Pk,NP,YI),JI=ES(jk,Pk,XI,KI,QI,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=YI(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;s[n.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),ZI=ES(wk,Pk,GI,KI,QI,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;s[n.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),eD=ES([Pk,NP,(e,t)=>{var n=NP(e,t);if(null!=n)return JI(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),tD=ES([Pk,EP,(e,t)=>{var n=EP(e,t);if(null!=n)return ZI(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),nD=ES(Pk,EP,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),rD=(e,t,n)=>{switch(t){case"xAxis":return $I(e,n).width;case"yAxis":return nD(e,n).height;default:return}},iD=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=ok(e,r),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&bb(l)?l:void 0}},aD=ES([Hk,WP,OP,sP],iD),sD=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!ok(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},oD=ES([Hk,WP,TP,sP],sD),lD=ES([Hk,(e,t,n)=>{switch(t){case"xAxis":return NP(e,n);case"yAxis":return EP(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},TI,HI,aD,oD,VI,II,sP],(e,t,n,r,i,a,s,o,l)=>{if(null==t)return null;var c=ok(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}),cD=ES([Hk,TP,TI,HI,II,VI,aD,oD,sP],(e,t,n,r,i,a,s,o,l)=>{if(null!=t&&null!=r){var c=ok(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,m="category"===u&&r.bandwidth?r.bandwidth()/f:0;m="angleAxis"===l&&null!=a&&a.length>=2?2*hb(a[0]-a[1])*m:m;var p=d||i;return p?p.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+m,value:e,offset:m}}).filter(e=>!fb(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+m,value:e,index:t,offset:m})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+m,value:e,offset:m})):r.domain().map((e,t)=>({coordinate:r(e)+m,value:s?s[e]:e,index:t,offset:m}))}}),uD=ES([Hk,TP,HI,VI,aD,oD,sP],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=ok(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===r||void 0===r?void 0:r.length)>=2?2*hb(r[0]-r[1])*c:c,o&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),dD=ES(OP,HI,(e,t)=>{if(null!=e&&null!=t)return yP(yP({},e),{},{scale:t})}),hD=ES([OP,TI,_I,qI],AI),fD=(ES((e,t,n)=>_P(e,n),hD,(e,t)=>{if(null!=e&&null!=t)return yP(yP({},e),{},{scale:t})}),ES([Hk,kk,Ek],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),mD=e=>e.options.defaultTooltipEventType,pD=e=>e.options.validateTooltipEventTypes;function gD(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function vD(e,t){return gD(t,mD(e),pD(e))}var yD=(e,t)=>{var n,r=Number(t);if(!fb(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function xD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xD(Object(n),!0).forEach(function(t){wD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jD=(e,t,n,r)=>{if(null==t)return XN;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return XN;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return bD(bD({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return bD(bD({},XN),{},{coordinate:i.coordinate})},ND=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!Ab(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},SD=(e,t,n,r,i,a,s,o)=>{if(null!=a&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},kD=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},ED=e=>e.options.tooltipPayloadSearcher,CD=e=>e.tooltip;function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(t){TD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AD=(e,t,n,r,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:m,settings:p}=n,g=function(e,t){return null!=e?e:t}(m,o),v=Array.isArray(g)?nk(g,c,u):g,y=null!==(d=null===p||void 0===p?void 0:p.dataKey)&&void 0!==d?d:r,x=null===p||void 0===p?void 0:p.nameKey;(h=r&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===s?jb(v,r,i):a(v,t,l,x),Array.isArray(h))?h.forEach(t=>{var n=OD(OD({},p),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(xk({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:sk(t.payload,t.dataKey),name:t.name}))}):e.push(xk({tooltipEntrySettings:p,dataKey:y,payload:h,value:sk(h,y),name:null!==(f=sk(h,x))&&void 0!==f?f:null===p||void 0===p?void 0:p.name}));return e},[])}},PD=ES([dP,Hk,AP,IA,cP],OI),ID=ES([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),DD=ES([cP,uP],PP),RD=ES([ID,dP,DD],RP,{memoizeOptions:{resultEqualityCheck:gP}}),MD=ES([RD],e=>e.filter(mP)),LD=ES([RD],zP,{memoizeOptions:{resultEqualityCheck:gP}}),FD=ES([LD,iA],VP),UD=ES([MD,iA,dP],fP),zD=ES([FD,dP,RD],HP),BD=ES([dP],tI),VD=ES([dP],e=>e.allowDataOverflow),qD=ES([BD,VD],cA),HD=ES([RD],e=>e.filter(mP)),WD=ES([UD,HD,PA],$P),KD=ES([WD,iA,cP,qD],ZP),QD=ES([RD],FP),XD=ES([FD,dP,QD,aI,cP],oI,{memoizeOptions:{resultEqualityCheck:pP}}),GD=ES([uI,cP,uP],dI),YD=ES([GD,cP],vI),$D=ES([fI,cP,uP],dI),JD=ES([$D,cP],xI),ZD=ES([pI,cP,uP],dI),eR=ES([ZD,cP],wI),tR=ES([YD,eR,JD],sI),nR=ES([dP,BD,qD,KD,XD,tR,Hk,cP],SI),rR=ES([dP,Hk,FD,zD,PA,cP,nR],CI),iR=ES([rR,dP,PD],PI),aR=ES([dP,rR,iR,cP],DI),sR=e=>{var t=cP(e),n=uP(e);return VI(e,t,n,!1)},oR=ES([dP,sR],KA),lR=ES([dP,PD,aR,oR],AI),cR=ES([Hk,zD,dP,cP],iD),uR=ES([Hk,zD,dP,cP],sD),dR=ES([Hk,dP,PD,lR,sR,cR,uR,cP],(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=ok(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*hb(i[0]-i[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),hR=ES([mD,pD,e=>e.tooltip.settings],(e,t,n)=>gD(n.shared,e,t)),fR=e=>e.tooltip.settings.trigger,mR=e=>e.tooltip.settings.defaultIndex,pR=ES([CD,hR,fR,mR],jD),gR=ES([pR,FD],ND),vR=ES([dR,gR],yD),yR=ES([pR],e=>{if(e)return e.dataKey}),xR=ES([CD,hR,fR,mR],kD),bR=ES([wk,jk,Hk,Pk,dR,mR,xR,ED],SD),wR=ES([pR,bR],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),jR=ES([pR],e=>e.active),NR=ES([xR,gR,iA,hP,vR,ED,hR],AD),SR=ES([NR],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),kR=(e,t)=>t,ER=(e,t,n)=>n,CR=(e,t,n,r)=>r,_R=ES(dR,e=>LS()(e,e=>e.coordinate)),OR=ES([CD,kR,ER,CR],jD),TR=ES([OR,FD],ND),AR=ES([CD,kR,ER,CR],kD),PR=ES([wk,jk,Hk,Pk,dR,CR,AR,ED],SD),IR=ES([OR,PR],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),DR=ES(dR,TR,yD),RR=ES([AR,TR,iA,hP,DR,ED,kR],AD),MR=ES([OR],e=>({isActive:e.active,activeIndex:e.index})),LR=ES([(e,t)=>t,Hk,aP,cP,oR,dR,_R,Pk],(e,t,n,r,i,a,s,o)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?tk({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,s=-1,o=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(hb(u-c)!==hb(d-u)){var f=[];if(hb(d-u)===hb(i[1]-i[0])){h=d;var m=u+i[1]-i[0];f[0]=Math.min(m,(m+c)/2),f[1]=Math.max(m,(m+c)/2)}else{h=c;var p=d+i[1]-i[0];f[0]=Math.min(u,(p+u)/2),f[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:s}=n[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}return s})(c,s,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:s}=r;return ik(ik(ik({},r),$S(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return ik(ik(ik({},r),$S(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),FR=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},UR=Xw("mouseClick"),zR=Vj();zR.startListening({actionCreator:UR,effect:(e,t)=>{var n=e.payload,r=LR(t.getState(),FR(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(iS({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var BR=Xw("mouseMove"),VR=Vj();function qR(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(t){KR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}VR.startListening({actionCreator:BR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=vD(r,r.tooltip.settings.shared),a=LR(r,FR(n));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch(rS({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(tS()))}});var QR=cj({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zw()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zw()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zw()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zw()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zw()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zw()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=WR(WR({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:XR,removeXAxis:GR,addYAxis:YR,removeYAxis:$R,addZAxis:JR,removeZAxis:ZR,updateYAxisWidth:eM}=QR.actions,tM=QR.reducer,nM=cj({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zw()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ow(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Zw()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ow(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Zw()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zw()},removePolarGraphicalItem:{reducer(e,t){var n=Ow(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Zw()}}}),{addCartesianGraphicalItem:rM,replaceCartesianGraphicalItem:iM,removeCartesianGraphicalItem:aM,addPolarGraphicalItem:sM,removePolarGraphicalItem:oM}=nM.actions,lM=nM.reducer,cM=cj({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ow(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ow(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ow(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:uM,removeDot:dM,addArea:hM,removeArea:fM,addLine:mM,removeLine:pM}=cM.actions,gM=cM.reducer,vM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yM=cj({name:"brush",initialState:vM,reducers:{setBrushSettings:(e,t)=>null==t.payload?vM:t.payload}}),{setBrushSettings:xM}=yM.actions,bM=yM.reducer,wM=cj({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zw()},removeLegendPayload:{reducer(e,t){var n=Ow(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Zw()}}}),{setLegendSize:jM,setLegendSettings:NM,addLegendPayload:SM,removeLegendPayload:kM}=wM.actions,EM=wM.reducer,CM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},_M=cj({name:"rootProps",initialState:CM,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:CM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),OM=_M.reducer,{updateOptions:TM}=_M.actions,AM=cj({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:PM,removeRadiusAxis:IM,addAngleAxis:DM,removeAngleAxis:RM}=AM.actions,MM=AM.reducer,LM=cj({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:FM}=LM.actions,UM=LM.reducer,zM=Xw("keyDown"),BM=Xw("focus"),VM=Vj();VM.startListening({actionCreator:zM,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(ND(r,FD(n))),s=dR(n);if("Enter"!==i){var o=a+("ArrowRight"===i?1:-1)*("left-to-right"===fD(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=PR(n,"axis","hover",String(o));t.dispatch(sS({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=PR(n,"axis","hover",String(r.index));t.dispatch(sS({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),VM.startListening({actionCreator:BM,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=PR(n,"axis","hover",String("0"));t.dispatch(sS({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var qM=Xw("externalEvent"),HM=Vj();HM.startListening({actionCreator:qM,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:wR(n),activeDataKey:yR(n),activeIndex:gR(n),activeLabel:vR(n),activeTooltipIndex:gR(n),isTooltipActive:jR(n)};e.payload.handler(r,e.payload.reactEvent)}}});var WM=ES([CD],e=>e.tooltipItemPayloads),KM=ES([WM,ED,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),QM=Xw("touchMove"),XM=Vj();XM.startListening({actionCreator:QM,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=vD(r,r.tooltip.settings.shared);if("axis"===i){var a=LR(r,FR({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(rS({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Ck),u=null!==(s=l.getAttribute(_k))&&void 0!==s?s:void 0,d=KM(t.getState(),c,u);t.dispatch(ZN({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var GM=cj({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:YM,replaceErrorBar:$M,removeErrorBar:JM}=GM.actions,ZM=GM.reducer,eL=!1,tL=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),nL=zw({brush:bM,cartesianAxis:tM,chartData:hS,errorBars:ZM,graphicalItems:lM,layout:yS,legend:EM,options:Kj,polarAxis:MM,polarOptions:UM,referenceElements:gM,rootProps:OM,tooltip:oS});function rL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Mk(),s=(0,i.useRef)(null);if(a)return n;null==s.current&&(s.current=function(e){return nj({reducer:nL,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([zR.middleware,VR.middleware,VM.middleware,HM.middleware,XM.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(tj({type:"raf"}))},devTools:eL&&{serialize:{replacer:qR},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var o=OS;return i.createElement(iN,{context:o,store:s.current},n)}var iL=e=>{var{chartData:t}=e,n=AS(),r=Mk();return(0,i.useEffect)(()=>r?()=>{}:(n(cS(t)),()=>{n(cS(void 0))}),[t,n,r]),null};function aL(e){var{layout:t,margin:n}=e,r=AS(),a=Mk();return(0,i.useEffect)(()=>{a||(r(pS(t)),r(mS(n)))},[r,a,t,n]),null}function sL(e){var t=AS();return(0,i.useEffect)(()=>{t(TM(e))},[t,e]),null}var oL=()=>RS(e=>e.rootProps.accessibilityLayer),lL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cL(e){return"string"===typeof e&&lL.includes(e)}var uL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dL(e){return"string"===typeof e&&uL.includes(e)}function hL(e){return"string"===typeof e&&e.startsWith("data-")}function fL(e){var t=Object.entries(e).filter(e=>{var[t]=e;return dL(t)||hL(t)});return Object.fromEntries(t)}function mL(e){return null==e?null:(0,i.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?fL(e.props):"object"!==typeof e||Array.isArray(e)?null:fL(e)}function pL(e){var t=Object.entries(e).filter(e=>{var[t]=e;return dL(t)||hL(t)||cL(t)});return Object.fromEntries(t)}var gL=["children","width","height","viewBox","className","style","title","desc"];function vL(){return vL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vL.apply(null,arguments)}var yL=(0,i.forwardRef)((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gL),h=s||{width:r,height:a,x:0,y:0},f=sb("recharts-surface",o);return i.createElement("svg",vL({},pL(d),{className:f,width:r,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),i.createElement("title",null,c),i.createElement("desc",null,u),n)}),xL=["children"];function bL(){return bL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bL.apply(null,arguments)}var wL={width:"100%",height:"100%",display:"block"},jL=(0,i.forwardRef)((e,t)=>{var n=Vk(),r=qk(),a=oL();if(!Pb(n)||!Pb(r))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return s="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,o="string"===typeof c.role?c.role:a?"application":void 0,i.createElement(yL,bL({},c,{title:u,desc:d,role:o,tabIndex:s,width:n,height:r,style:wL,ref:t}),l)}),NL=e=>{var{children:t}=e,n=RS(Fk);if(!n)return null;var{width:r,height:a,y:s,x:o}=n;return i.createElement(yL,{width:r,height:a,x:o,y:s},t)},SL=(0,i.forwardRef)((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xL);return Mk()?i.createElement(NL,null,n):i.createElement(jL,bL({ref:t},r),n)});var kL=new(n(8499)),EL="recharts.syncEvent.tooltip",CL="recharts.syncEvent.brush";function _L(e){return e.tooltip.syncInteraction}var OL=["x","y"];function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(t){PL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IL=()=>{};function DL(){var e=RS(DA),t=RS(MA),n=AS(),r=RS(RA),a=RS(dR),s=Wk(),o=Uk(),l=RS(e=>e.rootProps.className);(0,i.useEffect)(()=>{if(null==e)return IL;var i=(i,l,c)=>{var u;if(t!==c&&e===i)if("index"!==r){if(null!=a){var d;if("function"===typeof r){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=r(a,h);d=a[f]}else"value"===r&&(d=a.find(e=>String(e.value)===l.payload.label));var{coordinate:m}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=m&&null!=o){var{x:p,y:g}=m,v=Math.min(p,o.x+o.width),y=Math.min(g,o.y+o.height),x={x:"horizontal"===s?d.coordinate:v,y:"horizontal"===s?y:d.coordinate},b=aS({active:l.payload.active,coordinate:x,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox});n(b)}else n(aS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}))}}else if(o&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:j,y:N}=w,S=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(w,OL),{x:k,y:E,width:C,height:_}=l.payload.sourceViewBox,O=AL(AL({},S),{},{x:o.x+(C?(j-k)/C:0)*o.width,y:o.y+(_?(N-E)/_:0)*o.height});n(AL(AL({},l),{},{payload:AL(AL({},l.payload),{},{coordinate:O})}))}else n(l)};return kL.on(EL,i),()=>{kL.off(EL,i)}},[l,n,t,e,r,a,s,o])}function RL(){var e=AS();(0,i.useEffect)(()=>{e(Qj())},[e]),DL(),function(){var e=RS(DA),t=RS(MA),n=AS();(0,i.useEffect)(()=>{if(null==e)return IL;var r=(r,i,a)=>{t!==a&&e===r&&n(uS(i))};return kL.on(CL,r),()=>{kL.off(CL,r)}},[n,t,e])}()}function ML(e,t,n,r,a,s){var o=RS(n=>((e,t,n)=>{if(null!=t){var r=CD(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),l=RS(MA),c=RS(DA),u=RS(RA),d=RS(_L),h=null===d||void 0===d?void 0:d.active,f=Uk();(0,i.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=aS({active:s,coordinate:n,dataKey:o,index:a,label:"number"===typeof r?String(r):r,sourceViewBox:f});kL.emit(EL,c,e,l)}},[h,n,o,a,r,l,c,u,s,f])}var LL=(0,i.createContext)(null),FL=(0,i.createContext)(null);function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UL(Object(n),!0).forEach(function(t){BL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(){return VL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VL.apply(null,arguments)}var qL=()=>(RL(),null);function HL(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var WL=(0,i.forwardRef)((e,t)=>{var n,r,a=(0,i.useRef)(null),[s,o]=(0,i.useState)({containerWidth:HL(null===(n=e.style)||void 0===n?void 0:n.width),containerHeight:HL(null===(r=e.style)||void 0===r?void 0:r.height)}),l=(0,i.useCallback)((e,t)=>{o(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),c=(0,i.useCallback)(e=>{if("function"===typeof t&&t(e),null!=e){var{width:n,height:r}=e.getBoundingClientRect();l(n,r);var i=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;l(t,n)});i.observe(e),a.current=i}},[t,l]);return(0,i.useEffect)(()=>()=>{var e=a.current;null!=e&&e.disconnect()},[l]),i.createElement(i.Fragment,null,i.createElement(Kk,{width:s.containerWidth,height:s.containerHeight}),i.createElement("div",VL({ref:c},e)))}),KL=(0,i.forwardRef)((e,t)=>{var{width:n,height:r}=e,[a,s]=(0,i.useState)({containerWidth:HL(n),containerHeight:HL(r)}),o=(0,i.useCallback)((e,t)=>{s(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),l=(0,i.useCallback)(e=>{if("function"===typeof t&&t(e),null!=e){var{width:n,height:r}=e.getBoundingClientRect();o(n,r)}},[t,o]);return i.createElement(i.Fragment,null,i.createElement(Kk,{width:a.containerWidth,height:a.containerHeight}),i.createElement("div",VL({ref:l},e)))}),QL=(0,i.forwardRef)((e,t)=>{var{width:n,height:r}=e;return i.createElement(i.Fragment,null,i.createElement(Kk,{width:n,height:r}),i.createElement("div",VL({ref:t},e)))}),XL=(0,i.forwardRef)((e,t)=>{var{width:n,height:r}=e;return mb(n)||mb(r)?i.createElement(KL,VL({},e,{ref:t})):i.createElement(QL,VL({},e,{ref:t}))});var GL=(0,i.forwardRef)((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:y,responsive:x,dispatchTouchEvents:b=!0}=e,w=(0,i.useRef)(null),j=AS(),[N,S]=(0,i.useState)(null),[k,E]=(0,i.useState)(null),C=function(){var e=AS(),[t,n]=(0,i.useState)(null),r=RS(Nk);return(0,i.useEffect)(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;Ab(n)&&n!==r&&e(vS(n))}},[t,e,r]),n}(),_=Ub(),O=(null===_||void 0===_?void 0:_.width)>0?_.width:y,T=(null===_||void 0===_?void 0:_.height)>0?_.height:a,A=(0,i.useCallback)(e=>{C(e),"function"===typeof t&&t(e),S(e),E(e),null!=e&&(w.current=e)},[C,t,S,E]),P=(0,i.useCallback)(e=>{j(UR(e)),j(qM({handler:s,reactEvent:e}))},[j,s]),I=(0,i.useCallback)(e=>{j(BR(e)),j(qM({handler:u,reactEvent:e}))},[j,u]),D=(0,i.useCallback)(e=>{j(tS()),j(qM({handler:d,reactEvent:e}))},[j,d]),R=(0,i.useCallback)(e=>{j(BR(e)),j(qM({handler:h,reactEvent:e}))},[j,h]),M=(0,i.useCallback)(()=>{j(BM())},[j]),L=(0,i.useCallback)(e=>{j(zM(e.key))},[j]),F=(0,i.useCallback)(e=>{j(qM({handler:o,reactEvent:e}))},[j,o]),U=(0,i.useCallback)(e=>{j(qM({handler:l,reactEvent:e}))},[j,l]),z=(0,i.useCallback)(e=>{j(qM({handler:c,reactEvent:e}))},[j,c]),B=(0,i.useCallback)(e=>{j(qM({handler:f,reactEvent:e}))},[j,f]),V=(0,i.useCallback)(e=>{j(qM({handler:g,reactEvent:e}))},[j,g]),q=(0,i.useCallback)(e=>{b&&j(QM(e)),j(qM({handler:p,reactEvent:e}))},[j,b,p]),H=(0,i.useCallback)(e=>{j(qM({handler:m,reactEvent:e}))},[j,m]),W=function(e){return!0===e?WL:XL}(x);return i.createElement(LL.Provider,{value:N},i.createElement(FL.Provider,{value:k},i.createElement(W,{width:null!==O&&void 0!==O?O:null===v||void 0===v?void 0:v.width,height:null!==T&&void 0!==T?T:null===v||void 0===v?void 0:v.height,className:sb("recharts-wrapper",r),style:zL({position:"relative",cursor:"default",width:O,height:T},v),onClick:P,onContextMenu:F,onDoubleClick:U,onFocus:M,onKeyDown:L,onMouseDown:z,onMouseEnter:I,onMouseLeave:D,onMouseMove:R,onMouseUp:B,onTouchEnd:H,onTouchMove:q,onTouchStart:V,ref:A},i.createElement(qL,null),n)))}),YL=ES([Pk],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),$L=ES([YL,wk,jk],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),JL=()=>RS($L),ZL=(0,i.createContext)(void 0),eF=e=>{var{children:t}=e,[n]=(0,i.useState)("".concat(yb("recharts"),"-clip")),r=JL();if(null==r)return null;var{x:a,y:s,width:o,height:l}=r;return i.createElement(ZL.Provider,{value:n},i.createElement("defs",null,i.createElement("clipPath",{id:n},i.createElement("rect",{x:a,y:s,height:l,width:o}))),t)},tF=["width","height","responsive","children","className","style","compact","title","desc"];var nF=(0,i.forwardRef)((e,t)=>{var{width:n,height:r,responsive:a,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tF),f=fL(h);return c?i.createElement(i.Fragment,null,i.createElement(Kk,{width:n,height:r}),i.createElement(SL,{otherAttributes:f,title:u,desc:d},s)):i.createElement(GL,{className:o,style:l,width:n,height:r,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},i.createElement(SL,{otherAttributes:f,title:u,desc:d,ref:t},i.createElement(eF,null,s)))});function rF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aF(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rF(Object(n),!0).forEach(function(t){iF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}function sF(){return sF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sF.apply(null,arguments)}var oF={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",responsive:!1},lF=(0,i.forwardRef)(function(e,t){var n,r=aF(e.categoricalChartProps,oF),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return i.createElement(rL,{preloadedState:{options:u},reduxStoreName:null!==(n=c.id)&&void 0!==n?n:a},i.createElement(iL,{chartData:c.data}),i.createElement(aL,{layout:r.layout,margin:r.margin}),i.createElement(sL,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),i.createElement(nF,sF({},r,{ref:t})))}),cF=["axis"],uF=(0,i.forwardRef)((e,t)=>i.createElement(lF,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cF,tooltipPayloadSearcher:Hj,categoricalChartProps:e,ref:t}));function dF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hF(Object(n),!0).forEach(function(t){mF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pF=fF({},{cacheSize:2e3,enableCache:!0}),gF=new class{constructor(e){dF(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(pF.cacheSize),vF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yF="recharts_measurement_span";var xF=(e,t)=>{try{var n=document.getElementById(yF);n||((n=document.createElement("span")).setAttribute("id",yF),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vF,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},bF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||tL)return{width:0,height:0};if(!pF.enableCache)return xF(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}(e,t),r=gF.get(n);if(r)return r;var i=xF(e,t);return gF.set(n,i),i};function wF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jF{static create(e){return new jF(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}wF(jF,"EPS",1e-4);function NF(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function SF(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function kF(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function EF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EF(Object(n),!0).forEach(function(t){_F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OF(e,t,n){var r,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(pb(c)||tL)return null!==(r=function(e,t){return NF(e,t+1)}(a,pb(c)?c:0))&&void 0!==r?r:[];var f=[],m="top"===l||"bottom"===l?"width":"height",p=d&&"width"===m?bF(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===m?SF(bF(i,{fontSize:t,letterSpacing:n}),p,h):bF(i,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?hb(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(s,v,m);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:NF(r,u)};var a,s=c,h=()=>(void 0===a&&(a=n(t,s)),a),f=t.coordinate,m=0===c||kF(e,f,h,d,l);m||(c=0,d=o,u+=1),m&&(d=f+e*(h()/2+i),c+=u)};u<=s.length;)if(a=h())return a.v;return[]}(v,y,g,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=CF(CF({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),kF(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),s[o-1]=CF(CF({},u),{},{isShow:!0}))}for(var f=a?o-1:o,m=function(t){var r,a=s[t],o=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*o()/2-l);s[t]=a=CF(CF({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else s[t]=a=CF(CF({},a),{},{tickCoord:a.coordinate});kF(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=CF(CF({},a),{},{isShow:!0}))},p=0;p<f;p++)m(p);return s}(v,y,g,a,o,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=CF(CF({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=CF(CF({},c),{},{tickCoord:c.coordinate});kF(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=CF(CF({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(v,y,g,a,o),f.filter(e=>e.isShow))}function TF(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var AF=["children","className"];function PF(){return PF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PF.apply(null,arguments)}var IF=i.forwardRef((e,t)=>{var{children:n,className:r}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,AF),s=sb("recharts-layer",r);return i.createElement("g",PF({className:s},pL(a),{ref:t}),n)}),DF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},UF=Object.keys(FF),zF="NaN";class BF{static parse(e){var t,[,n,r]=null!==(t=LF.exec(e))&&void 0!==t?t:[];return new BF(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,fb(e)&&(this.unit=""),""===t||MF.test(t)||(this.num=NaN,this.unit=""),UF.includes(t)&&(this.num=function(e,t){return e*FF[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new BF(NaN,""):new BF(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new BF(NaN,""):new BF(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new BF(NaN,""):new BF(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new BF(NaN,""):new BF(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fb(this.num)}}function VF(e){if(e.includes(zF))return zF;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=DF.exec(t))&&void 0!==n?n:[],s=BF.parse(null!==r&&void 0!==r?r:""),o=BF.parse(null!==a&&void 0!==a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return zF;t=t.replace(DF,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=RF.exec(t))&&void 0!==c?c:[],f=BF.parse(null!==u&&void 0!==u?u:""),m=BF.parse(null!==h&&void 0!==h?h:""),p="+"===d?f.add(m):f.subtract(m);if(p.isNaN())return zF;t=t.replace(RF,p.toString())}return t}var qF=/\(([^()]*)\)/;function HF(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=qF.exec(n));){var[,r]=t;n=n.replace(qF,VF(r))}return n}(t),t=VF(t)}function WF(e){var t=function(e){try{return HF(e)}catch(t){return zF}}(e.slice(5,-1));return t===zF?"":t}var KF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QF=["dx","dy","angle","className","breakAll"];function XF(){return XF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XF.apply(null,arguments)}function GF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var YF=/[ \f\n\r\t\v\u2028\u2029]+/,$F=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return Nb(t)||(i=n?t.toString().split(""):t.toString().split(YF)),{wordsWithComputedWidth:i.map(e=>({word:e,width:bF(e,r).width})),spaceWidth:n?0:bF("\xa0",r).width}}catch(a){return null}},JF=e=>[{words:Nb(e)?[]:e.toString().split(YF)}],ZF=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!tL){var o=$F({breakAll:a,children:r,style:i});if(!o)return JF(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=pb(a),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:s}=t,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var m,p=e=>{var t=u.slice(0,e),n=$F({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var x=Math.floor((g+v)/2),b=x-1,[w,j]=p(b),[N]=p(x);if(w||N||(g=x+1),w&&N&&(v=x-1),!w&&N){m=j;break}y++}return m||h})({breakAll:a,children:r,maxLines:s,style:i},l,c,t,n)}return JF(r)},eU="#808080",tU=(0,i.forwardRef)((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=eU}=e,d=GF(e,KF),h=(0,i.useMemo)(()=>ZF({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:m,angle:p,className:g,breakAll:v}=d,y=GF(d,QF);if(!gb(n)||!gb(r)||0===h.length)return null;var x,b=n+(pb(f)?f:0),w=r+(pb(m)?m:0);switch(c){case"start":x=WF("calc(".concat(s,")"));break;case"middle":x=WF("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:x=WF("calc(".concat(h.length-1," * -").concat(a,")"))}var j=[];if(o){var N=h[0].width,{width:S}=d;j.push("scale(".concat(pb(S)?S/N:1,")"))}return p&&j.push("rotate(".concat(p,", ").concat(b,", ").concat(w,")")),j.length&&(y.transform=j.join(" ")),i.createElement("text",XF({},pL(y),{ref:t,x:b,y:w,className:sb("recharts-text",g),textAnchor:l,fill:u.includes("url")?eU:u}),h.map((e,t)=>{var n=e.words.join(v?"":" ");return i.createElement("tspan",{x:b,dy:0===t?x:a,key:"".concat(n,"-").concat(t)},n)}))});tU.displayName="Text";var nU=["labelRef"];function rU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rU(Object(n),!0).forEach(function(t){aU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sU(){return sU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sU.apply(null,arguments)}var oU=(0,i.createContext)(null),lU=e=>{var{x:t,y:n,width:r,height:a,children:s}=e,o=(0,i.useMemo)(()=>({x:t,y:n,width:r,height:a}),[t,n,r,a]);return i.createElement(oU.Provider,{value:o},s)},cU=()=>{var e=(0,i.useContext)(oU),t=Uk();return e||t},uU=(0,i.createContext)(null),dU=()=>{var e=(0,i.useContext)(uU),t=RS(aP);return e||t},hU=e=>null!=e&&"function"===typeof e,fU=(e,t,n,r,a)=>{var s,o,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:m,endAngle:p,clockWise:g}=a,v=(h+f)/2,y=((e,t)=>hb(t-e)*Math.min(Math.abs(t-e),360))(m,p),x=y>=0?1:-1;switch(t){case"insideStart":s=m+x*l,o=g;break;case"insideEnd":s=p-x*l,o=!g;break;case"end":s=p+x*l,o=g;break;default:throw new Error("Unsupported position ".concat(t))}o=y<=0?o:!o;var b=$S(u,d,v,s),w=$S(u,d,v,s+359*(o?1:-1)),j="M".concat(b.x,",").concat(b.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),N=Nb(e.id)?yb("recharts-radial-line-"):e.id;return i.createElement("text",sU({},r,{dominantBaseline:"central",className:sb("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:N,d:j})),i.createElement("textPath",{xlinkHref:"#".concat(N)},n))},mU=e=>"cx"in e&&pb(e.cx),pU={offset:5};function gU(e){var t=aF(e,pU),{viewBox:n,position:r,value:a,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=dU(),h=cU(),f=n||("center"===r?h:null!==d&&void 0!==d?d:h);if(!f||Nb(a)&&Nb(s)&&!(0,i.isValidElement)(o)&&"function"!==typeof o)return null;var m,p=iU(iU({},t),{},{viewBox:f});if((0,i.isValidElement)(o)){var{labelRef:g}=p,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(p,nU);return(0,i.cloneElement)(o,v)}if("function"===typeof o){if(m=(0,i.createElement)(o,p),(0,i.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=Nb(e.children)?t:e.children;return"function"===typeof n?n(r):r})(t);var y=mU(f),x=pL(t);if(y&&("insideStart"===r||"insideEnd"===r||"end"===r))return fU(t,r,m,x,f);var b=y?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===n){var{x:u,y:d}=$S(r,i,s+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:f,y:m}=$S(r,i,h,c);return{x:f,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(f,t.offset,t.position):((e,t)=>{var n,{parentViewBox:r,offset:i,position:a}=e;null==r||mU(r)||(n=r);var{x:s,y:o,width:l,height:c}=t,u=c>=0?1:-1,d=u*i,h=u>0?"end":"start",f=u>0?"start":"end",m=l>=0?1:-1,p=m*i,g=m>0?"end":"start",v=m>0?"start":"end";if("top"===a)return iU(iU({},{x:s+l/2,y:o-u*i,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===a)return iU(iU({},{x:s+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===a){var y={x:s-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return iU(iU({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===a){var x={x:s+l+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return iU(iU({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?iU({x:s+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideRight"===a?iU({x:s+l-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?iU({x:s+l/2,y:o+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?iU({x:s+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?iU({x:s+p,y:o+d,textAnchor:v,verticalAnchor:f},b):"insideTopRight"===a?iU({x:s+l-p,y:o+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?iU({x:s+p,y:o+c-d,textAnchor:v,verticalAnchor:h},b):"insideBottomRight"===a?iU({x:s+l-p,y:o+c-d,textAnchor:g,verticalAnchor:h},b):a&&"object"===typeof a&&(pb(a.x)||mb(a.x))&&(pb(a.y)||mb(a.y))?iU({x:s+xb(a.x,l),y:o+xb(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):iU({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(t,f);return i.createElement(tU,sU({ref:u,className:sb("recharts-label",l)},x,b,{breakAll:c}),m)}gU.displayName="Label";var vU=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?i.createElement(gU,sU({key:"label-implicit"},r)):gb(e)?i.createElement(gU,sU({key:"label-implicit",value:e},r)):(0,i.isValidElement)(e)?e.type===gU?(0,i.cloneElement)(e,iU({key:"label-implicit"},r)):i.createElement(gU,sU({key:"label-implicit",content:e},r)):hU(e)?i.createElement(gU,sU({key:"label-implicit",content:e},r)):e&&"object"===typeof e?i.createElement(gU,sU({},e,{key:"label-implicit"},r)):null};function yU(e){var{label:t,labelRef:n}=e,r=cU();return vU(t,r,n)||null}var xU=(e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var r={};return Object.keys(n).forEach(e=>{cL(e)&&(r[e]=t||(t=>n[e](n,t)))}),r},bU=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];cL(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},wU=["axisLine","width","height","className","hide","ticks"],jU=["viewBox"],NU=["viewBox"];function SU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kU(){return kU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kU.apply(null,arguments)}function EU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EU(Object(n),!0).forEach(function(t){_U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _U(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OU={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function TU(e){var{x:t,y:n,width:r,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=CU(CU(CU({},c),fL(l)),{},{fill:"none"});if("top"===s||"bottom"===s){var d=+("top"===s&&!o||"bottom"===s&&o);u=CU(CU({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var h=+("left"===s&&!o||"right"===s&&o);u=CU(CU({},u),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+a})}return i.createElement("line",kU({},u,{className:sb("recharts-cartesian-axis-line",db()(l,"className"))}))}function AU(e){var t,{option:n,tickProps:r,value:a}=e,s=sb(r.className,"recharts-cartesian-axis-tick-value");if(i.isValidElement(n))t=i.cloneElement(n,CU(CU({},r),{},{className:s}));else if("function"===typeof n)t=n(CU(CU({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof n&&(o=sb(o,null===n||void 0===n?void 0:n.className)),t=i.createElement(tU,kU({},r,{className:o}),a)}return t}function PU(e){var{ticks:t=[],tick:n,tickLine:r,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:f,width:m,height:p,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:x,getTicksConfig:b,events:w}=e,j=OF(CU(CU({},b),{},{ticks:t}),y,x),N=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,d),S=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,d),k=fL(b),E=mL(n),C={};"object"===typeof r&&(C=r);var _=CU(CU({},k),{},{fill:"none"},C),O=j.map((e,t)=>{var{line:y,tick:x}=function(e,t,n,r,i,a,s,o,l){var c,u,d,h,f,m,p=o?-1:1,g=e.tickSize||s,v=pb(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,m=(d=(h=n+ +!o*i)-p*g)-p*l,f=v;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!o*r)-p*g)-p*l,m=v;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +o*r)+p*g)+p*l,m=v;break;default:c=u=e.coordinate,m=(d=(h=n+ +o*i)+p*g)+p*l,f=v}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:m}}}(e,h,f,m,p,u,g,d,v),b=CU(CU(CU(CU({textAnchor:N,verticalAnchor:S},k),{},{stroke:"none",fill:a},E),x),{},{index:t,payload:e,visibleTicksCount:j.length,tickFormatter:s,padding:l},c);return i.createElement(IF,kU({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},bU(w,e,t)),r&&i.createElement("line",kU({},_,y,{className:sb("recharts-cartesian-axis-tick-line",db()(r,"className"))})),n&&i.createElement(AU,{option:n,tickProps:b,value:"".concat("function"===typeof s?s(e.value,t):e.value).concat(o||"")}))});return O.length>0?i.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var IU=(0,i.forwardRef)((e,t)=>{var{axisLine:n,width:r,height:a,className:s,hide:o,ticks:l}=e,c=SU(e,wU),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),m=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(i+a)+o+(n?r:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=(0,i.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,a=r.letterSpacing;i===u&&a===h||(d(i),f(a))}}},[u,h]);return o||null!=r&&r<=0||null!=a&&a<=0?null:i.createElement(IF,{className:sb("recharts-cartesian-axis",s),ref:p},i.createElement(TU,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:fL(e)}),i.createElement(PU,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:e,events:c}),i.createElement(lU,{x:e.x,y:e.y,width:e.width,height:e.height},i.createElement(yU,{label:e.label,labelRef:e.labelRef}),e.children))}),DU=i.memo(IU,(e,t)=>{var{viewBox:n}=e,r=SU(e,jU),{viewBox:i}=t,a=SU(t,NU);return TF(n,i)&&TF(r,a)}),RU=i.forwardRef((e,t)=>{var n=aF(e,OU);return i.createElement(DU,kU({},n,{ref:t}))});RU.displayName="CartesianAxis";var MU=["x1","y1","x2","y2","key"],LU=["offset"],FU=["xAxisId","yAxisId"],UU=["xAxisId","yAxisId"];function zU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zU(Object(n),!0).forEach(function(t){VU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qU(){return qU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qU.apply(null,arguments)}function HU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var WU=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:a,width:s,height:o,ry:l}=e;return i.createElement("rect",{x:r,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function KU(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var{x1:r,y1:a,x2:s,y2:o,key:l}=t,c=fL(HU(t,MU)),{offset:u}=c,d=HU(c,LU);n=i.createElement("line",qU({},d,{x1:r,y1:a,x2:s,y2:o,fill:"none",key:l}))}return n}function QU(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=HU(e,FU),c=a.map((e,i)=>{var a=BU(BU({},l),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return KU(r,a)});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function XU(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=HU(e,UU),c=a.map((e,i)=>{var a=BU(BU({},l),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return KU(r,a)});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function GU(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+o-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:s,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function YU(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,t)=>{var c=!u[t+1]?a+o-e:u[t+1]-e;if(c<=0)return null;var d=t%n.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:c,height:l,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $U=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return lk(OF(BU(BU(BU({},OU),n),{},{ticks:ck(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},JU=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return lk(OF(BU(BU(BU({},OU),n),{},{ticks:ck(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},ZU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ez(e){var t=Vk(),n=qk(),r=Bk(),a=BU(BU({},aF(e,ZU)),{},{x:pb(e.x)?e.x:r.left,y:pb(e.y)?e.y:r.top,width:pb(e.width)?e.width:r.width,height:pb(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=a,p=Mk(),g=RS(e=>lD(e,"xAxis",s,p)),v=RS(e=>lD(e,"yAxis",o,p));if(!pb(u)||u<=0||!pb(d)||d<=0||!pb(l)||l!==+l||!pb(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||$U,x=a.horizontalCoordinatesGenerator||JU,{horizontalPoints:b,verticalPoints:w}=a;if((!b||!b.length)&&"function"===typeof x){var j=f&&f.length,N=x({yAxis:v?BU(BU({},v),{},{ticks:j?f:v.ticks}):void 0,width:t,height:n,offset:r},!!j||h);cb(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!w||!w.length)&&"function"===typeof y){var S=m&&m.length,k=y({xAxis:g?BU(BU({},g),{},{ticks:S?m:g.ticks}):void 0,width:t,height:n,offset:r},!!S||h);cb(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(WU,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),i.createElement(GU,qU({},a,{horizontalPoints:b})),i.createElement(YU,qU({},a,{verticalPoints:w})),i.createElement(QU,qU({},a,{offset:r,horizontalPoints:b,xAxis:g,yAxis:v})),i.createElement(XU,qU({},a,{offset:r,verticalPoints:w,xAxis:g,yAxis:v})))}ez.displayName="CartesianGrid";var tz=["dangerouslySetInnerHTML","ticks"],nz=["id"],rz=["domain"],iz=["domain"];function az(){return az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},az.apply(null,arguments)}function sz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oz(e){var t=AS();return(0,i.useLayoutEffect)(()=>(t(XR(e)),()=>{t(GR(e))}),[e,t]),null}var lz=e=>{var{xAxisId:t,className:n}=e,r=RS(Dk),a=Mk(),s="xAxis",o=RS(e=>HI(e,s,t,a)),l=RS(e=>cD(e,s,t,a)),c=RS(e=>$I(e,t)),u=RS(e=>eD(e,t)),d=RS(e=>jP(e,t));if(null==c||null==u||null==d)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,m=sz(e,tz),{id:p}=d,g=sz(d,nz);return i.createElement(RU,az({},m,g,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:sb("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l}))},cz={allowDataOverflow:wP.allowDataOverflow,allowDecimals:wP.allowDecimals,allowDuplicatedCategory:wP.allowDuplicatedCategory,height:wP.height,hide:!1,mirror:wP.mirror,orientation:wP.orientation,padding:wP.padding,reversed:wP.reversed,scale:wP.scale,tickCount:wP.tickCount,type:wP.type,xAxisId:0},uz=e=>{var t,n,r,a,s,o=aF(e,cz);return i.createElement(i.Fragment,null,i.createElement(oz,{interval:null!==(t=o.interval)&&void 0!==t?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:null!==(n=o.includeHidden)&&void 0!==n&&n,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(r=o.angle)&&void 0!==r?r:0,minTickGap:null!==(a=o.minTickGap)&&void 0!==a?a:5,tick:null===(s=o.tick)||void 0===s||s,tickFormatter:o.tickFormatter}),i.createElement(lz,o))},dz=(e,t)=>{var{domain:n}=e,r=sz(e,rz),{domain:i}=t;return!!TF(r,sz(t,iz))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:TF({domain:n},{domain:i}))},hz=i.memo(uz,dz);hz.displayName="XAxis";var fz=["dangerouslySetInnerHTML","ticks"],mz=["id"],pz=["domain"],gz=["domain"];function vz(){return vz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vz.apply(null,arguments)}function yz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xz(e){var t=AS();return(0,i.useLayoutEffect)(()=>(t(YR(e)),()=>{t($R(e))}),[e,t]),null}var bz=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,s=(0,i.useRef)(null),o=(0,i.useRef)(null),l=RS(Dk),c=Mk(),u=AS(),d="yAxis",h=RS(e=>HI(e,d,t,c)),f=RS(e=>nD(e,t)),m=RS(e=>tD(e,t)),p=RS(e=>cD(e,d,t,c)),g=RS(e=>kP(e,t));if((0,i.useLayoutEffect)(()=>{if("auto"===r&&f&&!hU(a)&&!(0,i.isValidElement)(a)&&null!=g){var e=s.current;if(e){var n=e.getCalculatedWidth();Math.round(f.width)!==Math.round(n)&&u(eM({id:t,width:n}))}}},[p,f,u,a,t,r,g]),null==f||null==m||null==g)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=yz(e,fz),{id:b}=g,w=yz(g,mz);return i.createElement(RU,vz({},x,w,{ref:s,labelRef:o,scale:h,x:m.x,y:m.y,tickTextProps:"auto"===r?{width:void 0}:{width:r},width:f.width,height:f.height,className:sb("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:p}))},wz={allowDataOverflow:SP.allowDataOverflow,allowDecimals:SP.allowDecimals,allowDuplicatedCategory:SP.allowDuplicatedCategory,hide:!1,mirror:SP.mirror,orientation:SP.orientation,padding:SP.padding,reversed:SP.reversed,scale:SP.scale,tickCount:SP.tickCount,type:SP.type,width:SP.width,yAxisId:0},jz=e=>{var t,n,r,a,s,o=aF(e,wz);return i.createElement(i.Fragment,null,i.createElement(xz,{interval:null!==(t=o.interval)&&void 0!==t?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:null!==(n=o.includeHidden)&&void 0!==n&&n,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(r=o.angle)&&void 0!==r?r:0,minTickGap:null!==(a=o.minTickGap)&&void 0!==a?a:5,tick:null===(s=o.tick)||void 0===s||s,tickFormatter:o.tickFormatter}),i.createElement(bz,o))},Nz=(e,t)=>{var{domain:n}=e,r=yz(e,pz),{domain:i}=t;return!!TF(r,yz(t,gz))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:TF({domain:n},{domain:i}))},Sz=i.memo(jz,Nz);function kz(){return kz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kz.apply(null,arguments)}function Ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ez(Object(n),!0).forEach(function(t){_z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oz(e){return Array.isArray(e)&&gb(e[0])&&gb(e[1])?e.join(" ~ "):e}Sz.displayName="YAxis";var Tz=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,m=Cz({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),p=Cz({margin:0},a),g=!Nb(d),v=g?d:"",y=sb("recharts-default-tooltip",c),x=sb("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(v=h(d,s));var b=f?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",kz({className:y,style:m},b),i.createElement("p",{className:x,style:p},i.isValidElement(v)?v:"".concat(v)),(()=>{if(s&&s.length){var e=(l?LS()(s,l):s).map((e,n)=>{if("none"===e.type)return null;var a=e.formatter||o||Oz,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,n,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=Cz({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},gb(d)?i.createElement("span",{className:"recharts-tooltip-item-name"},d):null,gb(d)?i.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,i.createElement("span",{className:"recharts-tooltip-item-value"},u),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},Az="recharts-tooltip-wrapper",Pz={visibility:"hidden"};function Iz(e){var{coordinate:t,translateX:n,translateY:r}=e;return sb(Az,{["".concat(Az,"-right")]:pb(n)&&t&&pb(t.x)&&n>=t.x,["".concat(Az,"-left")]:pb(n)&&t&&pb(t.x)&&n<t.x,["".concat(Az,"-bottom")]:pb(r)&&t&&pb(t.y)&&r>=t.y,["".concat(Az,"-top")]:pb(r)&&t&&pb(t.y)&&r<t.y})}function Dz(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&pb(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function Rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rz(Object(n),!0).forEach(function(t){Lz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Fz extends i.PureComponent{constructor(){super(...arguments),Lz(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lz(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:m,lastBoundingBox:p,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:x}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=Dz({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=Dz({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):Pz,{cssProperties:t,cssClasses:Iz({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:h,viewBox:f}),b=v?{}:Mz(Mz({transition:l&&e?"transform ".concat(n,"ms ").concat(r):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=Mz(Mz({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return i.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},a)}}var Uz=n(4332),zz=n.n(Uz);function Bz(e,t,n){return!0===t?zz()(e,n):"function"===typeof t?zz()(e,t):e}var Vz,qz,Hz,Wz,Kz,Qz,Xz,Gz,Yz,$z,Jz,Zz,eB,tB;function nB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,i.useState)({height:0,left:0,top:0,width:0}),r=(0,i.useCallback)(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function rB(){}function iB(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function aB(e){this._context=e}function sB(e){this._context=e}function oB(e){this._context=e}aB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iB(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},sB.prototype={areaStart:rB,areaEnd:rB,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},oB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:iB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class lB{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function cB(e){this._context=e}function uB(e){this._context=e}function dB(e){return new uB(e)}function hB(e){return e<0?-1:1}function fB(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(hB(a)+hB(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function mB(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pB(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function gB(e){this._context=e}function vB(e){this._context=new yB(e)}function yB(e){this._context=e}function xB(e){this._context=e}function bB(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function wB(e,t){this._context=e,this._t=t}cB.prototype={areaStart:rB,areaEnd:rB,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},uB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},gB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pB(this,this._t0,mB(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pB(this,mB(this,n=fB(this,e,t)),n);break;default:pB(this,this._t0,n=fB(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(vB.prototype=Object.create(gB.prototype)).point=function(e,t){gB.prototype.point.call(this,t,e)},yB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=bB(e),i=bB(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},wB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const jB=Math.PI,NB=2*jB,SB=1e-6,kB=NB-SB;function EB(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class CB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?EB:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return EB;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Vz||(Vz=Me(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(qz||(qz=Me(["Z"]))))}lineTo(e,t){this._append(Hz||(Hz=Me(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Wz||(Wz=Me(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(Kz||(Kz=Me(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append(Qz||(Qz=Me(["M",",",""])),this._x1=e,this._y1=t);else if(d>SB)if(Math.abs(u*o-l*c)>SB&&i){let h=n-a,f=r-s,m=o*o+l*l,p=h*h+f*f,g=Math.sqrt(m),v=Math.sqrt(d),y=i*Math.tan((jB-Math.acos((m+d-p)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>SB&&this._append(Gz||(Gz=Me(["L",",",""])),e+x*c,t+x*u),this._append(Yz||(Yz=Me(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+b*o,this._y1=t+b*l)}else this._append(Xz||(Xz=Me(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^a,d=a?r-i:i-r;null===this._x1?this._append($z||($z=Me(["M",",",""])),l,c):(Math.abs(this._x1-l)>SB||Math.abs(this._y1-c)>SB)&&this._append(Jz||(Jz=Me(["L",",",""])),l,c),n&&(d<0&&(d=d%NB+NB),d>kB?this._append(Zz||(Zz=Me(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-s,t-o,n,n,u,this._x1=l,this._y1=c):d>SB&&this._append(eB||(eB=Me(["A",",",",0,",",",",",",",""])),n,n,+(d>=jB),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(tB||(tB=Me(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function _B(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new CB(t)}function OB(e){return e[0]}function TB(e){return e[1]}function AB(e,t){var n=VS(!0),r=null,i=dB,a=null,s=_B(o);function o(o){var l,c,u,d=(o=BS(o)).length,h=!1;for(null==r&&(a=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?OB:VS(e),t="function"===typeof t?t:void 0===t?TB:VS(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:VS(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:VS(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:VS(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function PB(e,t,n){var r=null,i=VS(!0),a=null,s=dB,o=null,l=_B(c);function c(c){var u,d,h,f,m,p=(c=BS(c)).length,g=!1,v=new Array(p),y=new Array(p);for(null==a&&(o=s(m=l())),u=0;u<=p;++u){if(!(u<p&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(m)return o=null,m+""||null}function u(){return AB().defined(i).curve(s).context(a)}return e="function"===typeof e?e:void 0===e?OB:VS(+e),t="function"===typeof t?t:VS(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?TB:VS(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:VS(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:VS(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:VS(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:VS(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:VS(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:VS(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:VS(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function IB(){return IB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IB.apply(null,arguments)}function DB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DB(Object(n),!0).forEach(function(t){MB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LB={curveBasisClosed:function(e){return new sB(e)},curveBasisOpen:function(e){return new oB(e)},curveBasis:function(e){return new aB(e)},curveBumpX:function(e){return new lB(e,!0)},curveBumpY:function(e){return new lB(e,!1)},curveLinearClosed:function(e){return new cB(e)},curveLinear:dB,curveMonotoneX:function(e){return new gB(e)},curveMonotoneY:function(e){return new vB(e)},curveNatural:function(e){return new xB(e)},curveStep:function(e){return new wB(e,.5)},curveStepAfter:function(e){return new wB(e,1)},curveStepBefore:function(e){return new wB(e,0)}},FB=e=>Ab(e.x)&&Ab(e.y),UB=e=>e.x,zB=e=>e.y,BB=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:s=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Sb(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?LB[n]||dB:LB["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=s?r.filter(FB):r;if(Array.isArray(i)){var c=s?i.filter(e=>FB(e)):i,u=l.map((e,t)=>RB(RB({},e),{},{base:c[t]}));return t="vertical"===a?PB().y(zB).x1(UB).x0(e=>e.base.x):PB().x(UB).y1(zB).y0(e=>e.base.y),t.defined(FB).curve(o),t(u)}return(t="vertical"===a&&pb(i)?PB().y(zB).x1(UB).x0(i):pb(i)?PB().x(UB).y1(zB).y0(i):AB().x(UB).y(zB)).defined(FB).curve(o),t(l)},VB=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?BB(e):r;return i.createElement("path",IB({},fL(e),xU(e),{className:sb("recharts-curve",t),d:null===s?void 0:s,ref:a}))},qB=["x","y","top","left","width","height","className"];function HB(){return HB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HB.apply(null,arguments)}function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QB=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),XB=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qB),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(t){KB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:a,width:s,height:o},c);return pb(t)&&pb(n)&&pb(s)&&pb(o)&&pb(r)&&pb(a)?i.createElement("path",HB({},pL(u),{className:sb("recharts-cross",l),d:QB(t,n,s,o,r,a)})):null};function GB(){}function YB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YB(Object(n),!0).forEach(function(t){JB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZB=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),eV=(e,t)=>Object.keys(t).reduce((n,r)=>$B($B({},n),{},{[r]:e(r,t[r])}),{});function tV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tV(Object(n),!0).forEach(function(t){rV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iV=(e,t,n)=>e+(t-e)*n,aV=e=>{var{from:t,to:n}=e;return t!==n},sV=(e,t,n)=>{var r=eV((t,n)=>{if(aV(n)){var[r,i]=e(n.from,n.to,n.velocity);return nV(nV({},n),{},{from:r,velocity:i})}return n},t);return n<1?eV((e,t)=>aV(t)?nV(nV({},t),{},{velocity:iV(t.velocity,r[e].velocity,n),from:iV(t.from,r[e].from,n)}):t,t):sV(e,r,n-1)};function oV(e,t,n,r,i,a){var s,o=r.reduce((n,r)=>nV(nV({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=sV(n,o,u),i(nV(nV(nV({},e),t),eV((e,t)=>t.from,o))),s=r,Object.values(o).filter(aV).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const lV=(e,t,n,r,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?oV(e,t,n,l,i,a):function(e,t,n,r,i,a,s){var o,l=null,c=i.reduce((n,r)=>nV(nV({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{o||(o=i);var d=(i-o)/r,h=eV((e,t)=>iV(...t,n(d)),c);if(a(nV(nV(nV({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=eV((e,t)=>iV(...t,n(1)),c);a(nV(nV(nV({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};var cV=1e-4,uV=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],dV=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),hV=(e,t)=>n=>{var r=uV(e,t);return dV(r,n)},fV=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=a[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=hV(e,t),d=hV(n,r),h=(l=e,c=t,e=>{var t=[...uV(l,c).map((e,t)=>e*t).slice(1),0];return dV(t,e)}),f=e=>e>1?1:e<0?0:e,m=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<cV||a<cV)return d(n);n=f(n-i/a)}return d(n)};return m.isStepper=!1,m},mV=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fV(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*n)*r/1e3,o=a*r/1e3+e;return Math.abs(o-i)<cV&&Math.abs(s)<cV?[i,0]:[o,s]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return fV(e)}return"function"===typeof e?e:null};class pV{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function gV(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"===typeof o?void(r=e.setTimeout(i.bind(null,l),o)):(i(o),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new pV)}var vV=(0,i.createContext)(gV);var yV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xV={t:0},bV={t:1};function wV(e){var t=aF(e,yV),{isActive:n,canBegin:r,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=function(e,t){var n=(0,i.useContext)(vV);return(0,i.useMemo)(()=>null!==t&&void 0!==t?t:n(e),[e,t,n])}(t.animationId,t.animationManager),[h,f]=(0,i.useState)(n?xV:bV),m=(0,i.useRef)(null);return(0,i.useEffect)(()=>{n||f(bV)},[n]),(0,i.useEffect)(()=>{if(!n||!r)return GB;var e=lV(xV,bV,mV(s),a,f,d.getTimeoutController());return d.start([c,o,()=>{m.current=e()},a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[n,r,a,s,o,c,l,d]),u(h.t)}function jV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,i.useRef)(yb(t)),r=(0,i.useRef)(e);return r.current!==e&&(n.current=yb(t),r.current=e),n.current}var NV=["radius"],SV=["radius"];function kV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kV(Object(n),!0).forEach(function(t){CV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _V(){return _V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_V.apply(null,arguments)}function OV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var TV=(e,t,n,r,i)=>{var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>s?s:i[d];a="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),a+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},AV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PV=e=>{var t=aF(e,AV),n=(0,i.useRef)(null),[r,a]=(0,i.useState)(-1);(0,i.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,v=(0,i.useRef)(l),y=(0,i.useRef)(c),x=(0,i.useRef)(s),b=(0,i.useRef)(o),w=jV((0,i.useMemo)(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var j=sb("recharts-rectangle",d);if(!g){var N=pL(t),{radius:S}=N,k=OV(N,NV);return i.createElement("path",_V({},k,{radius:"number"===typeof u?u:void 0,className:j,d:TV(s,o,l,c,u)}))}var E=v.current,C=y.current,_=x.current,O=b.current,T="0px ".concat(-1===r?1:r,"px"),A="".concat(r,"px 0px"),P=ZB(["strokeDasharray"],f,"string"===typeof h?h:void 0);return i.createElement(wV,{animationId:w,key:w,canBegin:r>0,duration:f,easing:h,isActive:g,begin:m},e=>{var r,a=wb(E,l,e),d=wb(C,c,e),h=wb(_,s,e),f=wb(O,o,e);n.current&&(v.current=a,y.current=d,x.current=h,b.current=f),r=p?e>0?{transition:P,strokeDasharray:A}:{strokeDasharray:T}:{strokeDasharray:A};var m=pL(t),{radius:g}=m,w=OV(m,SV);return i.createElement("path",_V({},w,{radius:"number"===typeof u?u:void 0,className:j,d:TV(h,f,a,d,u),ref:n,style:EV(EV({},r),t.style)}))})};function IV(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[$S(t,n,r,i),$S(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function DV(){return DV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DV.apply(null,arguments)}var RV=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/GS,d=l?i:i+a*u,h=l?i-a*u:i;return{center:$S(t,n,c,d),circleTangency:$S(t,n,r,d),lineTangency:$S(t,n,c*Math.cos(u*GS),h),theta:u}},MV=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>hb(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=$S(t,n,i,a),u=$S(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=$S(t,n,r,a),f=$S(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},LV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FV=e=>{var t=aF(e,LV),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(s<a||u===d)return null;var f,m=sb("recharts-sector",h),p=s-a,g=xb(o,p,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=hb(c-l),{circleTangency:d,lineTangency:h,theta:f}=RV({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:g}=RV({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):MV({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=RV({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:j,lineTangency:N,theta:S}=RV({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-w-S;if(k<0&&0===a)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(N.x,",").concat(N.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):MV({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),i.createElement("path",DV({},pL(t),{className:m,d:f}))};function UV(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return IV(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=$S(o,l,c,d),f=$S(o,l,u,d);r=h.x,i=h.y,a=f.x,s=f.y}return[{x:r,y:i},{x:a,y:s}]}function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zV(Object(n),!0).forEach(function(t){VV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qV=()=>{var e=RS(dP),t=RS(dR),n=RS(lR);return yk(BV(BV({},e),{},{scale:n}),t)};function HV(){return HV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HV.apply(null,arguments)}function WV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WV(Object(n),!0).forEach(function(t){QV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XV(e){var t,n,{coordinate:r,payload:a,index:s,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=r,m=a,p=s;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)t=f,n=XB;else if("BarChart"===h)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,o,l),n=PV;else if("radial"===c){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:b}=IV(f);t={cx:g,cy:v,startAngle:x,endAngle:b,innerRadius:y,outerRadius:y},n=FV}else t={points:UV(c,f,o)},n=VB;var w="object"===typeof u&&"className"in u?u.className:void 0,j=KV(KV(KV(KV({stroke:"#ccc",pointerEvents:"none"},o),t),mL(u)),{},{payload:m,payloadIndex:p,className:sb("recharts-tooltip-cursor",w)});return(0,i.isValidElement)(u)?(0,i.cloneElement)(u,j):(0,i.createElement)(n,j)}function GV(e){var t=qV(),n=Bk(),r=Wk(),a=RS(IA);return i.createElement(XV,HV({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YV(Object(n),!0).forEach(function(t){JV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZV(e){return e.dataKey}var eq=[],tq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!tL,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nq(e){var t=aF(e,tq),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:l,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:h,position:f,reverseDirection:m,useTranslate3d:p,wrapperStyle:g,cursor:v,shared:y,trigger:x,defaultIndex:b,portal:w,axisId:j}=t,N=AS(),S="number"===typeof b?String(b):b;(0,i.useEffect)(()=>{N(JN({shared:y,trigger:x,axisId:j,active:n,defaultIndex:S}))},[N,y,x,j,n,S]);var k=Uk(),E=oL(),C=function(e){return RS(t=>vD(t,e))}(y),{activeIndex:_,isActive:O}=RS(e=>MR(e,C,x,S)),T=RS(e=>RR(e,C,x,S)),A=RS(e=>DR(e,C,x,S)),P=RS(e=>IR(e,C,x,S)),I=T,D=(0,i.useContext)(LL),R=null!==n&&void 0!==n?n:O,[M,L]=nB([I,R]),F="axis"===C?A:void 0;ML(C,x,P,F,_,R);var U=null!==w&&void 0!==w?w:D;if(null==U)return null;var z=null!==I&&void 0!==I?I:eq;R||(z=eq),c&&z.length&&(z=Bz(I.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),h,ZV));var B=z.length>0,V=i.createElement(Fz,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:u,active:R,coordinate:P,hasPayload:B,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:k,wrapperStyle:g,lastBoundingBox:M,innerRef:L,hasPortalFromProps:Boolean(w)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(Tz,t)}(l,$V($V({},t),{},{payload:z,label:F,active:R,coordinate:P,accessibilityLayer:E})));return i.createElement(i.Fragment,null,(0,o.createPortal)(V,U),R&&i.createElement(GV,{cursor:v,tooltipEventType:C,coordinate:P,payload:I,index:_}))}function rq(){return rq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rq.apply(null,arguments)}var iq=e=>{var{cx:t,cy:n,r:r,className:a}=e,s=sb("recharts-dot",a);return t===+t&&n===+n&&r===+r?i.createElement("circle",rq({},fL(e),xU(e),{className:s,cx:t,cy:n,r:r})):null},aq=n(356),sq=n.n(aq),oq=["valueAccessor"],lq=["dataKey","clockWise","id","textBreakAll"];function cq(){return cq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cq.apply(null,arguments)}function uq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var dq=e=>Array.isArray(e.value)?sq()(e.value):e.value,hq=(0,i.createContext)(void 0),fq=hq.Provider,mq=(0,i.createContext)(void 0),pq=mq.Provider;function gq(e){var{valueAccessor:t=dq}=e,n=uq(e,oq),{dataKey:r,clockWise:a,id:s,textBreakAll:o}=n,l=uq(n,lq),c=(0,i.useContext)(hq),u=(0,i.useContext)(mq),d=c||u;return d&&d.length?i.createElement(IF,{className:"recharts-label-list"},d.map((e,a)=>{var c,u=Nb(r)?t(e,a):sk(e&&e.payload,r),d=Nb(s)?{}:{id:"".concat(s,"-").concat(a)};return i.createElement(gU,cq({key:"label-".concat(a)},pL(e),l,d,{fill:null!==(c=n.fill)&&void 0!==c?c:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:o,viewBox:e.viewBox,index:a}))})):null}function vq(e){var{label:t}=e;return t?!0===t?i.createElement(gq,{key:"labelList-implicit"}):i.isValidElement(t)||hU(t)?i.createElement(gq,{key:"labelList-implicit",content:t}):"object"===typeof t?i.createElement(gq,cq({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}gq.displayName="LabelList";var yq=n(2086),xq=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",bq=null,wq=null,jq=e=>{if(e===bq&&Array.isArray(wq))return wq;var t=[];return i.Children.forEach(e,e=>{Nb(e)||((0,yq.isFragment)(e)?t=t.concat(jq(e.props.children)):t.push(e))}),wq=t,bq=e,t};function Nq(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>xq(e)):[xq(t)],jq(e).forEach(e=>{var t=db()(e,"type.displayName")||db()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var Sq=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot);function kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kq(Object(n),!0).forEach(function(t){Cq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _q(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,s=RS(gR),o=RS(SR);if(null==t||null==o)return null;var l=t.find(e=>o.includes(e.payload));return Nb(l)?null:(e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:s}=e;if(!1===a||null==t.x||null==t.y)return null;var o,l=Eq(Eq({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:null!==r&&void 0!==r?r:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},mL(a)),xU(a));return o=(0,i.isValidElement)(a)?(0,i.cloneElement)(a,l):"function"===typeof a?a(l):i.createElement(iq,l),i.createElement(IF,{className:"recharts-active-dot"},o)})({point:l,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r})}function Oq(e){var{fn:t,args:n}=e,r=AS(),a=Mk();return(0,i.useLayoutEffect)(()=>{if(!a){var e=t(n);return r(YN(e)),()=>{r($N(e))}}},[t,n,r,a]),null}var Tq=["children"];var Aq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pq=(0,i.createContext)(Aq);function Iq(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Tq);return i.createElement(Pq.Provider,{value:n},t)}function Dq(e,t){var n,r,i=RS(t=>NP(t,e)),a=RS(e=>EP(e,t)),s=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:wP.allowDataOverflow,o=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:SP.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function Rq(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=JL(),{needClipX:s,needClipY:o,needClip:l}=Dq(t,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return i.createElement("clipPath",{id:"clipPath-".concat(r)},i.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}var Mq=(e,t,n,r)=>dD(e,"xAxis",t,r),Lq=(e,t,n,r)=>uD(e,"xAxis",t,r),Fq=(e,t,n,r)=>dD(e,"yAxis",n,r),Uq=(e,t,n,r)=>uD(e,"yAxis",n,r),zq=ES([Hk,Mq,Fq,Lq,Uq],(e,t,n,r,i)=>ok(e,"xAxis")?yk(t,r,!1):yk(n,i,!1));function Bq(e){return"line"===e.type}var Vq,qq=ES([IP,(e,t,n,r,i)=>i],(e,t)=>e.filter(Bq).find(e=>e.id===t)),Hq=ES([Hk,Mq,Fq,Lq,Uq,qq,zq,sA],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=s){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=sk(e,s);if("horizontal"===t)return{x:fk({axis:n,ticks:i,bandSize:o,entry:e,index:l}),y:Nb(c)?null:r.scale(c),value:c,payload:e};var u=Nb(c)?null:n.scale(c),d=fk({axis:r,ticks:a,bandSize:o,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:d})}}),Wq=()=>{};function Kq(e){var{legendPayload:t}=e,n=AS(),r=Mk();return(0,i.useLayoutEffect)(()=>r?Wq:(n(SM(t)),()=>{n(kM(t))}),[n,r,t]),null}function Qq(e){var{legendPayload:t}=e,n=AS(),r=RS(Hk);return(0,i.useLayoutEffect)(()=>"centric"!==r&&"radial"!==r?Wq:(n(SM(t)),()=>{n(kM(t))}),[n,r,t]),null}var Xq=null!==(Vq=a["useId".toString()])&&void 0!==Vq?Vq:()=>{var[e]=i.useState(()=>yb("uid-"));return e};var Gq=(0,i.createContext)(void 0),Yq=e=>{var{id:t,type:n,children:r}=e,a=function(e,t){var n=Xq();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(n),t);return i.createElement(Gq.Provider,{value:a},r(a))};function $q(e){var t=AS(),n=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{null===n.current?t(rM(e)):n.current!==e&&t(iM({prev:n.current,next:e})),n.current=e},[t,e]),(0,i.useLayoutEffect)(()=>()=>{n.current&&(t(aM(n.current)),n.current=null)},[t]),null}function Jq(e){var t=AS();return(0,i.useLayoutEffect)(()=>(t(sM(e)),()=>{t(oM(e))}),[t,e]),null}var Zq=["id"],eH=["type","layout","connectNulls","needClip"],tH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nH(Object(n),!0).forEach(function(t){iH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sH(){return sH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sH.apply(null,arguments)}var oH=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:bk(n,t),payload:e}]};function lH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:bk(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var cH=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function uH(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function dH(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:s,needClip:o}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,a))return null;var l,{id:c}=r,u=aH(r,Zq),d=Sq(a),h=fL(u),f=null==(l=a)?null:(0,i.isValidElement)(l)?pL(l.props):"object"!==typeof l||Array.isArray(l)?null:pL(l),m=n.map((e,t)=>{var r=rH(rH(rH({key:"dot-".concat(t),r:3},h),f),{},{index:t,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var r=sb("recharts-line-dot","boolean"!==typeof e?e.className:"");n=i.createElement(iq,sH({},t,{className:r}))}return n}(a,r)}),p={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return i.createElement(IF,sH({className:"recharts-line-dots",key:"dots"},p),m)}function hH(e){var{showLabels:t,children:n,points:r}=e,a=(0,i.useMemo)(()=>null===r||void 0===r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return rH(rH({},t),{},{value:e.value,payload:e.payload,viewBox:t,parentViewBox:void 0,fill:void 0})}),[r]);return i.createElement(fq,{value:t?a:null},n)}function fH(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u}=s,d=rH(rH({},pL(aH(s,eH))),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:null!==a&&void 0!==a?a:s.strokeDasharray});return i.createElement(i.Fragment,null,(null===r||void 0===r?void 0:r.length)>1&&i.createElement(VB,sH({},d,{pathRef:n})),i.createElement(dH,{points:r,clipPathId:t,props:s}))}function mH(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:m,height:p,onAnimationEnd:g,onAnimationStart:v}=n,y=a.current,x=jV(n,"recharts-line-"),[b,w]=(0,i.useState)(!1),j=!b,N=(0,i.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),S=(0,i.useCallback)(()=>{"function"===typeof v&&v(),w(!0)},[v]),k=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(r.current),E=s.current;return i.createElement(hH,{points:o,showLabels:j},n.children,i.createElement(wV,{animationId:x,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:N,onAnimationStart:S,key:x},e=>{var u,d=wb(E,k+E,e),h=Math.min(d,k);if(c)if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));u=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return cH(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...uH(n,i),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(h,k,g)}else u=cH(k,h);else u=null==l?void 0:String(l);if(y){var v=y.length/o.length,x=1===e?o:o.map((t,n)=>{var r=Math.floor(n*v);if(y[r]){var i=y[r];return rH(rH({},t),{},{x:wb(i.x,t.x,e),y:wb(i.y,t.y,e)})}return rH(rH({},t),{},f?{x:wb(2*m,t.x,e),y:wb(p/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=x,i.createElement(fH,{props:n,points:x,clipPathId:t,pathRef:r,strokeDasharray:u})}return e>0&&k>0&&(a.current=o,s.current=h),i.createElement(fH,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:u})}),i.createElement(vq,{label:n.label}))}function pH(e){var{clipPathId:t,props:n}=e,r=(0,i.useRef)(null),a=(0,i.useRef)(0),s=(0,i.useRef)(null);return i.createElement(mH,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var gH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:sk(e.payload,t)});class vH extends i.Component{render(){var{hide:e,dot:t,points:n,className:r,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:d,needClip:h}=this.props;if(e)return null;var f=sb("recharts-line",r),m=d,{r:p,strokeWidth:g}=function(e){var t=mL(e);if(null!=t){var{r:n,strokeWidth:r}=t,i=Number(n),a=Number(r);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(a)||a<0)&&(a=2),{r:i,strokeWidth:a}}return{r:3,strokeWidth:2}}(t),v=Sq(t),y=2*p+g;return i.createElement(i.Fragment,null,i.createElement(IF,{className:f},h&&i.createElement("defs",null,i.createElement(Rq,{clipPathId:m,xAxisId:a,yAxisId:s}),!v&&i.createElement("clipPath",{id:"clipPath-dots-".concat(m)},i.createElement("rect",{x:l-y/2,y:o-y/2,width:c+y,height:u+y}))),i.createElement(Iq,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:gH,errorBarOffset:0},i.createElement(pH,{props:this.props,clipPathId:m}))),i.createElement(_q,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var yH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!tL,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function xH(e){var t=aF(e,yH),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:m,yAxisId:p,id:g}=t,v=aH(t,tH),{needClip:y}=Dq(m,p),x=JL(),b=Wk(),w=Mk(),j=RS(e=>Hq(e,m,p,w,g));if("horizontal"!==b&&"vertical"!==b||null==j||null==x)return null;var{height:N,width:S,x:k,y:E}=x;return i.createElement(vH,sH({},v,{id:g,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:m,yAxisId:p,points:j,layout:b,height:N,width:S,left:k,top:E,needClip:y}))}function bH(e){var t=aF(e,yH),n=Mk();return i.createElement(Yq,{id:t.id,type:"line"},e=>i.createElement(i.Fragment,null,i.createElement(Kq,{legendPayload:oH(t)}),i.createElement(Oq,{fn:lH,args:t}),i.createElement($q,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),i.createElement(xH,sH({},t,{id:e}))))}var wH=i.memo(bH);wH.displayName="Line";var jH=["axis","item"],NH=(0,i.forwardRef)((e,t)=>i.createElement(lF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jH,tooltipPayloadSearcher:Hj,categoricalChartProps:e,ref:t})),SH=e=>null;SH.displayName="Cell";var kH="Invariant failed";var EH=n(9397),CH=n.n(EH);function _H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_H(Object(n),!0).forEach(function(t){TH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(){return AH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AH.apply(null,arguments)}var PH=(e,t,n,r,i)=>{var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},IH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DH=e=>{var t=aF(e,IH),{x:n,y:r,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,f=(0,i.useRef)(null),[m,p]=(0,i.useState)(-1),g=(0,i.useRef)(a),v=(0,i.useRef)(s),y=(0,i.useRef)(o),x=(0,i.useRef)(n),b=(0,i.useRef)(r),w=jV(e,"trapezoid-");if((0,i.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&p(e)}catch(t){}},[]),n!==+n||r!==+r||a!==+a||s!==+s||o!==+o||0===a&&0===s||0===o)return null;var j=sb("recharts-trapezoid",l);if(!h)return i.createElement("g",null,i.createElement("path",AH({},pL(t),{className:j,d:PH(n,r,a,s,o)})));var N=g.current,S=v.current,k=y.current,E=x.current,C=b.current,_="0px ".concat(-1===m?1:m,"px"),O="".concat(m,"px 0px"),T=ZB(["strokeDasharray"],u,c);return i.createElement(wV,{animationId:w,key:w,canBegin:m>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=wb(N,a,e),c=wb(S,s,e),u=wb(k,o,e),d=wb(E,n,e),h=wb(C,r,e);f.current&&(g.current=l,v.current=c,y.current=u,x.current=d,b.current=h);var m=e>0?{transition:T,strokeDasharray:O}:{strokeDasharray:_};return i.createElement("path",AH({},pL(t),{className:j,d:PH(d,h,l,c,u),ref:f,style:OH(OH({},m),t.style)}))})};Math.abs,Math.atan2;const RH=Math.cos,MH=(Math.max,Math.min,Math.sin),LH=Math.sqrt,FH=Math.PI,UH=2*FH;const zH={draw(e,t){const n=LH(t/FH);e.moveTo(n,0),e.arc(0,0,n,0,UH)}},BH={draw(e,t){const n=LH(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VH=LH(1/3),qH=2*VH,HH={draw(e,t){const n=LH(t/qH),r=n*VH;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},WH={draw(e,t){const n=LH(t),r=-n/2;e.rect(r,r,n,n)}},KH=MH(FH/10)/MH(7*FH/10),QH=MH(UH/10)*KH,XH=-RH(UH/10)*KH,GH={draw(e,t){const n=LH(.8908130915292852*t),r=QH*n,i=XH*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=UH*a/5,s=RH(t),o=MH(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},YH=LH(3),$H={draw(e,t){const n=-LH(t/(3*YH));e.moveTo(0,2*n),e.lineTo(-YH*n,-n),e.lineTo(YH*n,-n),e.closePath()}},JH=-.5,ZH=LH(3)/2,eW=1/LH(12),tW=3*(eW/2+1),nW={draw(e,t){const n=LH(t/tW),r=n/2,i=n*eW,a=r,s=n*eW+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(JH*r-ZH*i,ZH*r+JH*i),e.lineTo(JH*a-ZH*s,ZH*a+JH*s),e.lineTo(JH*o-ZH*l,ZH*o+JH*l),e.lineTo(JH*r+ZH*i,JH*i-ZH*r),e.lineTo(JH*a+ZH*s,JH*s-ZH*a),e.lineTo(JH*o+ZH*l,JH*l-ZH*o),e.closePath()}};LH(3),LH(3);var rW=["type","size","sizeType"];function iW(){return iW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iW.apply(null,arguments)}function aW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aW(Object(n),!0).forEach(function(t){oW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lW={symbolCircle:zH,symbolCross:BH,symbolDiamond:HH,symbolSquare:WH,symbolStar:GH,symbolTriangle:$H,symbolWye:nW},cW=Math.PI/180,uW=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rW),s=sW(sW({},a),{},{type:t,size:n,sizeType:r}),o="circle";"string"===typeof t&&(o=t);var{className:l,cx:c,cy:u}=s,d=pL(s);return c===+c&&u===+u&&n===+n?i.createElement("path",iW({},d,{className:sb("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Sb(e));return lW[t]||zH})(o),t=function(e,t){let n=null,r=_B(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:VS(e||zH),t="function"===typeof t?t:VS(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:VS(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:VS(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*cW;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,r,o)),i=t();if(null!==i)return i})()})):null};uW.registerSymbol=(e,t)=>{lW["symbol".concat(Sb(e))]=t};var dW=["option","shapeType","propTransformer","activeClassName","isActive"];function hW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hW(Object(n),!0).forEach(function(t){mW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e,t){return fW(fW({},t),e)}function gW(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return i.createElement(PV,n);case"trapezoid":return i.createElement(DH,n);case"sector":return i.createElement(FV,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(uW,n);break;default:return null}}function vW(e){var t,{option:n,shapeType:r,propTransformer:a=pW,activeClassName:s="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dW);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,fW(fW({},l),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)t=n(l);else if(CH()(n)&&"boolean"!==typeof n){var c=a(n,l);t=i.createElement(gW,{shapeType:r,elementProps:c})}else{var u=l;t=i.createElement(gW,{shapeType:r,elementProps:u})}return o?i.createElement(IF,{className:s},t):t}var yW=["x","y"];function xW(){return xW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xW.apply(null,arguments)}function bW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bW(Object(n),!0).forEach(function(t){jW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yW),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return wW(wW(wW(wW(wW({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function SW(e){return i.createElement(vW,xW({shapeType:"rectangle",propTransformer:NW,activeClassName:"recharts-active-bar"},e))}var kW=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(pb(e))return e;var i=pb(n)||Nb(n);return i?e(n,r):(i||function(e){if(!e)throw new Error(kH)}(!1),t)}},EW=(e,t)=>{var n=AS();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(ZN({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},CW=e=>{var t=AS();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(eS())}},_W=(e,t)=>{var n=AS();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(nS({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function OW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OW(Object(n),!0).forEach(function(t){AW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PW=ES([IP,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),IW=ES([PW],e=>null===e||void 0===e?void 0:e.maxBarSize),DW=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!Nb(r))return xb(r,t,0)},RW=ES([Hk,IP,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),MW=ES([RW,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===Hk(e)?rD(e,"xAxis",t):rD(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(mP),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(a).map(e=>{var[r,i]=e,a=i.map(e=>e.dataKey);return{stackId:r,dataKeys:a,barSize:DW(t,n,i[0].barSize)}}),o=i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:DW(t,n,e.barSize)}));return[...s,...o]}),LW=(e,t,n,r)=>{var i,a;return"horizontal"===Hk(e)?(i=dD(e,"xAxis",t,r),a=uD(e,"xAxis",t,r)):(i=dD(e,"yAxis",n,r),a=uD(e,"yAxis",n,r)),yk(i,a)};var FW=ES([MW,TA,e=>e.rootProps.barGap,AA,(e,t,n,r,i)=>{var a,s,o=PW(e,t,n,r,i);if(null!=o){var l,c,u=Hk(e),d=TA(e),{maxBarSize:h}=o,f=Nb(h)?d:h;return"horizontal"===u?(l=dD(e,"xAxis",t,r),c=uD(e,"xAxis",t,r)):(l=dD(e,"yAxis",n,r),c=uD(e,"yAxis",n,r)),null!==(a=null!==(s=yk(l,c,!0))&&void 0!==s?s:f)&&void 0!==a?a:0}},LW,IW],(e,t,n,r,i,a,s)=>{var o=Nb(s)?t:s,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var s,o=xb(e,n,0,!0),l=[];if(Ab(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*o)>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=xb(t,n,0,!0);n-2*f-(a-1)*o<=0&&(o=0);var m=(n-2*f-(a-1)*o)/a;m>1&&(m>>=0);var p=Ab(i)?Math.min(m,i):m;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(m+o)*n+(m-p)/2,size:p}}],l)}return s}}(n,r,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>TW(TW({},e),{},{position:TW(TW({},e.position),{},{offset:e.position.offset-i/2})}))),l}),UW=ES([FW,PW],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),zW=ES([(e,t,n,r)=>"horizontal"===Hk(e)?JP(e,"yAxis",n,r):JP(e,"xAxis",t,r),PW],(e,t)=>{var n=lP(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===n)}}}}),BW=ES([Pk,Dk,(e,t,n,r)=>dD(e,"xAxis",t,r),(e,t,n,r)=>dD(e,"yAxis",n,r),(e,t,n,r)=>uD(e,"xAxis",t,r),(e,t,n,r)=>uD(e,"yAxis",n,r),UW,Hk,sA,LW,zW,PW,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=l;if(null!=d&&null!=s&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=n&&null!=r&&null!=i&&null!=a&&null!=c){var g,{data:v}=d;if(null!=(g=null!=v&&v.length>0?v:null===f||void 0===f?void 0:f.slice(m,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:m}=e,p="horizontal"===t?o:s,g=u?p.scale.domain():null,v=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:p});return d.map((e,d)=>{var p,y,x,b,w,j;u?p=((e,t)=>{if(!t||2!==t.length||!pb(t[0])||!pb(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!pb(e[0])||e[0]<n)&&(i[0]=n),(!pb(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],g):(p=sk(e,n),Array.isArray(p)||(p=[v,p]));var N=kW(r,sK)(p[1],d);if("horizontal"===t){var S,[k,E]=[o.scale(p[0]),o.scale(p[1])];y=mk({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),x=null!==(S=null!==E&&void 0!==E?E:k)&&void 0!==S?S:void 0,b=i.size;var C=k-E;if(w=fb(C)?0:C,j={x:y,y:h.top,width:b,height:h.height},Math.abs(N)>0&&Math.abs(w)<Math.abs(N)){var _=hb(w||N)*(Math.abs(N)-Math.abs(w));x-=_,w+=_}}else{var[O,T]=[s.scale(p[0]),s.scale(p[1])];if(y=O,x=mk({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),b=T-O,w=i.size,j={x:h.left,y:x,width:h.width,height:w},Math.abs(N)>0&&Math.abs(b)<Math.abs(N))b+=hb(b||N)*(Math.abs(N)-Math.abs(b))}return null==y||null==x||null==b||null==w?null:XW(XW({},e),{},{x:y,y:x,width:b,height:w,value:u?p:p[1],payload:e,background:j,tooltipPosition:{x:y+b/2,y:x+w/2},parentViewBox:m},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:h})}}),VW=["onMouseEnter","onMouseLeave","onClick"],qW=["value","background","tooltipPosition"],HW=["id"],WW=["onMouseEnter","onClick","onMouseLeave"];function KW(){return KW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KW.apply(null,arguments)}function QW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QW(Object(n),!0).forEach(function(t){GW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $W=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:bk(n,t),payload:e}]};function JW(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:bk(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function ZW(e){var t=RS(gR),{data:n,dataKey:r,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=YW(s,VW),d=EW(o,r),h=CW(l),f=_W(c,r);if(!a||null==n)return null;var m=mL(a);return i.createElement(i.Fragment,null,n.map((e,n)=>{var{value:s,background:o,tooltipPosition:l}=e,c=YW(e,qW);if(!o)return null;var p=d(e,n),g=h(e,n),v=f(e,n),y=XW(XW(XW(XW(XW({option:a,isActive:String(n)===t},c),{},{fill:"#eee"},o),m),bU(u,e,n)),{},{onMouseEnter:p,onMouseLeave:g,onClick:v,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(SW,KW({key:"background-bar-".concat(n)},y))}))}function eK(e){var{showLabels:t,children:n,rects:r}=e,a=null===r||void 0===r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return XW(XW({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return i.createElement(fq,{value:t?a:void 0},n)}function tK(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:s,dataKey:o}=e,l=RS(gR),c=RS(yR),u=n&&String(s)===l&&(null==c||o===c),d=u?n:t;return i.createElement(SW,KW({},r,{name:String(r.name)},a,{isActive:u,option:d,index:s,dataKey:o}))}function nK(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:s}=e;return i.createElement(SW,KW({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:s}))}function rK(e){var{data:t,props:n}=e,r=fL(n),{id:a}=r,s=YW(r,HW),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=YW(n,WW),m=EW(u,l),p=CW(h),g=_W(d,l);return t?i.createElement(i.Fragment,null,t.map((e,t)=>i.createElement(IF,KW({key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(t),className:"recharts-bar-rectangle"},bU(f,e,t),{onMouseEnter:m(e,t),onMouseLeave:p(e,t),onClick:g(e,t)}),c?i.createElement(tK,{shape:o,activeBar:c,baseProps:s,entry:e,index:t,dataKey:l}):i.createElement(nK,{shape:o,baseProps:s,entry:e,index:t,dataKey:l})))):null}function iK(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=n.current,f=jV(t,"recharts-bar-"),[m,p]=(0,i.useState)(!1),g=!m,v=(0,i.useCallback)(()=>{"function"===typeof u&&u(),p(!1)},[u]),y=(0,i.useCallback)(()=>{"function"===typeof d&&d(),p(!0)},[d]);return i.createElement(eK,{showLabels:g,rects:r},i.createElement(wV,{animationId:f,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:y,key:f},e=>{var s=1===e?r:null===r||void 0===r?void 0:r.map((t,n)=>{var r=h&&h[n];if(r)return XW(XW({},t),{},{x:wb(r.x,t.x,e),y:wb(r.y,t.y,e),width:wb(r.width,t.width,e),height:wb(r.height,t.height,e)});if("horizontal"===a){var i=wb(0,t.height,e);return XW(XW({},t),{},{y:t.y+t.height-i,height:i})}var s=wb(0,t.width,e);return XW(XW({},t),{},{width:s})});return e>0&&(n.current=null!==s&&void 0!==s?s:null),null==s?null:i.createElement(IF,null,i.createElement(rK,{props:t,data:s}))}),i.createElement(vq,{label:t.label}),t.children)}function aK(e){var t=(0,i.useRef)(null);return i.createElement(iK,{previousRectanglesRef:t,props:e})}var sK=0,oK=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:sk(e,t)}};class lK extends i.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||null==t)return null;var u=sb("recharts-bar",r),d=c;return i.createElement(IF,{className:u,id:c},o&&i.createElement("defs",null,i.createElement(Rq,{clipPathId:d,xAxisId:a,yAxisId:s})),i.createElement(IF,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},i.createElement(ZW,{data:t,dataKey:n,background:l,allOtherBarProps:this.props}),i.createElement(aK,this.props)))}}var cK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!tL,legendType:"rect",minPointSize:sK,xAxisId:0,yAxisId:0};function uK(e){var t,{xAxisId:n,yAxisId:r,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=Dq(n,r),m=Wk(),p=Mk(),g=Nq(e.children,SH),v=RS(t=>BW(t,n,r,p,e.id,g));if("vertical"!==m&&"horizontal"!==m)return null;var y=null===v||void 0===v?void 0:v[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===m?y.height/2:y.width/2,i.createElement(Iq,{xAxisId:n,yAxisId:r,data:v,dataPointFormatter:oK,errorBarOffset:t},i.createElement(lK,KW({},e,{layout:m,needClip:f,data:v,xAxisId:n,yAxisId:r,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function dK(e){var t=aF(e,cK),n=Mk();return i.createElement(Yq,{id:t.id,type:"bar"},e=>{return i.createElement(i.Fragment,null,i.createElement(Kq,{legendPayload:$W(t)}),i.createElement(Oq,{fn:JW,args:t}),i.createElement($q,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:(r=t.stackId,null==r?void 0:String(r)),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),i.createElement(uK,KW({},t,{id:e})));var r})}var hK=i.memo(dK);function fK(e){var t=AS();return(0,i.useEffect)(()=>{t(FM(e))},[t,e]),null}hK.displayName="Bar";var mK=["layout"];function pK(){return pK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pK.apply(null,arguments)}var gK={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},vK=(0,i.forwardRef)(function(e,t){var n,r=aF(e.categoricalChartProps,gK),{layout:a}=r,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,mK),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return i.createElement(rL,{preloadedState:{options:d},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:o},i.createElement(iL,{chartData:r.data}),i.createElement(aL,{layout:a,margin:r.margin}),i.createElement(sL,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),i.createElement(fK,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),i.createElement(nF,pK({},s,{ref:t})))}),yK=["item"],xK={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bK=(0,i.forwardRef)((e,t)=>{var n=aF(e,xK);return i.createElement(vK,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yK,tooltipPayloadSearcher:Hj,categoricalChartProps:n,ref:t})}),wK=e=>e.graphicalItems.polarItems,jK=ES([sP,oP],PP),NK=ES([wK,OP,jK],RP),SK=ES([NK],zP),kK=ES([SK,aA],VP),EK=ES([kK,OP,NK],HP),CK=(ES([kK,OP,NK],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:sk(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:sk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),_K=ES([kK,OP,NK,aI,sP],oI),OK=ES([OP,nI,rI,CK,_K,CK,Hk,sP],SI),TK=ES([OP,Hk,kK,EK,PA,sP,OK],CI),AK=ES([TK,OP,TI],PI);ES([OP,TK,AK,sP],DI);function PK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PK(Object(n),!0).forEach(function(t){DK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RK=ES([wK,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),MK=[],LK=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?MK:n,FK=ES([aA,RK,LK],(e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>IK(IK({},t.presentationProps),e.props))),null!=r))return r}),UK=ES([FK,RK,LK],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var i,a,s=sk(e,t.nameKey,t.name);return a=null!==n&&void 0!==n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:bk(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),zK=ES([FK,RK,LK,Pk],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,m=Math.abs(i.minAngle),p=ZK(c,u),g=Math.abs(p),v=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==sk(e,d,0)).length,x=g-y*m-(g>=360?y:y-1)*v,b=a.reduce((e,t)=>{var n=sk(t,d,0);return e+(pb(n)?n:0)},0);b>0&&(n=a.map((e,t)=>{var n,a=sk(e,d,0),u=sk(e,h,t),g=JK(i,o,e),y=(pb(a)?a:0)/b,w=KK(KK({},e),s&&s[t]&&s[t].props),j=(n=t?r.endAngle+hb(p)*v*(0!==a?1:0):c)+hb(p)*((0!==a?m:0)+y*x),N=(n+j)/2,S=(g.innerRadius+g.outerRadius)/2,k=[{name:u,value:a,payload:w,dataKey:d,type:f}],E=$S(g.cx,g.cy,S,N);return r=KK(KK(KK(KK({},i.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:k,midAngle:N,middleRadius:S,tooltipPosition:E},w),g),{},{value:a,startAngle:n,endAngle:j,payload:w,paddingAngle:hb(p)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),BK=["onMouseEnter","onClick","onMouseLeave"],VK=["id"],qK=["id"];function HK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WK(Object(n),!0).forEach(function(t){QK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XK(){return XK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XK.apply(null,arguments)}function GK(e){var t=(0,i.useMemo)(()=>Nq(e.children,SH),[e.children]),n=RS(n=>UK(n,e.id,t));return null==n?null:i.createElement(Qq,{legendPayload:n})}function YK(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:bk(o,t),hide:l,type:c,color:s,unit:""}}}var $K=(e,t)=>e>t?"start":e<t?"end":"middle",JK=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=JS(a,s),l=i+xb(e.cx,a,a/2),c=r+xb(e.cy,s,s/2),u=xb(e.innerRadius,o,0),d=((e,t,n)=>xb("function"===typeof t?t(e):t,n,.8*n))(n,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}},ZK=(e,t)=>hb(t-e)*Math.min(Math.abs(t-e),360);function eQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:s,dataKey:o}=n;if(!r||!a||!t)return null;var l=fL(n),c=mL(a),u=mL(s),d="object"===typeof a&&"offsetRadius"in a&&"number"===typeof a.offsetRadius&&a.offsetRadius||20,h=t.map((e,t)=>{var n=(e.startAngle+e.endAngle)/2,r=$S(e.cx,e.cy,e.outerRadius+d,n),h=KK(KK(KK(KK({},l),e),{},{stroke:"none"},c),{},{index:t,textAnchor:$K(r.x,e.cx)},r),f=KK(KK(KK(KK({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[$S(e.cx,e.cy,e.outerRadius,n),r],key:"line"});return i.createElement(IF,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},s&&((e,t)=>{if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return e(t);var n=sb("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return i.createElement(VB,XK({},t,{type:"linear",className:n}))})(s,f),((e,t,n)=>{if(i.isValidElement(e))return i.cloneElement(e,t);var r=n;if("function"===typeof e&&(r=e(t),i.isValidElement(r)))return r;var a=sb("recharts-pie-label-text",function(e){return e&&"object"===typeof e&&"className"in e&&"string"===typeof e.className?e.className:""}(e));return i.createElement(tU,XK({},t,{alignmentBaseline:"middle",className:a}),r)})(a,h,sk(e,o)))});return i.createElement(IF,{className:"recharts-pie-labels"},h)}function tQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return"object"===typeof a&&null!=a&&"position"in a?i.createElement(vq,{label:a}):i.createElement(eQ,{sectors:t,props:n,showLabels:r})}function nQ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a}=e,s=RS(gR),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=HK(a,BK),d=EW(o,a.dataKey),h=CW(c),f=_W(l,a.dataKey);return null==t||0===t.length?null:i.createElement(i.Fragment,null,t.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==t.length)return null;var l=n&&String(o)===s,c=l?n:s?r:null,m=KK(KK({},e),{},{stroke:e.stroke,tabIndex:-1,[Ck]:o,[_k]:a.dataKey});return i.createElement(IF,XK({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o),tabIndex:-1,className:"recharts-pie-sector"},bU(u,e,o),{onMouseEnter:d(e,o),onMouseLeave:h(e,o),onClick:f(e,o)}),i.createElement(vW,XK({option:c,isActive:l,shapeType:"sector"},m)))}))}function rQ(e){var{showLabels:t,sectors:n,children:r}=e,a=(0,i.useMemo)(()=>t&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,t]);return i.createElement(pq,{value:t?a:void 0},r)}function iQ(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=t,f=jV(t,"recharts-pie-"),m=n.current,[p,g]=(0,i.useState)(!1),v=(0,i.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,i.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return i.createElement(rQ,{showLabels:!p,sectors:r},i.createElement(wV,{animationId:f,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var a=[],s=r&&r[0],o=null===s||void 0===s?void 0:s.startAngle;return null===r||void 0===r||r.forEach((t,n)=>{var r=m&&m[n],i=n>0?db()(t,"paddingAngle",0):0;if(r){var s=wb(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=KK(KK({},t),{},{startAngle:o+i,endAngle:o+s+i});a.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=wb(0,c-u,e),h=KK(KK({},t),{},{startAngle:o+i,endAngle:o+d+i});a.push(h),o=h.endAngle}}),n.current=a,i.createElement(IF,null,i.createElement(nQ,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),i.createElement(tQ,{showLabels:!p,sectors:r,props:t}),t.children)}var aQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!tL,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function sQ(e){var{id:t}=e,n=HK(e,VK),{hide:r,className:a,rootTabIndex:s}=e,o=(0,i.useMemo)(()=>Nq(e.children,SH),[e.children]),l=RS(e=>zK(e,t,o)),c=(0,i.useRef)(null),u=sb("recharts-pie",a);return r||null==l?(c.current=null,i.createElement(IF,{tabIndex:s,className:u})):i.createElement(i.Fragment,null,i.createElement(Oq,{fn:YK,args:KK(KK({},e),{},{sectors:l})}),i.createElement(IF,{tabIndex:s,className:u},i.createElement(iQ,{props:KK(KK({},n),{},{sectors:l}),previousSectorsRef:c})))}function oQ(e){var t=aF(e,aQ),{id:n}=t,r=HK(t,qK),a=fL(r);return i.createElement(Yq,{id:n,type:"pie"},e=>i.createElement(i.Fragment,null,i.createElement(Jq,{type:"pie",id:e,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),i.createElement(GK,XK({},r,{id:e})),i.createElement(sQ,XK({},r,{id:e}))))}oQ.displayName="Pie";const lQ=["title","titleId"];function cQ(e,t){let{title:n,titleId:r}=e,a=wg(e,lQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const uQ=i.forwardRef(cQ),dQ=["title","titleId"];function hQ(e,t){let{title:n,titleId:r}=e,a=wg(e,dQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const fQ=i.forwardRef(hQ),mQ=["title","titleId"];function pQ(e,t){let{title:n,titleId:r}=e,a=wg(e,mQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const gQ=i.forwardRef(pQ),vQ=["title","titleId"];function yQ(e,t){let{title:n,titleId:r}=e,a=wg(e,vQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const xQ=i.forwardRef(yQ),bQ=["title","titleId"];function wQ(e,t){let{title:n,titleId:r}=e,a=wg(e,bQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const jQ=i.forwardRef(wQ),NQ=["title","titleId"];function SQ(e,t){let{title:n,titleId:r}=e,a=wg(e,NQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const kQ=i.forwardRef(SQ),EQ=()=>{const{userId:e}=ie(),t=ne(),{user:n,updateUser:r}=xg(),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)("overview"),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=e&&"admin"===(null===n||void 0===n?void 0:n.role)&&e!==(null===n||void 0===n?void 0:n.id),m=e||(null===n||void 0===n?void 0:n.id),p=!e||e===(null===n||void 0===n?void 0:n.id),{data:g,isLoading:v}=(0,Re.useQuery)(["user-profile",m],async()=>{if(!m)return null;if(p)return{user:n};return(await Tv(m)).data},{enabled:!!m,staleTime:3e5}),y=(null===g||void 0===g?void 0:g.user)||n,x=e=>(e||"").toString().replace(/^provisional\s+/i,"").trim(),b=e=>{switch((e=>(e||"").toLowerCase().replace(/^provisional\s+/,"").trim())(e)){case"grand master":return"bg-purple-50 text-purple-700 border border-purple-200";case"master":return"bg-blue-50 text-blue-700 border border-blue-200";case"diamond":return"bg-cyan-50 text-cyan-700 border border-cyan-200";case"platinum":default:return"bg-gray-50 text-gray-700 border border-gray-200";case"gold":return"bg-yellow-50 text-yellow-800 border border-yellow-200";case"bronze":return"bg-orange-50 text-orange-700 border border-orange-200"}},{register:w,handleSubmit:j,formState:{errors:N},reset:S,watch:k}=ib(),{data:E,isLoading:C}=(0,Re.useQuery)(["user-stats",m],async()=>{if(!m)return null;return(await Pv(m)).data},{enabled:!!m&&!!y}),{data:_,isLoading:O}=(0,Re.useQuery)(["user-competitions",m],async()=>{if(!m)return null;return(await Iv(m)).data},{enabled:!!m&&!!y}),T=async e=>{try{if(!p&&"admin"!==(null===n||void 0===n?void 0:n.role))return void nn.error("You can only edit your own profile");if(!p)return void nn.error("Admin profile updates not yet implemented");{const t=await Av(e);r(t.user)}s(!1),nn.success("Profile updated successfully!")}catch(t){nn.error("Failed to update profile")}},A=()=>{s(!1),S()},P=[{id:"overview",name:"Overview",icon:$g},{id:"statistics",name:"Statistics",icon:Mg},{id:"history",name:"Competition History",icon:Zv},...p?[{id:"settings",name:"Settings",icon:ev}]:[]],I=()=>{var e;return(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsx)("div",{className:"w-20 h-20 bg-rifle-600 rounded-full flex items-center justify-center",children:(0,mg.jsx)($g,{className:"w-10 h-10 text-white"})}),(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:[null===y||void 0===y?void 0:y.firstName," ",null===y||void 0===y?void 0:y.lastName]}),(0,mg.jsxs)("p",{className:"text-gray-600",children:["@",null===y||void 0===y?void 0:y.username]}),(null===y||void 0===y?void 0:y.classification)&&"Unclassified"!==y.classification&&(0,mg.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,mg.jsx)(Ty,{classification:y.classification,size:24}),(0,mg.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(b(y.classification)),children:x(y.classification)})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,mg.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("competitor"===(null===y||void 0===y?void 0:y.role)?"bg-blue-100 text-blue-800":"range_officer"===(null===y||void 0===y?void 0:y.role)?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:null===y||void 0===y||null===(e=y.role)||void 0===e?void 0:e.replace("_"," ")}),(0,mg.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(null!==y&&void 0!==y&&y.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:null!==y&&void 0!==y&&y.isVerified?"Verified":"Pending Verification"})]})]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[f&&(0,mg.jsx)("button",{onClick:()=>t("/admin/users"),className:"btn-secondary flex items-center space-x-2",children:(0,mg.jsx)("span",{children:"\u2190 Back to Users"})}),p&&(0,mg.jsxs)("button",{onClick:()=>s(!0),className:"btn-secondary flex items-center space-x-2",children:[(0,mg.jsx)(uQ,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Edit Profile"})]})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mg.jsx)(fQ,{className:"w-5 h-5 text-gray-400"}),(0,mg.jsx)("span",{className:"text-gray-900",children:null===y||void 0===y?void 0:y.email})]}),(null===y||void 0===y?void 0:y.phone)&&(0,mg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mg.jsx)(gQ,{className:"w-5 h-5 text-gray-400"}),(0,mg.jsx)("span",{className:"text-gray-900",children:null===y||void 0===y?void 0:y.phone})]}),(null===y||void 0===y?void 0:y.location)&&(0,mg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mg.jsx)(ly,{className:"w-5 h-5 text-gray-400"}),(0,mg.jsx)("span",{className:"text-gray-900",children:null===y||void 0===y?void 0:y.location})]}),(null===y||void 0===y?void 0:y.dateOfBirth)&&(0,mg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mg.jsx)(Zv,{className:"w-5 h-5 text-gray-400"}),(0,mg.jsx)("span",{className:"text-gray-900",children:R(y.dateOfBirth)})]})]})]}),(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Stats"}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-rifle-600",children:U||(null===y||void 0===y?void 0:y.totalCompetitions)||0}),(0,mg.jsx)("div",{className:"text-sm text-gray-600",children:"Competitions"})]}),(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-rifle-600",children:F||(null===y||void 0===y?void 0:y.totalScores)||0}),(0,mg.jsx)("div",{className:"text-sm text-gray-600",children:"Scores"})]}),(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-rifle-600",children:B||(null===y||void 0===y?void 0:y.personalBestIndoor)||0}),(0,mg.jsx)("div",{className:"text-sm text-gray-600",children:"Best Indoor"})]}),(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-rifle-600",children:V||(null===y||void 0===y?void 0:y.personalBestOutdoor)||0}),(0,mg.jsx)("div",{className:"text-sm text-gray-600",children:"Best Outdoor"})]})]}),(null===y||void 0===y?void 0:y.classification)&&"Unclassified"!==y.classification&&(0,mg.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-rifle-50 to-rifle-100 rounded-lg border border-rifle-200",children:(0,mg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,mg.jsx)(Ty,{classification:y.classification,size:32}),(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"text-lg font-semibold text-rifle-800",children:"Current Rank"}),(0,mg.jsx)("div",{className:"text-2xl font-bold text-rifle-900",children:x(y.classification)}),(null===y||void 0===y?void 0:y.averageScore)&&(0,mg.jsxs)("div",{className:"text-sm text-rifle-700",children:["Avg Score: ",y.averageScore.toFixed(1)]})]})]})})]})]})]}),a&&p&&(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Edit Profile"}),(0,mg.jsxs)("form",{onSubmit:j(T),className:"space-y-4",children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,mg.jsx)("input",Be(Be({type:"text",defaultValue:null===y||void 0===y?void 0:y.firstName},w("firstName",{required:"First name is required"})),{},{className:"input-field mt-1"})),N.firstName&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.firstName.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,mg.jsx)("input",Be(Be({type:"text",defaultValue:null===y||void 0===y?void 0:y.lastName},w("lastName",{required:"Last name is required"})),{},{className:"input-field mt-1"})),N.lastName&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.lastName.message})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,mg.jsx)("input",Be(Be({type:"tel",defaultValue:null===y||void 0===y?void 0:y.phone},w("phone")),{},{className:"input-field mt-1"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,mg.jsx)("input",Be(Be({type:"text",defaultValue:null===y||void 0===y?void 0:y.location},w("location")),{},{className:"input-field mt-1"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,mg.jsx)("textarea",Be(Be({defaultValue:null===y||void 0===y?void 0:y.bio},w("bio")),{},{rows:3,className:"input-field mt-1",placeholder:"Tell us about yourself..."}))]}),(0,mg.jsxs)("div",{className:"flex space-x-3",children:[(0,mg.jsxs)("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[(0,mg.jsx)(xQ,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Save Changes"})]}),(0,mg.jsxs)("button",{type:"button",onClick:A,className:"btn-secondary flex items-center space-x-2",children:[(0,mg.jsx)(cv,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Cancel"})]})]})]})]})]})},D=e=>{if(!e)return 0;const t="number"===typeof e.score?e.score:"number"===typeof e.totalScore?e.totalScore:parseInt(e.score,10);return Number.isFinite(t)?t:0},R=e=>{if(!e)return"N/A";try{if("object"===typeof e){if("function"===typeof e.toDate)return e.toDate().toLocaleDateString();if("function"===typeof e.toMillis)return new Date(e.toMillis()).toLocaleDateString();if("number"===typeof e._seconds)return new Date(1e3*e._seconds).toLocaleDateString();if("number"===typeof e.seconds)return new Date(1e3*e.seconds).toLocaleDateString()}const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toLocaleDateString()}catch(_t){return"N/A"}},M=(null===E||void 0===E?void 0:E.scores)||[],L=(0,i.useMemo)(()=>{if(0===M.length)return{totalScores:0,totalCompetitions:0,avgScore:0,bestIndoor:0,bestOutdoor:0,sortedScores:[],scoreTrend:[],scoreDistribution:[],xCountData:[],indoorVsOutdoor:[],consistency:0,improvement:0,currentStreak:0,bestStreak:0,totalXCount:0,avgXCount:0,minScore:0,maxScore:0,medianScore:0,shotValueDistribution:[],shotPositionPerformance:[],shotGroupingData:[],xHitRateTrend:[],perfectShotPercentage:0,tenShotPercentage:0,positionConsistency:[],totalShots:0};const e=[...M].sort((e,t)=>new Date((null===e||void 0===e?void 0:e.createdAt)||(null===e||void 0===e?void 0:e.submittedAt)||(null===e||void 0===e?void 0:e.date)||0).getTime()-new Date((null===t||void 0===t?void 0:t.createdAt)||(null===t||void 0===t?void 0:t.submittedAt)||(null===t||void 0===t?void 0:t.date)||0).getTime()),t=[...e].reverse(),n=M.length,r=new Set(M.map(e=>e.competitionId)).size,i=M.map(e=>D(e)),a=i.reduce((e,t)=>e+t,0)/n,s=Math.min(...i),o=Math.max(...i),l=[...i].sort((e,t)=>e-t),c=l.length%2===0?(l[l.length/2-1]+l[l.length/2])/2:l[Math.floor(l.length/2)],u=M.filter(e=>{var t;return"indoor"===(null===e||void 0===e||null===(t=e.competition)||void 0===t?void 0:t.competitionType)}).reduce((e,t)=>Math.max(e,D(t)),0),d=M.filter(e=>{var t;return"outdoor"===(null===e||void 0===e||null===(t=e.competition)||void 0===t?void 0:t.competitionType)}).reduce((e,t)=>Math.max(e,D(t)),0),h=e=>{var t;return void 0!==(null===e||void 0===e||null===(t=e.tiebreakerData)||void 0===t?void 0:t.xCount)?e.tiebreakerData.xCount:Array.isArray(null===e||void 0===e?void 0:e.shots)?e.shots.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length:0},f=M.map(h),m=f.reduce((e,t)=>e+t,0),p=m/n,g=e.slice(-20).map((e,t)=>({index:t+1,date:new Date((null===e||void 0===e?void 0:e.createdAt)||(null===e||void 0===e?void 0:e.submittedAt)||(null===e||void 0===e?void 0:e.date)||Date.now()).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:D(e),xCount:h(e)})),v=[{range:"0-200",min:0,max:200,count:0},{range:"201-210",min:201,max:210,count:0},{range:"211-220",min:211,max:220,count:0},{range:"221-230",min:221,max:230,count:0},{range:"231-240",min:231,max:240,count:0},{range:"241-250",min:241,max:250,count:0}];i.forEach(e=>{const t=v.find(t=>e>=t.min&&e<=t.max);t&&t.count++});const y=v,x=[{range:"0-2",min:0,max:2,count:0},{range:"3-5",min:3,max:5,count:0},{range:"6-8",min:6,max:8,count:0},{range:"9-12",min:9,max:12,count:0},{range:"13-20",min:13,max:20,count:0},{range:"21+",min:21,max:100,count:0}];f.forEach(e=>{const t=x.find(t=>e>=t.min&&e<=t.max);t&&t.count++});const b=x,w=M.filter(e=>{var t;return"indoor"===(null===e||void 0===e||null===(t=e.competition)||void 0===t?void 0:t.competitionType)}),j=M.filter(e=>{var t;return"outdoor"===(null===e||void 0===e||null===(t=e.competition)||void 0===t?void 0:t.competitionType)}),N=[{name:"Indoor",count:w.length,avgScore:w.length>0?w.reduce((e,t)=>e+D(t),0)/w.length:0},{name:"Outdoor",count:j.length,avgScore:j.length>0?j.reduce((e,t)=>e+D(t),0)/j.length:0}],S=i.reduce((e,t)=>e+Math.pow(t-a,2),0)/n,k=Math.sqrt(S),E=Math.floor(n/2),C=e.slice(0,E),_=e.slice(E),O=C.length>0?C.reduce((e,t)=>e+D(t),0)/C.length:0,T=_.length>0?_.reduce((e,t)=>e+D(t),0)/_.length:0,A=T-O;let P=0,I=0,R=0;for(let M=e.length-1;M>=0;M--){D(e[M])>=a?(R++,M===e.length-1&&(P=R),I=Math.max(I,R)):R=0}const L=[];M.forEach(e=>{Array.isArray(e.shots)&&e.shots.forEach((t,n)=>{const r=!0===(null===t||void 0===t?void 0:t.isX)?10:parseInt(null===t||void 0===t?void 0:t.value,10)||0;L.push({value:r,isX:!0===(null===t||void 0===t?void 0:t.isX),position:n+1,scoreId:e.id,date:(null===e||void 0===e?void 0:e.createdAt)||(null===e||void 0===e?void 0:e.submittedAt)||(null===e||void 0===e?void 0:e.date)})})});const F=Array.from({length:11},(e,t)=>({value:t,count:L.filter(e=>e.value===t).length,percentage:L.length>0?L.filter(e=>e.value===t).length/L.length*100:0})),U=Math.max(...M.map(e=>{var t;return(null===(t=e.shots)||void 0===t?void 0:t.length)||0}),25),z=Array.from({length:U},(e,t)=>{const n=t+1,r=L.filter(e=>e.position===n);if(0===r.length)return{position:n,avgValue:0,count:0,xRate:0};const i=r.reduce((e,t)=>e+t.value,0)/r.length,a=r.filter(e=>e.isX).length/r.length*100;return{position:n,avgValue:Math.round(10*i)/10,count:r.length,xRate:Math.round(10*a)/10}}),B=[];M.forEach(e=>{if(Array.isArray(e.shots)&&e.shots.length>=10){const t=e.shots.map(e=>!0===(null===e||void 0===e?void 0:e.isX)?10:parseInt(null===e||void 0===e?void 0:e.value,10)||0),n=t.slice(0,5),r=t.slice(5,-5),i=t.slice(-5);B.push({scoreId:e.id,first5Avg:n.reduce((e,t)=>e+t,0)/n.length,middleAvg:r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0,last5Avg:i.reduce((e,t)=>e+t,0)/i.length})}});const V=B.length>0?B.reduce((e,t)=>e+t.first5Avg,0)/B.length:0,q=B.length>0?B.reduce((e,t)=>e+t.middleAvg,0)/B.length:0,H=B.length>0?B.reduce((e,t)=>e+t.last5Avg,0)/B.length:0,W=[{group:"First 5",avgScore:Math.round(10*V)/10},{group:"Middle",avgScore:Math.round(10*q)/10},{group:"Last 5",avgScore:Math.round(10*H)/10}],K=[],Q=e.filter(e=>Array.isArray(e.shots)&&e.shots.length>0);Q.forEach(e=>{const t=e.shots,n=t.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length,r=n/t.length*100,i=new Date((null===e||void 0===e?void 0:e.createdAt)||(null===e||void 0===e?void 0:e.submittedAt)||(null===e||void 0===e?void 0:e.date)||Date.now());K.push({date:i.toLocaleDateString("en-US",{month:"short",day:"numeric"}),xRate:Math.round(10*r)/10,xCount:n,totalShots:t.length})});const X=L.filter(e=>10===e.value&&!e.isX).length,G=L.length>0?X/L.length*100:0,Y=L.filter(e=>e.isX).length,$=L.length>0?Y/L.length*100:0,J=z.map(e=>{if(0===e.count)return Be(Be({},e),{},{stdDev:0});const t=L.filter(t=>t.position===e.position),n=t.map(e=>e.value),r=e.avgValue,i=n.reduce((e,t)=>e+Math.pow(t-r,2),0)/n.length,a=Math.sqrt(i);return Be(Be({},e),{},{stdDev:Math.round(10*a)/10})});return{totalScores:n,totalCompetitions:r,avgScore:Math.round(10*a)/10,bestIndoor:u,bestOutdoor:d,sortedScores:t,scoreTrend:g,scoreDistribution:y,xCountData:b,indoorVsOutdoor:N,consistency:Math.round(10*k)/10,improvement:Math.round(10*A)/10,currentStreak:P,bestStreak:I,totalXCount:m,avgXCount:Math.round(10*p)/10,minScore:s,maxScore:o,medianScore:Math.round(10*c)/10,shotValueDistribution:L.length>0?F:[],shotPositionPerformance:L.length>0?z:[],shotGroupingData:L.length>0?W:[],xHitRateTrend:L.length>0?K.slice(-20):[],perfectShotPercentage:Math.round(10*$)/10,tenShotPercentage:Math.round(10*G)/10,positionConsistency:L.length>0?J:[],totalShots:L.length}},[M]),{totalScores:F,totalCompetitions:U,avgScore:z,bestIndoor:B,bestOutdoor:V,sortedScores:q,scoreTrend:H,scoreDistribution:W,xCountData:K,indoorVsOutdoor:Q,consistency:X,improvement:G,currentStreak:Y,bestStreak:$,totalXCount:J,avgXCount:Z,minScore:ee,maxScore:te,medianScore:re,shotValueDistribution:ae,shotPositionPerformance:se,shotGroupingData:oe,xHitRateTrend:le,perfectShotPercentage:ce,tenShotPercentage:ue,positionConsistency:de,totalShots:he}=L;return v||!y?(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white mb-4 drop-shadow-lg",children:"Profile"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Manage your account and view your statistics"})]}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rifle-600 mx-auto"}),(0,mg.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading profile..."})]})})]}):(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white mb-4 drop-shadow-lg",children:f?"User Profile":"Profile"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:f?"Viewing ".concat((null===y||void 0===y?void 0:y.firstName)||(null===y||void 0===y?void 0:y.username),"'s profile"):"Manage your account and view your statistics"})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,mg.jsx)("div",{className:"border-b border-gray-200",children:(0,mg.jsx)("nav",{className:"flex space-x-8 px-6",children:P.map(e=>{const t=e.icon;return(0,mg.jsxs)("button",{onClick:()=>l(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(o===e.id?"border-rifle-500 text-rifle-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,mg.jsx)(t,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:e.name})]},e.id)})})}),(0,mg.jsx)("div",{className:"p-6",children:(()=>{switch(o){case"overview":default:return I();case"statistics":return(()=>{var e,t,n,r,i,a,s,o;const l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return C?(0,mg.jsxs)("div",{className:"text-center py-12",children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rifle-600 mx-auto"}),(0,mg.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading statistics..."})]}):0===F?(0,mg.jsxs)("div",{className:"text-center py-12",children:[(0,mg.jsx)(Cg,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("p",{className:"text-gray-600 text-lg",children:"No scores submitted yet"}),(0,mg.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Participate in competitions to see your statistics"})]}):(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Overview"}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,mg.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 text-center border border-blue-200",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:z}),(0,mg.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"Average Score"})]}),(0,mg.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 text-center border border-green-200",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-green-700",children:te}),(0,mg.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"Best Score"})]}),(0,mg.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 text-center border border-purple-200",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-purple-700",children:re}),(0,mg.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"Median Score"})]}),(0,mg.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 text-center border border-orange-200",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:B||"\u2014"}),(0,mg.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:"Best Indoor"})]}),(0,mg.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-lg p-4 text-center border border-cyan-200",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-cyan-700",children:V||"\u2014"}),(0,mg.jsx)("div",{className:"text-xs text-cyan-600 mt-1",children:"Best Outdoor"})]}),(0,mg.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 text-center border border-yellow-200",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-yellow-700",children:Z.toFixed(1)}),(0,mg.jsx)("div",{className:"text-xs text-yellow-600 mt-1",children:"Avg X Count"})]})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Consistency"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:X.toFixed(1)}),(0,mg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lower is better"})]}),(0,mg.jsx)("div",{className:"p-3 rounded-lg ".concat(X<5?"bg-green-100":X<10?"bg-yellow-100":"bg-red-100"),children:X<5?(0,mg.jsx)(jQ,{className:"w-6 h-6 text-green-600"}):(0,mg.jsx)(kQ,{className:"w-6 h-6 text-red-600"})})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Improvement"}),(0,mg.jsxs)("p",{className:"text-2xl font-bold ".concat(G>=0?"text-green-600":"text-red-600"),children:[G>=0?"+":"",G.toFixed(1)]}),(0,mg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"vs early performance"})]}),G>=0?(0,mg.jsx)(jQ,{className:"w-6 h-6 text-green-600"}):(0,mg.jsx)(kQ,{className:"w-6 h-6 text-red-600"})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Current Streak"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:Y}),(0,mg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Above average"})]}),(0,mg.jsx)(Cg,{className:"w-6 h-6 text-blue-600"})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Best Streak"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:$}),(0,mg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),(0,mg.jsx)(Cg,{className:"w-6 h-6 text-purple-600"})]})})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Score Trend (Last 20 Competitions)"}),H.length>0?(0,mg.jsx)(Bb,{width:"100%",height:300,children:(0,mg.jsxs)(uF,{data:H,children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"date",stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"}}),(0,mg.jsx)(Sz,{domain:[Math.max(0,ee-10),Math.min(250,te+10)],stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"}}),(0,mg.jsx)(wH,{type:"monotone",dataKey:"score",name:"Score",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:3},activeDot:{r:5}})]})}):(0,mg.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No trend data available"})]}),he>0&&(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shot Value Distribution"}),(0,mg.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Distribution of individual shot values across all competitions"}),ae.some(e=>e.count>0)?(0,mg.jsx)(Bb,{width:"100%",height:300,children:(0,mg.jsxs)(NH,{data:ae,children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"value",stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"},label:{value:"Shot Value",position:"insideBottom",offset:-5}}),(0,mg.jsx)(Sz,{stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"},label:{value:"Count",angle:-90,position:"insideLeft"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"},formatter:(e,t,n)=>{var r;return["".concat(e," shots (").concat(null===(r=ae.find(e=>e.value===n.payload.value))||void 0===r?void 0:r.percentage.toFixed(1),"%)"),"Count"]}}),(0,mg.jsx)(hK,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0],children:ae.map((e,t)=>(0,mg.jsx)(SH,{fill:10===e.value?"#10b981":e.value>=8?"#3b82f6":e.value>=5?"#f59e0b":"#ef4444"},"cell-".concat(t)))})]})}):(0,mg.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No shot data available"}),(0,mg.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[(0,mg.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[(0,mg.jsxs)("div",{className:"text-2xl font-bold text-green-700",children:[ce.toFixed(1),"%"]}),(0,mg.jsx)("div",{className:"text-xs text-green-600",children:"Perfect Shots (X)"})]}),(0,mg.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,mg.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:[ue.toFixed(1),"%"]}),(0,mg.jsx)("div",{className:"text-xs text-blue-600",children:"10s (Best Score)"})]}),(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,mg.jsx)("div",{className:"text-2xl font-bold text-gray-700",children:he}),(0,mg.jsx)("div",{className:"text-xs text-gray-600",children:"Total Shots"})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Average Score by Shot Position"}),(0,mg.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Performance analysis across shot positions (1-",se.length,")"]}),se.some(e=>e.count>0)?(0,mg.jsx)(Bb,{width:"100%",height:350,children:(0,mg.jsxs)(NH,{data:se.filter(e=>e.count>0),children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"position",stroke:"#6b7280",fontSize:10,tick:{fill:"#6b7280"},label:{value:"Shot Position",position:"insideBottom",offset:-5}}),(0,mg.jsx)(Sz,{domain:[0,10],stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"},label:{value:"Average Score",angle:-90,position:"insideLeft"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"},formatter:(e,t,n)=>{if("avgValue"===t){const t=se.find(e=>e.position===n.payload.position);return["".concat(e.toFixed(1)," (").concat(null===t||void 0===t?void 0:t.xRate.toFixed(1),"% X-rate)"),"Avg Score"]}return[e,t]}}),(0,mg.jsx)(hK,{dataKey:"avgValue",fill:"#8b5cf6",radius:[4,4,0,0],children:se.filter(e=>e.count>0).map((e,t)=>{const n=e.avgValue>=9.5?"#10b981":e.avgValue>=9?"#3b82f6":e.avgValue>=8?"#f59e0b":"#ef4444";return(0,mg.jsx)(SH,{fill:n},"cell-".concat(t))})})]})}):(0,mg.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No position data available"})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Shot Grouping"}),(0,mg.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Average score comparison: First 5 shots vs Middle vs Last 5 shots"}),oe.some(e=>e.avgScore>0)?(0,mg.jsx)(Bb,{width:"100%",height:300,children:(0,mg.jsxs)(NH,{data:oe,children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"group",stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"}}),(0,mg.jsx)(Sz,{domain:[0,10],stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"},label:{value:"Average Score",angle:-90,position:"insideLeft"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"},formatter:e=>"".concat(e.toFixed(1))}),(0,mg.jsx)(hK,{dataKey:"avgScore",fill:"#ec4899",radius:[4,4,0,0],children:oe.map((e,t)=>(0,mg.jsx)(SH,{fill:["#3b82f6","#8b5cf6","#ec4899"][t]},"cell-".concat(t)))})]})}):(0,mg.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No grouping data available"})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"X-Hit Rate Trend"}),(0,mg.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Percentage of X-shots over time (Last 20 competitions)"}),le.length>0?(0,mg.jsx)(Bb,{width:"100%",height:300,children:(0,mg.jsxs)(uF,{data:le,children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"date",stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"}}),(0,mg.jsx)(Sz,{domain:[0,100],stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"},label:{value:"X-Hit Rate (%)",angle:-90,position:"insideLeft"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"},formatter:(e,t)=>{if("xRate"===t){const t=le.find(t=>t.xRate===e);return["".concat(e,"% (").concat(null===t||void 0===t?void 0:t.xCount,"/").concat(null===t||void 0===t?void 0:t.totalShots," shots)"),"X-Hit Rate"]}return[e,t]}}),(0,mg.jsx)(wH,{type:"monotone",dataKey:"xRate",name:"X-Hit Rate",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})}):(0,mg.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No X-hit rate data available"})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Indoor vs Outdoor"}),Q.some(e=>e.count>0)?(0,mg.jsx)(Bb,{width:"100%",height:250,children:(0,mg.jsxs)(bK,{children:[(0,mg.jsx)(oQ,{data:Q,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat((100*n).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"count",children:Q.map((e,t)=>(0,mg.jsx)(SH,{fill:l[t%l.length]},"cell-".concat(t)))}),(0,mg.jsx)(nq,{})]})}):(0,mg.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No comparison data"})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Indoor vs Outdoor Average"}),Q.some(e=>e.count>0)?(0,mg.jsx)(Bb,{width:"100%",height:250,children:(0,mg.jsxs)(NH,{data:Q,children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"name",stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"}}),(0,mg.jsx)(Sz,{domain:[0,250],stroke:"#6b7280",fontSize:11,tick:{fill:"#6b7280"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"},formatter:e=>e.toFixed(1)}),(0,mg.jsx)(hK,{dataKey:"avgScore",fill:"#8b5cf6",radius:[4,4,0,0]})]})}):(0,mg.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No comparison data"})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Performance"}),(0,mg.jsx)("div",{className:"space-y-4",children:q.slice(0,10).map(e=>{var t;const n=D(e);return(0,mg.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("div",{className:"font-semibold text-gray-900",children:(null===(t=e.competition)||void 0===t?void 0:t.title)||"Unknown Competition"}),(0,mg.jsx)("div",{className:"text-sm text-gray-600",children:R(e.createdAt||e.submittedAt)})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsxs)("div",{className:"text-right",children:[(0,mg.jsx)("div",{className:"text-lg font-bold text-rifle-600",children:n}),(0,mg.jsxs)("div",{className:"text-xs text-gray-500",children:["X: ",(e=>{var t;return void 0!==(null===e||void 0===e||null===(t=e.tiebreakerData)||void 0===t?void 0:t.xCount)?e.tiebreakerData.xCount:Array.isArray(null===e||void 0===e?void 0:e.shots)?e.shots.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length:0})(e)]})]}),(0,mg.jsx)("button",{onClick:()=>u(e),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"View Shots"})]})]},e.id)})})]}),c&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mg.jsx)("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsxs)("h4",{className:"text-xl font-semibold text-gray-900",children:["Shots \u2014 ",null===(e=c.competition)||void 0===e?void 0:e.title]}),(0,mg.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:(0,mg.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mg.jsx)("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-3 mb-4",children:(c.shots||[]).map((e,t)=>(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:t+1}),(0,mg.jsx)("div",{className:"w-10 h-10 rounded-full border-2 flex items-center justify-center text-sm font-medium ".concat(!0===(null===e||void 0===e?void 0:e.isX)||10===parseInt(null===e||void 0===e?void 0:e.value,10)?"border-blue-500 text-blue-600":"border-gray-300"),children:!0===(null===e||void 0===e?void 0:e.isX)?"X":parseInt(null===e||void 0===e?void 0:e.value,10)||0})]},t))}),(0,mg.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-4",children:[(0,mg.jsxs)("div",{className:"text-gray-700",children:["Date: ",(0,mg.jsx)("span",{className:"font-medium",children:R(c.createdAt||c.submittedAt)})]}),(0,mg.jsxs)("div",{className:"text-lg font-semibold text-rifle-700",children:["Total: ",D(c)," (",null!==(t=null===(n=c.tiebreakerData)||void 0===n?void 0:n.xCount)&&void 0!==t?t:(null===(r=c.shots)||void 0===r?void 0:r.filter(e=>!0===(null===e||void 0===e?void 0:e.isX)).length)||0,"X)"]})]}),((null===c||void 0===c||null===(i=c.evidence)||void 0===i?void 0:i.photoUrl)||(null===c||void 0===c||null===(a=c.evidence)||void 0===a?void 0:a.videoUrl))&&(0,mg.jsxs)("div",{className:"mt-4",children:[(0,mg.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Evidence"}),(0,mg.jsxs)("div",{className:"space-x-4",children:[(null===c||void 0===c||null===(s=c.evidence)||void 0===s?void 0:s.photoUrl)&&(0,mg.jsx)("a",{href:c.evidence.photoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"View Photo"}),(null===c||void 0===c||null===(o=c.evidence)||void 0===o?void 0:o.videoUrl)&&(0,mg.jsx)("a",{href:c.evidence.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"View Video"})]})]})]})})}),(null===y||void 0===y?void 0:y.classification)&&"Unclassified"!==y.classification&&(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rank Information"}),(0,mg.jsx)("div",{className:"flex items-center justify-center p-6 bg-gradient-to-r from-rifle-50 to-rifle-100 rounded-lg border border-rifle-200",children:(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,mg.jsx)(Ty,{classification:y.classification,size:48})}),(0,mg.jsx)("div",{className:"text-3xl font-bold text-rifle-900 mb-2",children:x(y.classification)}),(0,mg.jsx)("div",{className:"text-lg text-rifle-700 mb-4",children:"Current Classification"}),(null===y||void 0===y?void 0:y.averageScore)&&(0,mg.jsxs)("div",{className:"text-sm text-rifle-600",children:["Based on average score of ",y.averageScore.toFixed(1)]}),(0,mg.jsx)("div",{className:"mt-4 text-xs text-rifle-600",children:"Classification is automatically calculated based on your performance"})]})})]})]})})();case"history":return(()=>{var e;return(0,mg.jsx)("div",{className:"space-y-6",children:(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Competition History"}),O?(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rifle-600 mx-auto"}),(0,mg.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading competitions..."})]}):(null===_||void 0===_||null===(e=_.competitions)||void 0===e?void 0:e.length)>0?(0,mg.jsx)("div",{className:"space-y-4",children:_.competitions.map(e=>{var t,n;return(0,mg.jsx)("div",{className:"border rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,mg.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("indoor"===e.competitionType?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.competitionType}),(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:new Date(null===(t=e.schedule)||void 0===t?void 0:t.competitionDate).toLocaleDateString()})]})]}),(0,mg.jsxs)("div",{className:"text-right",children:[(0,mg.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["$",null===(n=e.entryFee)||void 0===n?void 0:n.amount]}),(0,mg.jsx)("div",{className:"text-sm text-gray-600",children:e.status})]})]})},e.id)})}):(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)(Zv,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"No competitions participated in yet"}),(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Join competitions to build your history"})]})]})})})();case"settings":return(()=>{var e;return(0,mg.jsx)("div",{className:"space-y-6",children:(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Settings"}),(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Account Information"}),(0,mg.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,mg.jsxs)("div",{children:["Username: ",(0,mg.jsx)("span",{className:"font-medium",children:null===y||void 0===y?void 0:y.username})]}),(0,mg.jsxs)("div",{children:["Email: ",(0,mg.jsx)("span",{className:"font-medium",children:null===y||void 0===y?void 0:y.email})]}),(0,mg.jsxs)("div",{children:["Role: ",(0,mg.jsx)("span",{className:"font-medium capitalize",children:null===y||void 0===y||null===(e=y.role)||void 0===e?void 0:e.replace("_"," ")})]}),(0,mg.jsxs)("div",{children:["Member since: ",(0,mg.jsx)("span",{className:"font-medium",children:null!==y&&void 0!==y&&y.createdAt?new Date(y.createdAt).toLocaleDateString():"N/A"})]})]})]}),(0,mg.jsxs)("div",{className:"border-t pt-4",children:[(0,mg.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Security"}),(0,mg.jsx)("button",{onClick:()=>h(!0),className:"btn-secondary",children:"Change Password"})]}),(0,mg.jsxs)("div",{className:"border-t pt-4",children:[(0,mg.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Preferences"}),(0,mg.jsxs)("div",{className:"space-y-2",children:[(0,mg.jsxs)("label",{className:"flex items-center",children:[(0,mg.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-rifle-600 focus:ring-rifle-500"}),(0,mg.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Email notifications for new competitions"})]}),(0,mg.jsxs)("label",{className:"flex items-center",children:[(0,mg.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-rifle-600 focus:ring-rifle-500"}),(0,mg.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Score verification notifications"})]})]})]})]})]})})})()}})()})]}),d&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mg.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full",children:(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),(0,mg.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:(0,mg.jsx)(cv,{className:"w-6 h-6"})})]}),(0,mg.jsxs)("form",{onSubmit:j(async e=>{try{await mv(e.currentPassword,e.newPassword),nn.success("Password changed successfully!"),h(!1)}catch(t){console.error("Change password error:",t),nn.error(t.message||"Failed to change password. Please try again.")}}),className:"space-y-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),(0,mg.jsx)("input",Be(Be({id:"currentPassword",type:"password"},w("currentPassword",{required:"Current password is required"})),{},{className:"input-field mt-1",placeholder:"Enter your current password"})),N.currentPassword&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.currentPassword.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,mg.jsx)("input",Be(Be({id:"newPassword",type:"password"},w("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{className:"input-field mt-1",placeholder:"Enter your new password"})),N.newPassword&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.newPassword.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,mg.jsx)("input",Be(Be({id:"confirmPassword",type:"password"},w("confirmPassword",{required:"Please confirm your new password",validate:e=>e===k("newPassword")||"Passwords do not match"})),{},{className:"input-field mt-1",placeholder:"Confirm your new password"})),N.confirmPassword&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.confirmPassword.message})]}),(0,mg.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,mg.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:"Change Password"}),(0,mg.jsx)("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"})]})]})]})})})]})},CQ=["title","titleId"];function _Q(e,t){let{title:n,titleId:r}=e,a=wg(e,CQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const OQ=i.forwardRef(_Q),TQ=["title","titleId"];function AQ(e,t){let{title:n,titleId:r}=e,a=wg(e,TQ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const PQ=i.forwardRef(AQ),IQ=()=>{var e,t;const{login:n}=xg(),r=ne(),a=ee(),[s,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),u=(null===(e=a.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/",{register:d,handleSubmit:h,formState:{errors:f}}=ib();return(0,mg.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,mg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("div",{className:"flex justify-center mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-16 w-auto object-contain"})}),(0,mg.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-100",children:"Sign in to your account"}),(0,mg.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-300",children:["Or"," ",(0,mg.jsx)(Pe,{to:"/register",className:"font-medium text-rifle-600 hover:text-rifle-500",children:"create a new account"})]})]}),(0,mg.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:h(async e=>{c(!0);try{const t=await n(e.email,e.password);t.success?(nn.success("Login successful!"),r(u,{replace:!0})):nn.error(t.error||"Login failed")}catch(t){nn.error("An error occurred during login")}finally{c(!1)}}),children:[(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),(0,mg.jsx)("input",Be(Be({id:"email",type:"email",autoComplete:"email"},d("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{className:"input-field mt-1 ".concat(f.email?"border-red-500":""),placeholder:"Enter your email"})),f.email&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),(0,mg.jsxs)("div",{className:"relative mt-1",children:[(0,mg.jsx)("input",Be(Be({id:"password",type:s?"text":"password",autoComplete:"current-password"},d("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{className:"input-field pr-10 ".concat(f.password?"border-red-500":""),placeholder:"Enter your password"})),(0,mg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!s),children:s?(0,mg.jsx)(OQ,{className:"h-5 w-5 text-gray-400"}):(0,mg.jsx)(PQ,{className:"h-5 w-5 text-gray-400"})})]}),f.password&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-rifle-600 focus:ring-rifle-500 border-gray-300 rounded"}),(0,mg.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-300",children:"Remember me"})]}),(0,mg.jsx)("div",{className:"text-sm",children:(0,mg.jsx)(Pe,{to:"/forgot-password",className:"font-medium text-rifle-600 hover:text-rifle-500",children:"Forgot your password?"})})]}),(0,mg.jsx)("div",{children:(0,mg.jsx)("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rifle-600 hover:bg-rifle-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rifle-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})}),(0,mg.jsx)("div",{className:"text-center",children:(0,mg.jsxs)("p",{className:"text-sm text-gray-300",children:["Don't have an account?"," ",(0,mg.jsx)(Pe,{to:"/register",className:"font-medium text-rifle-600 hover:text-rifle-500",children:"Sign up here"})]})})]})]})})},DQ=()=>{const{register:e}=xg(),t=ne(),[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),{register:c,handleSubmit:u,watch:d,formState:{errors:h}}=ib(),f=d("password");return(0,mg.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,mg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("div",{className:"flex justify-center mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-16 w-auto object-contain"})}),(0,mg.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-100",children:"Create your account"}),(0,mg.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-300",children:["Or"," ",(0,mg.jsx)(Pe,{to:"/login",className:"font-medium text-rifle-600 hover:text-rifle-500",children:"sign in to your existing account"})]})]}),(0,mg.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u(async n=>{l(!0);try{const r={username:n.username,email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName,dateOfBirth:n.dateOfBirth,phone:n.phone,role:n.role||"competitor"},i=await e(r);i.success?(nn.success("Registration successful! Welcome to 22LR Championship!"),t("/")):nn.error(i.error||"Registration failed")}catch(r){nn.error("An error occurred during registration")}finally{l(!1)}}),children:[(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300",children:"Username"}),(0,mg.jsx)("input",Be(Be({id:"username",type:"text"},c("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"},pattern:{value:/^[a-zA-Z0-9_]+$/,message:"Username can only contain letters, numbers, and underscores"}})),{},{className:"input-field mt-1 ".concat(h.username?"border-red-500":""),placeholder:"Choose a username"})),h.username&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.username.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),(0,mg.jsx)("input",Be(Be({id:"email",type:"email",autoComplete:"email"},c("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{className:"input-field mt-1 ".concat(h.email?"border-red-500":""),placeholder:"Enter your email"})),h.email&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-300",children:"First Name"}),(0,mg.jsx)("input",Be(Be({id:"firstName",type:"text"},c("firstName",{required:"First name is required"})),{},{className:"input-field mt-1 ".concat(h.firstName?"border-red-500":""),placeholder:"Enter your first name"})),h.firstName&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.firstName.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-300",children:"Last Name"}),(0,mg.jsx)("input",Be(Be({id:"lastName",type:"text"},c("lastName",{required:"Last name is required"})),{},{className:"input-field mt-1 ".concat(h.lastName?"border-red-500":""),placeholder:"Enter your last name"})),h.lastName&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.lastName.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-300",children:"Date of Birth"}),(0,mg.jsx)("input",Be(Be({id:"dateOfBirth",type:"date"},c("dateOfBirth",{required:"Date of birth is required"})),{},{className:"input-field mt-1 ".concat(h.dateOfBirth?"border-red-500":"")})),h.dateOfBirth&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.dateOfBirth.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:"Phone Number (Optional)"}),(0,mg.jsx)("input",Be(Be({id:"phone",type:"tel"},c("phone")),{},{className:"input-field mt-1",placeholder:"Enter your phone number"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-300",children:"Role"}),(0,mg.jsxs)("select",Be(Be({id:"role"},c("role")),{},{className:"input-field mt-1",defaultValue:"competitor",children:[(0,mg.jsx)("option",{value:"competitor",children:"Competitor"}),(0,mg.jsx)("option",{value:"range_officer",children:"Range Officer"})]}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),(0,mg.jsxs)("div",{className:"relative mt-1",children:[(0,mg.jsx)("input",Be(Be({id:"password",type:n?"text":"password"},c("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{className:"input-field pr-10 ".concat(h.password?"border-red-500":""),placeholder:"Create a password"})),(0,mg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?(0,mg.jsx)(OQ,{className:"h-5 w-5 text-gray-400"}):(0,mg.jsx)(PQ,{className:"h-5 w-5 text-gray-400"})})]}),h.password&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm Password"}),(0,mg.jsxs)("div",{className:"relative mt-1",children:[(0,mg.jsx)("input",Be(Be({id:"confirmPassword",type:a?"text":"password"},c("confirmPassword",{required:"Please confirm your password",validate:e=>e===f||"Passwords do not match"})),{},{className:"input-field pr-10 ".concat(h.confirmPassword?"border-red-500":""),placeholder:"Confirm your password"})),(0,mg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!a),children:a?(0,mg.jsx)(OQ,{className:"h-5 w-5 text-gray-400"}):(0,mg.jsx)(PQ,{className:"h-5 w-5 text-gray-400"})})]}),h.confirmPassword&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.confirmPassword.message})]})]}),(0,mg.jsx)("div",{children:(0,mg.jsx)("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rifle-600 hover:bg-rifle-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rifle-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create account"})}),(0,mg.jsx)("div",{className:"text-center",children:(0,mg.jsxs)("p",{className:"text-sm text-gray-300",children:["Already have an account?"," ",(0,mg.jsx)(Pe,{to:"/login",className:"font-medium text-rifle-600 hover:text-rifle-500",children:"Sign in here"})]})})]})]})})},RQ=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),{register:a,handleSubmit:s,formState:{errors:o}}=ib();return(0,mg.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,mg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("div",{className:"flex justify-center mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-16 w-auto object-contain"})}),(0,mg.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-100",children:"Reset your password"}),(0,mg.jsx)("p",{className:"mt-2 text-center text-sm text-gray-300",children:"Enter your email address and we'll send you a link to reset your password."})]}),n?(0,mg.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,mg.jsx)("div",{className:"bg-green-900/30 border border-green-700 rounded-md p-4",children:(0,mg.jsx)("p",{className:"text-sm text-green-300",children:"Password reset email sent! Please check your inbox and follow the instructions to reset your password."})}),(0,mg.jsx)("div",{className:"text-center",children:(0,mg.jsx)(Pe,{to:"/login",className:"font-medium text-rifle-600 hover:text-rifle-500",children:"Back to login"})})]}):(0,mg.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:s(async e=>{t(!0);try{await pv(e.email),r(!0),nn.success("Password reset email sent! Check your inbox.")}catch(n){console.error("Password reset error:",n),nn.error(n.message||"Failed to send reset email. Please try again.")}finally{t(!1)}}),children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),(0,mg.jsx)("input",Be(Be({id:"email",type:"email",autoComplete:"email"},a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{className:"input-field mt-1 ".concat(o.email?"border-red-500":""),placeholder:"Enter your email"})),o.email&&(0,mg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),(0,mg.jsx)("div",{children:(0,mg.jsx)("button",{type:"submit",disabled:e,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rifle-600 hover:bg-rifle-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rifle-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"Send reset link"})}),(0,mg.jsx)("div",{className:"text-center",children:(0,mg.jsx)(Pe,{to:"/login",className:"font-medium text-rifle-600 hover:text-rifle-500",children:"Back to login"})})]})]})})},MQ=gy("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),LQ=gy("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),FQ=gy("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),UQ=gy("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),zQ=gy("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),BQ=gy("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),VQ=gy("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qQ=gy("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);function HQ(){return HQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HQ.apply(null,arguments)}function WQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QQ=32;class XQ extends i.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,r=16,a=QQ/6,s=QQ/3,o=e.inactive?n:e.color,l=null!==t&&void 0!==t?t:e.type;if("none"===l)return null;if("plainline"===l)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:QQ,y2:r,className:"recharts-legend-icon"});if("line"===l)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(s,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(r,"\n            H").concat(QQ,"M").concat(2*s,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(r),className:"recharts-legend-icon"});if("rect"===l)return i.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(QQ,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WQ(Object(n),!0).forEach(function(t){KQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,i.cloneElement(e.legendIcon,c)}return i.createElement(uW,{fill:o,cx:r,cy:r,size:QQ,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:r,inactiveColor:a,iconType:s}=this.props,o={x:0,y:0,width:QQ,height:QQ},l={display:"horizontal"===n?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var u=e.formatter||r,d=sb({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?a:e.color,f=u?u(e.value,e,n):e.value;return i.createElement("li",HQ({className:d,style:l,key:"legend-item-".concat(n)},bU(this.props,e,n)),i.createElement(yL,{width:t,height:t,viewBox:o,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,s)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===t?n:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}KQ(XQ,"displayName","Legend"),KQ(XQ,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var GQ=["contextPayload"];function YQ(){return YQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YQ.apply(null,arguments)}function $Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Q(Object(n),!0).forEach(function(t){ZQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eX(e){return e.value}function tX(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,GQ),r=Bz(t,e.payloadUniqBy,eX),a=JQ(JQ({},n),{},{payload:r});return i.isValidElement(e.content)?i.cloneElement(e.content,a):"function"===typeof e.content?i.createElement(e.content,a):i.createElement(XQ,a)}function nX(e){var t=AS();return(0,i.useEffect)(()=>{t(NM(e))},[t,e]),null}function rX(e){var t=AS();return(0,i.useEffect)(()=>(t(jM(e)),()=>{t(jM({width:0,height:0}))}),[t,e]),null}function iX(e){var t=RS(US),n=(0,i.useContext)(FL),r=RS(e=>e.layout.margin),{width:a,height:s,wrapperStyle:l,portal:c}=e,[u,d]=nB([t]),h=Vk(),f=qk();if(null==h||null==f)return null;var m=h-(r.left||0)-(r.right||0),p=aX.getWidthOrHeight(e.layout,s,a,m),g=c?l:JQ(JQ({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||a||"auto",height:(null===p||void 0===p?void 0:p.height)||s||"auto"},function(e,t,n,r,i,a){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),JQ(JQ({},s),o)}(l,e,r,h,f,u)),l),v=null!==c&&void 0!==c?c:n;if(null==v)return null;var y=i.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},i.createElement(nX,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),i.createElement(rX,{width:u.width,height:u.height}),i.createElement(tX,YQ({},e,p,{margin:r,chartWidth:h,chartHeight:f,contextPayload:t})));return(0,o.createPortal)(y,v)}class aX extends i.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&pb(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return i.createElement(iX,this.props)}}ZQ(aX,"displayName","Legend"),ZQ(aX,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});const sX=()=>{var e,t;const n=ne(),[r,a]=(0,i.useState)("30-days"),{data:s,isLoading:o,error:l}=(0,Re.useQuery)(["admin-dashboard",r],()=>Uv({period:r}),{staleTime:3e5}),{data:c,isLoading:u}=(0,Re.useQuery)("recent-users",()=>zv({limit:5}),{staleTime:6e5}),{data:d,isLoading:h}=(0,Re.useQuery)("pending-scores",()=>Bv({verificationStatus:"pending",limit:5}),{staleTime:12e4});if(o)return(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(l)return(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading dashboard"}),(0,mg.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]});const f=(null===s||void 0===s?void 0:s.stats)||{},m=(null===s||void 0===s?void 0:s.recentActivity)||[],p=(null===s||void 0===s?void 0:s.userGrowthData)||[],g=(null===s||void 0===s?void 0:s.competitionActivityData)||[];return(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center mb-8",children:[(0,mg.jsx)("div",{className:"mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-20 w-auto mx-auto object-contain"})}),(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Admin Dashboard"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Platform overview and management"})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("div",{}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsxs)("button",{onClick:()=>n("/admin/create-competition"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,mg.jsx)(MQ,{className:"w-4 h-4 mr-2"}),"Create Competition"]}),(0,mg.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"7-days",children:"Last 7 Days"}),(0,mg.jsx)("option",{value:"30-days",children:"Last 30 Days"}),(0,mg.jsx)("option",{value:"90-days",children:"Last 90 Days"}),(0,mg.jsx)("option",{value:"1-year",children:"Last Year"})]})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,mg.jsx)(xy,{className:"h-6 w-6 text-blue-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.totalUsers||0})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,mg.jsx)(LQ,{className:"h-4 w-4 text-green-500"}),(0,mg.jsxs)("span",{className:"ml-2 text-sm text-green-600",children:["+",f.newUsersThisPeriod||0," this period"]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,mg.jsx)(by,{className:"h-6 w-6 text-green-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Competitions"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.activeCompetitions||0})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"h-4 w-4 text-blue-500"}),(0,mg.jsxs)("span",{className:"ml-2 text-sm text-blue-600",children:[f.totalCompetitions||0," total"]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,mg.jsx)(wy,{className:"h-6 w-6 text-yellow-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Scores"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.pendingScores||0})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,mg.jsx)(FQ,{className:"h-4 w-4 text-yellow-500"}),(0,mg.jsx)("span",{className:"ml-2 text-sm text-yellow-600",children:"Need verification"})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,mg.jsx)(UQ,{className:"h-6 w-6 text-purple-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,mg.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",f.totalRevenue||0]})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,mg.jsx)(LQ,{className:"h-4 w-4 text-green-500"}),(0,mg.jsxs)("span",{className:"ml-2 text-sm text-green-600",children:["+$",f.revenueThisPeriod||0," this period"]})]})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"User Growth"}),(0,mg.jsx)(zQ,{className:"h-5 w-5 text-gray-400"})]}),p.length>0?(0,mg.jsx)(Bb,{width:"100%",height:280,children:(0,mg.jsxs)(uF,{data:p,children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"label",stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),(0,mg.jsx)(Sz,{stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"},labelStyle:{color:"#6b7280",fontWeight:"bold"}}),(0,mg.jsx)(aX,{}),(0,mg.jsx)(wH,{type:"monotone",dataKey:"users",name:"Total Users",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})}):(0,mg.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)(BQ,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"No data available"})]})})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Competition Activity"}),(0,mg.jsx)(Cy,{className:"h-5 w-5 text-gray-400"})]}),g.length>0?(0,mg.jsx)(Bb,{width:"100%",height:280,children:(0,mg.jsxs)(NH,{data:g,children:[(0,mg.jsx)(ez,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,mg.jsx)(hz,{dataKey:"label",stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),(0,mg.jsx)(Sz,{stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),(0,mg.jsx)(nq,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#111827"},labelStyle:{color:"#6b7280",fontWeight:"bold"}}),(0,mg.jsx)(aX,{}),(0,mg.jsx)(hK,{dataKey:"total",name:"Total Competitions",fill:"#10b981",radius:[4,4,0,0]}),(0,mg.jsx)(hK,{dataKey:"active",name:"Active Competitions",fill:"#3b82f6",radius:[4,4,0,0]})]})}):(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Published"}),(0,mg.jsx)("span",{className:"text-sm font-medium text-gray-900",children:f.publishedCompetitions||0})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Draft"}),(0,mg.jsx)("span",{className:"text-sm font-medium text-gray-900",children:f.draftCompetitions||0})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Completed"}),(0,mg.jsx)("span",{className:"text-sm font-medium text-gray-900",children:f.completedCompetitions||0})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Cancelled"}),(0,mg.jsx)("span",{className:"text-sm font-medium text-gray-900",children:f.cancelledCompetitions||0})]})]})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Users"}),(0,mg.jsx)(xy,{className:"h-5 w-5 text-gray-400"})]}),(0,mg.jsx)("div",{className:"space-y-3",children:u?(0,mg.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):(0,mg.jsxs)(mg.Fragment,{children:[null===c||void 0===c||null===(e=c.users)||void 0===e?void 0:e.map(e=>{var t,n;return(0,mg.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,mg.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:(0,mg.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null===(t=e.firstName)||void 0===t?void 0:t.charAt(0).toUpperCase())||(null===(n=e.username)||void 0===n?void 0:n.charAt(0).toUpperCase())})}),(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.firstName&&e.lastName?"".concat(e.firstName," ").concat(e.lastName):e.username}),(0,mg.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]}),(0,mg.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("admin"===e.role?"bg-red-100 text-red-800":"range_officer"===e.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.role})]},e.id)}),(!(null!==c&&void 0!==c&&c.users)||0===c.users.length)&&(0,mg.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent users"})]})})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Scores"}),(0,mg.jsx)(wy,{className:"h-5 w-5 text-gray-400"})]}),(0,mg.jsx)("div",{className:"space-y-3",children:h?(0,mg.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):(0,mg.jsxs)(mg.Fragment,{children:[null===d||void 0===d||null===(t=d.scores)||void 0===t?void 0:t.map(e=>{var t,r,i;return(0,mg.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg",children:[(0,mg.jsx)("div",{className:"h-8 w-8 rounded-full bg-yellow-100 flex items-center justify-center",children:(0,mg.jsx)(Cy,{className:"h-4 w-4 text-yellow-600"})}),(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null!==(t=e.competitor)&&void 0!==t&&t.firstName&&null!==(r=e.competitor)&&void 0!==r&&r.lastName?"".concat(e.competitor.firstName," ").concat(e.competitor.lastName):null===(i=e.competitor)||void 0===i?void 0:i.username}),(0,mg.jsxs)("p",{className:"text-xs text-gray-500",children:["Score: ",e.totalScore]})]}),(0,mg.jsx)("button",{onClick:()=>n("/admin/score-verification"),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})]},e.id)}),(!(null!==d&&void 0!==d&&d.scores)||0===d.scores.length)&&(0,mg.jsx)("p",{className:"text-gray-500 text-sm",children:"No pending scores"})]})})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,mg.jsx)(VQ,{className:"h-5 w-5 text-gray-400"})]}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsx)("button",{onClick:()=>n("/admin/create-competition"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Competition"}),(0,mg.jsx)("button",{onClick:()=>n("/admin/score-verification"),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Review Scores"}),(0,mg.jsx)("button",{onClick:()=>n("/admin/users"),className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Manage Users"}),(0,mg.jsx)("button",{onClick:()=>n("/admin/settings"),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"System Settings"})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,mg.jsx)(BQ,{className:"h-5 w-5 text-gray-400"})]}),(0,mg.jsxs)("div",{className:"space-y-4",children:[m.map((e,t)=>(0,mg.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,mg.jsx)("div",{className:"h-8 w-8 rounded-full flex items-center justify-center ".concat("user"===e.type?"bg-blue-100":"competition"===e.type?"bg-green-100":"score"===e.type?"bg-yellow-100":"bg-gray-100"),children:"user"===e.type?(0,mg.jsx)(xy,{className:"h-4 w-4 text-blue-600"}):"competition"===e.type?(0,mg.jsx)(by,{className:"h-4 w-4 text-green-600"}):"score"===e.type?(0,mg.jsx)(Cy,{className:"h-4 w-4 text-yellow-600"}):(0,mg.jsx)(BQ,{className:"h-4 w-4 text-gray-600"})}),(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),(0,mg.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})]},t)),0===m.length&&(0,mg.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent activity"})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),(0,mg.jsx)(qQ,{className:"h-5 w-5 text-green-600"})]}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Database"}),(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full mr-2"}),(0,mg.jsx)("span",{className:"text-sm text-green-600",children:"Healthy"})]})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"API"}),(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full mr-2"}),(0,mg.jsx)("span",{className:"text-sm text-green-600",children:"Online"})]})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Storage"}),(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"h-2 w-2 bg-yellow-500 rounded-full mr-2"}),(0,mg.jsx)("span",{className:"text-sm text-yellow-600",children:"75% Used"})]})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance"}),(0,mg.jsx)(zQ,{className:"h-5 w-5 text-blue-600"})]}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Response Time"}),(0,mg.jsx)("span",{className:"text-sm font-medium",children:"120ms"})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Uptime"}),(0,mg.jsx)("span",{className:"text-sm font-medium",children:"99.9%"})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Active Sessions"}),(0,mg.jsx)("span",{className:"text-sm font-medium",children:f.activeSessions||0})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Security"}),(0,mg.jsx)(qQ,{className:"h-5 w-5 text-purple-600"})]}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Failed Logins"}),(0,mg.jsx)("span",{className:"text-sm font-medium",children:f.failedLogins||0})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Suspicious Activity"}),(0,mg.jsx)("span",{className:"text-sm font-medium",children:f.suspiciousActivity||0})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:"Last Scan"}),(0,mg.jsx)("span",{className:"text-sm font-medium",children:"2 hours ago"})]})]})]})]})]})},oX=gy("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),lX=gy("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),cX=()=>{var e,t;const n=ne(),r=(0,Re.useQueryClient)(),[a,s]=(0,i.useState)(!1),{user:o}=xg(),{register:l,handleSubmit:c,formState:{errors:u},watch:d,reset:h,setValue:f}=ib({defaultValues:{title:"",description:"",type:"indoor",status:"published",rangeName:"",rangeLocation:"",startDate:"",endDate:"",maxParticipants:50,prizePool:0,duration:"4 hours",distance:"25 yards",shotsPerTarget:10,format:"precision",rules:"",equipment:"",registrationDeadline:""}}),m=(0,Re.useMutation)(e=>xv(e),{onSuccess:e=>{nn.success("Competition created successfully!"),r.invalidateQueries("competitions"),n("/competitions/".concat(e.competition.id))},onError:e=>{var t,n;nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to create competition"),s(!1)}}),p=(d("type"),d("status"));(0,i.useEffect)(()=>{"range_admin"===(null===o||void 0===o?void 0:o.role)&&(null!==o&&void 0!==o&&o.rangeName&&f("rangeName",o.rangeName),null!==o&&void 0!==o&&o.rangeLocation&&f("rangeLocation",o.rangeLocation))},[o,f]);const{data:g}=(0,Re.useQuery)(["ranges-for-competition"],()=>Hv({active:!0}),{staleTime:3e5}),v=(null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.ranges)||[],{data:y}=(0,Re.useQuery)(["range-admins-for-competition"],()=>Vv(),{enabled:"admin"===(null===o||void 0===o?void 0:o.role),staleTime:3e5});null===y||void 0===y||null===(t=y.data)||void 0===t||t.rangeAdmins;return(0,mg.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Create Competition"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Set up a new .22LR rifle competition"})]}),(0,mg.jsx)("div",{className:"flex items-center space-x-2",children:(0,mg.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("published"===p?"bg-green-100 text-green-800":"completed"===p?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"published"===p?"Published":"completed"===p?"Completed":p})})]}),(0,mg.jsxs)("form",{onSubmit:c(async e=>{s(!0);try{const t={title:e.title,description:e.description,competitionType:"speed"===e.type||"precision"===e.type?"indoor":e.type,maxDistance:"speed"===e.type?25:50,format:"speed"===e.type?"standing":"precision"===e.type?"benchrest":"prone",schedule:{competitionDate:new Date(e.startDate).toISOString(),startTime:e.startTime||"09:00",endTime:e.endTime||"17:00",registrationDeadline:new Date(e.registrationDeadline).toISOString()},range:{id:e.rangeId,name:e.rangeName,address:e.rangeLocation,location:e.rangeLocation},maxParticipants:parseInt(e.maxParticipants)||100,prizePool:parseFloat(e.prizePool)||0,shotsPerTarget:parseInt(e.shotsPerTarget)||10,status:e.status||"published",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),registeredCount:0,participants:[]};await m.mutateAsync(t)}catch(t){console.error("Error creating competition:",t)}}),className:"space-y-8",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Title *"}),(0,mg.jsx)("input",Be(Be({type:"text"},l("title",{required:"Title is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Spring Indoor Championship"})),u.title&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.title.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Type *"}),(0,mg.jsxs)("select",Be(Be({},l("type",{required:"Type is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"indoor",children:"Indoor"}),(0,mg.jsx)("option",{value:"outdoor",children:"Outdoor"}),(0,mg.jsx)("option",{value:"speed",children:"Speed Shooting"}),(0,mg.jsx)("option",{value:"precision",children:"Precision"})]}))]}),(0,mg.jsxs)("div",{className:"md:col-span-2",children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,mg.jsx)("textarea",Be(Be({},l("description",{required:"Description is required"})),{},{rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the competition format, rules, and what participants can expect..."})),u.description&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.description.message})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(yy,{className:"w-5 h-5 mr-2"}),"Location & Schedule"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{className:"md:col-span-2",children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Range *"}),(0,mg.jsxs)("select",Be(Be({},l("rangeId",{required:"Please select a range"})),{},{onChange:e=>{const t=v.find(t=>t.id===e.target.value);t&&(f("rangeId",t.id),f("rangeName",t.name),f("rangeLocation","".concat(t.address,", ").concat(t.city,", ").concat(t.state," ").concat(t.zipCode)))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"",children:"Choose a range..."}),v.map(e=>(0,mg.jsxs)("option",{value:e.id,children:[e.name," \u2014 ",e.city,", ",e.state]},e.id))]})),u.rangeId&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.rangeId.message}),(0,mg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select a range from the list. If you don't see your range, ask an admin to add it."})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Range Name *"}),(0,mg.jsx)("input",Be(Be({type:"text"},l("rangeName",{required:"Range name is required"})),{},{readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Auto-filled from selected range"})),u.rangeName&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.rangeName.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Range Location / Address *"}),(0,mg.jsx)("input",Be(Be({type:"text"},l("rangeLocation",{required:"Range location is required"})),{},{readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Auto-filled from selected range"})),u.rangeLocation&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.rangeLocation.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),(0,mg.jsx)("input",Be(Be({type:"date"},l("startDate",{required:"Start date is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),u.startDate&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.startDate.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time *"}),(0,mg.jsx)("input",Be(Be({type:"time"},l("startTime",{required:"Start time is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"09:00"})),u.startTime&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.startTime.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),(0,mg.jsx)("input",Be(Be({type:"date"},l("endDate",{required:"End date is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),u.endDate&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.endDate.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time *"}),(0,mg.jsx)("input",Be(Be({type:"time"},l("endTime",{required:"End time is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"17:00"})),u.endTime&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.endTime.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Deadline *"}),(0,mg.jsx)("input",Be(Be({type:"date"},l("registrationDeadline",{required:"Registration deadline is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),u.registrationDeadline&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.registrationDeadline.message})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"w-5 h-5 mr-2"}),"Competition Details"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Distance *"}),(0,mg.jsx)("input",Be(Be({type:"text"},l("distance",{required:"Distance is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 25 yards"})),u.distance&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.distance.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shots Per Target *"}),(0,mg.jsx)("input",Be(Be({type:"number"},l("shotsPerTarget",{required:"Shots per target is required",min:{value:1,message:"Must be at least 1"}})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10"})),u.shotsPerTarget&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.shotsPerTarget.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),(0,mg.jsx)("input",Be(Be({type:"text"},l("duration",{required:"Duration is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 4 hours"})),u.duration&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.duration.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format *"}),(0,mg.jsxs)("select",Be(Be({},l("format",{required:"Format is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"precision",children:"Precision"}),(0,mg.jsx)("option",{value:"speed",children:"Speed"}),(0,mg.jsx)("option",{value:"multi-stage",children:"Multi-Stage"}),(0,mg.jsx)("option",{value:"team",children:"Team"})]}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants *"}),(0,mg.jsx)("input",Be(Be({type:"number"},l("maxParticipants",{required:"Max participants is required",min:{value:1,message:"Must be at least 1"}})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"50"})),u.maxParticipants&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.maxParticipants.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Pool ($) *"}),(0,mg.jsx)("input",Be(Be({type:"number"},l("prizePool",{required:"Prize pool is required",min:{value:0,message:"Must be 0 or greater"}})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000"})),u.prizePool&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.prizePool.message})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(oX,{className:"w-5 h-5 mr-2"}),"Rules & Equipment"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Rules"}),(0,mg.jsx)("textarea",Be(Be({},l("rules")),{},{rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Specify competition rules, scoring methods, and any special requirements..."}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipment Requirements"}),(0,mg.jsx)("textarea",Be(Be({},l("equipment")),{},{rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"List required equipment, allowed modifications, and any restrictions..."}))]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Ey,{className:"w-5 h-5 mr-2"}),"Status & Actions"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Status *"}),(0,mg.jsxs)("select",Be(Be({},l("status",{required:"Status is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"published",children:"Published (Visible to public)"}),(0,mg.jsx)("option",{value:"completed",children:"Completed"})]}))]}),(0,mg.jsx)("div",{className:"flex items-end",children:(0,mg.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,mg.jsxs)("p",{children:["\u2022 ",(0,mg.jsx)("strong",{children:"Published:"})," Make visible to all users"]}),(0,mg.jsxs)("p",{children:["\u2022 ",(0,mg.jsx)("strong",{children:"Completed:"})," Finished competition (shows in results / winner)"]})]})})]})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>n("/admin/competitions"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>{h(),nn.success("Form reset to defaults")},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Reset"}),(0,mg.jsx)("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:a?(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)(lX,{className:"w-4 h-4 mr-2"}),"Create Competition"]})})]})]})]})]})},uX=()=>{const{id:e}=ie(),t=ne(),n=(0,Re.useQueryClient)(),[r,a]=(0,i.useState)(!1),{register:s,handleSubmit:o,formState:{errors:l},reset:c,watch:u}=ib(),d=e=>{if(!e)return"";try{let t;if(t=e.toMillis?new Date(e.toMillis()):e.toDate?e.toDate():new Date(e),isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(i)}catch(Ve){return console.error("Error parsing date:",Ve),""}},{data:h,isLoading:f,error:m}=(0,Re.useQuery)(["competition",e],()=>yv(e),{onSuccess:e=>{var t,n,r,i,a,s,o;const l=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.competition)||{};c({title:l.title||"",description:l.description||"",type:l.competitionType||l.type||"indoor",status:l.status||"published",location:(null===(n=l.range)||void 0===n?void 0:n.name)||l.location||"",startDate:d(null===(r=l.schedule)||void 0===r?void 0:r.competitionDate),endDate:d(null===(i=l.schedule)||void 0===i?void 0:i.competitionDate),startTime:(null===(a=l.schedule)||void 0===a?void 0:a.startTime)||"09:00",endTime:(null===(s=l.schedule)||void 0===s?void 0:s.endTime)||"17:00",registrationDeadline:d(null===(o=l.schedule)||void 0===o?void 0:o.registrationDeadline),distance:l.distance||(l.maxDistance?"".concat(l.maxDistance," yards"):""),shotsPerTarget:l.shotsPerTarget||10,duration:l.duration||"4 hours",format:l.format||"precision",maxParticipants:l.maxParticipants||l.registeredCount||50,prizePool:l.prizePool||0,rules:l.rules||"",equipment:l.equipment||""})}}),p=(0,Re.useMutation)(t=>bv(e,t),{onSuccess:r=>{nn.success("Competition updated"),n.invalidateQueries(["competition",e]),n.invalidateQueries(["featured-competitions"]),t("/competitions/".concat(e))},onError:e=>{var t,n;nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to update competition"),a(!1)}}),g=u("status");return f?(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m?(0,mg.jsx)("div",{className:"text-center py-8",children:(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading competition"})}):(0,mg.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Edit Competition"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Update competition details"})]}),(0,mg.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("published"===g?"bg-green-100 text-green-800":"completed"===g?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"published"===g?"Published":"completed"===g?"Completed":g})]}),(0,mg.jsxs)("form",{onSubmit:o(async e=>{var t;a(!0);const n=((null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.competition)||{}).schedule||{},r=Be(Be({},n),{},{startTime:e.startTime||n.startTime||"09:00",endTime:e.endTime||n.endTime||"17:00"});if(e.startDate){const[t,n,i]=e.startDate.split("-").map(Number),a=new Date(t,n-1,i);r.competitionDate=a.toISOString()}else n.competitionDate&&(r.competitionDate=n.competitionDate);if(e.registrationDeadline){const[t,n,i]=e.registrationDeadline.split("-").map(Number),a=new Date(t,n-1,i);r.registrationDeadline=a.toISOString()}else n.registrationDeadline&&(r.registrationDeadline=n.registrationDeadline);const i={title:e.title,description:e.description,competitionType:e.type,format:e.format,status:e.status,range:{name:e.location,address:e.location,location:e.location},schedule:r,distance:e.distance,shotsPerTarget:parseInt(e.shotsPerTarget)||10,maxParticipants:parseInt(e.maxParticipants)||50,prizePool:parseFloat(e.prizePool)||0,rules:e.rules,equipment:e.equipment};await p.mutateAsync(i)}),className:"space-y-8",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,mg.jsx)("input",Be(Be({type:"text"},s("title",{required:"Title is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),l.title&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:l.title.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),(0,mg.jsxs)("select",Be(Be({},s("type",{required:"Type is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"indoor",children:"Indoor"}),(0,mg.jsx)("option",{value:"outdoor",children:"Outdoor"}),(0,mg.jsx)("option",{value:"speed",children:"Speed"}),(0,mg.jsx)("option",{value:"precision",children:"Precision"})]}))]}),(0,mg.jsxs)("div",{className:"md:col-span-2",children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,mg.jsx)("textarea",Be(Be({rows:3},s("description",{required:"Description is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),l.description&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:l.description.message})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(yy,{className:"w-5 h-5 mr-2"}),"Location & Schedule"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,mg.jsx)("input",Be(Be({type:"text"},s("location",{required:"Location is required"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),l.location&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:l.location.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,mg.jsx)("input",Be(Be({type:"date"},s("startDate")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),(0,mg.jsx)("input",Be(Be({type:"time"},s("startTime")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),(0,mg.jsx)("input",Be(Be({type:"time"},s("endTime")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Deadline"}),(0,mg.jsx)("input",Be(Be({type:"date"},s("registrationDeadline")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"w-5 h-5 mr-2"}),"Competition Details"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Distance"}),(0,mg.jsx)("input",Be(Be({type:"text"},s("distance")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shots Per Target"}),(0,mg.jsx)("input",Be(Be({type:"number"},s("shotsPerTarget",{min:{value:1,message:"Must be at least 1"}})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),l.shotsPerTarget&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:l.shotsPerTarget.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),(0,mg.jsx)("input",Be(Be({type:"text"},s("duration")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format"}),(0,mg.jsxs)("select",Be(Be({},s("format")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"precision",children:"Precision"}),(0,mg.jsx)("option",{value:"speed",children:"Speed"}),(0,mg.jsx)("option",{value:"multi-stage",children:"Multi-Stage"}),(0,mg.jsx)("option",{value:"team",children:"Team"})]}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),(0,mg.jsx)("input",Be(Be({type:"number"},s("maxParticipants",{min:{value:1,message:"Must be at least 1"}})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),l.maxParticipants&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:l.maxParticipants.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Pool ($)"}),(0,mg.jsx)("input",Be(Be({type:"number"},s("prizePool",{min:{value:0,message:"Must be 0 or greater"}})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(oX,{className:"w-5 h-5 mr-2"}),"Rules & Status"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Rules"}),(0,mg.jsx)("textarea",Be(Be({rows:4},s("rules")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipment Requirements"}),(0,mg.jsx)("textarea",Be(Be({rows:4},s("equipment")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Status"}),(0,mg.jsxs)("select",Be(Be({},s("status")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"published",children:"Published"}),(0,mg.jsx)("option",{value:"completed",children:"Completed"})]}))]})]})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>t(-1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,mg.jsx)("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:r?(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)(lX,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})},dX=()=>{const{competitionId:e}=ie(),{user:t}=xg(),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(Array(10).fill({value:"",isX:!1})),[o,l]=(0,i.useState)("simple"),[c,u]=(0,i.useState)(4),[d,h]=(0,i.useState)(()=>Array.from({length:4},()=>({score:"",xCount:""}))),f=(0,Re.useQueryClient)(),{register:m,handleSubmit:p,formState:{errors:g},reset:v,watch:y,setValue:x}=ib(),{data:b}=(0,Re.useQuery)("competitions",async()=>(await gv()).data,{staleTime:3e5}),{data:w}=(0,Re.useQuery)(["user-competitions",null===t||void 0===t?void 0:t.id],async()=>{if(null===t||void 0===t||!t.id)return null;return(await Iv(t.id)).data},{enabled:!(null===t||void 0===t||!t.id),staleTime:12e4});(0,i.useEffect)(()=>{e&&r(e)},[e]);const j=(null!==w&&void 0!==w&&w.registered&&w.registered.length>0?w.registered:(null===b||void 0===b?void 0:b.competitions)||[]).filter(e=>!["draft","cancelled","archived"].includes(e.status));(0,i.useEffect)(()=>{n||1!==j.length||r(j[0].id)},[j,n]);const{data:N}=(0,Re.useQuery)(["competition",n],async()=>{var e;if(!n)return null;return(null===(e=(await yv(n)).data)||void 0===e?void 0:e.competition)||null},{enabled:!!n,staleTime:12e4});(0,i.useEffect)(()=>{const e=(null===N||void 0===N?void 0:N.shotsPerTarget)||10;e&&a.length!==e&&s(Array(e).fill({value:"",isX:!1}))},[N]),(0,i.useEffect)(()=>{var e;const t=(e=>{if(!e)return"";try{let t;if(t="object"===typeof e&&e.seconds?1e3*e.seconds:"number"===typeof e?e:Date.parse(e),Number.isNaN(t))return"";const n=new Date(t),r=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return"".concat(r,"-").concat(i,"-").concat(a)}catch(_t){return""}})((null===N||void 0===N||null===(e=N.schedule)||void 0===e?void 0:e.competitionDate)||(null===N||void 0===N?void 0:N.startDate));x("competitionDate",t)},[N,x]);const S=(0,Re.useMutation)(async e=>Array.isArray(e)?await Promise.all(e.map(e=>Nv(e))):await Nv(e),{onSuccess:()=>{nn.success("Score submitted successfully!"),v();const e=(null===N||void 0===N?void 0:N.shotsPerTarget)||10;s(Array(e).fill({value:"",isX:!1})),h(Array.from({length:4},()=>({score:"",xCount:""}))),u(4),f.invalidateQueries(["competition-scores",n]),f.invalidateQueries("scores")},onError:e=>{nn.error((null===e||void 0===e?void 0:e.message)||"Failed to submit score")}}),k=()=>a.reduce((e,t)=>e+(parseInt(t.value,10)||0),0),E=(0,i.useMemo)(()=>{const e=d.slice(0,c),t=e.reduce((e,t)=>e+(parseFloat(t.score)||0),0),n=e.reduce((e,t)=>e+(parseInt(t.xCount,10)||0),0);return{totalScore:t,totalX:n}},[d,c]),C=(e,t,n)=>{h(r=>{const i=[...r];return i[e]=Be(Be({},i[e]),{},{[t]:n}),i})};return(0,mg.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white mb-4 drop-shadow-lg",children:"Submit Score"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Submit your competition score with verification"})]}),(0,mg.jsxs)("form",{onSubmit:p(e=>{if(!n)return void nn.error("Please select a competition");if(!e.category)return void nn.error("Please select a category (22LR or Airgun 22cal)");if("simple"===o){const t=250,r=25,i=d.slice(0,c),a=i.some(e=>""!==e.score&&null!==e.score&&void 0!==e.score);if(!a)return void nn.error("Please enter at least one scorecard.");for(let e=0;e<i.length;e++){const n=parseFloat(i[e].score),a=""===i[e].xCount?0:parseInt(i[e].xCount,10);if(!Number.isFinite(n)||n<0||n>t)return void nn.error("Card ".concat(e+1,": Score must be between 0 and ").concat(t,"."));if(!Number.isInteger(a)||a<0||a>r)return void nn.error("Card ".concat(e+1,": X Count must be between 0 and ").concat(r,"."))}const s="".concat(Date.now(),"_").concat(Math.random().toString(16).slice(2)),o=i.map((t,r)=>({competitionId:n,category:e.category,score:Math.round(parseFloat(t.score)),tiebreakerData:{xCount:""===t.xCount?0:parseInt(t.xCount,10)},reportingMode:"simple",batchId:s,cardIndex:r+1,cardsInBatch:c}));return void S.mutate(o)}const t=k(),r=(null===N||void 0===N?void 0:N.shotsPerTarget)||10,i=a.filter(e=>e&&""!==e.value&&null!==e.value&&void 0!==e.value);if(i.length!==r)return void nn.error("This competition requires ".concat(r," shots. You entered ").concat(i.length,"."));if(0===t)return void nn.error("Please enter at least one shot score");const s={competitionId:n,category:e.category,score:Math.round(t),shots:a.map(e=>{var t;return{value:parseInt(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:"0",10)||0,isX:!0===(null===e||void 0===e?void 0:e.isX)}}).filter(e=>Number.isInteger(e.value)).slice(0,r),reportingMode:"advanced"};S.mutate(s)}),className:"space-y-8",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"h-5 w-5 mr-2"}),"Competition Details"]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Competition *"}),(0,mg.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mg.jsx)("option",{value:"",children:"Choose a competition..."}),j.map(e=>{var t;return(0,mg.jsxs)("option",{value:e.id,children:[e.title," - ",null!==(t=e.schedule)&&void 0!==t&&t.competitionDate?new Date(e.schedule.competitionDate).toLocaleDateString():e.startDate?new Date(e.startDate).toLocaleDateString():"TBD"]},e.id)})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Competition"}),(0,mg.jsx)("input",Be(Be({type:"date"},m("competitionDate")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weapon Category *"}),(0,mg.jsxs)("select",Be(Be({},m("category",{required:"Please select a weapon category"})),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mg.jsx)("option",{value:"",children:"Select category..."}),(0,mg.jsx)("option",{value:"22LR",children:"22LR"}),(0,mg.jsx)("option",{value:"Airgun 22cal",children:"Airgun 22cal"})]})),g.category&&(0,mg.jsx)("p",{className:"text-red-600 text-sm mt-1",children:g.category.message})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"h-5 w-5 mr-2"}),"Score Reporting"]}),(0,mg.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>l("simple"),className:"px-4 py-2 rounded-lg border text-sm font-semibold ".concat("simple"===o?"bg-blue-600 text-white border-blue-700":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"),children:"Simple (recommended)"}),(0,mg.jsx)("button",{type:"button",onClick:()=>l("advanced"),className:"px-4 py-2 rounded-lg border text-sm font-semibold ".concat("advanced"===o?"bg-blue-600 text-white border-blue-700":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"),children:"Advanced (shot-by-shot)"})]}),"simple"===o?(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,mg.jsxs)("p",{className:"text-sm text-gray-700",children:["Enter up to ",(0,mg.jsx)("strong",{children:"4 scorecards"})," at once. Each card is max ",(0,mg.jsx)("strong",{children:"250"})," and ",(0,mg.jsx)("strong",{children:"25X"}),"."]}),(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Cards"}),(0,mg.jsx)("select",{value:c,onChange:e=>u(parseInt(e.target.value,10)),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[1,2,3,4].map(e=>(0,mg.jsx)("option",{value:e,children:e},e))})]})]}),(0,mg.jsx)("div",{className:"overflow-x-auto",children:(0,mg.jsxs)("table",{className:"w-full text-sm",children:[(0,mg.jsx)("thead",{className:"bg-gray-50",children:(0,mg.jsxs)("tr",{children:[(0,mg.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"Card"}),(0,mg.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"Score (0\u2013250)"}),(0,mg.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"X Count (0\u201325)"})]})}),(0,mg.jsx)("tbody",{className:"divide-y",children:d.slice(0,c).map((e,t)=>(0,mg.jsxs)("tr",{children:[(0,mg.jsxs)("td",{className:"px-4 py-3 font-medium text-gray-900",children:["Card ",t+1]}),(0,mg.jsx)("td",{className:"px-4 py-3",children:(0,mg.jsx)("input",{type:"number",min:"0",max:"250",step:"1",value:e.score,onChange:e=>C(t,"score",e.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg",placeholder:"250"})}),(0,mg.jsx)("td",{className:"px-4 py-3",children:(0,mg.jsx)("input",{type:"number",min:"0",max:"25",step:"1",value:e.xCount,onChange:e=>C(t,"xCount",e.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg",placeholder:"25"})})]},t))})]})}),(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),(0,mg.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[E.totalScore.toFixed(1)," (",E.totalX,"X)"]})]}),(0,mg.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Tip: this will submit ",(0,mg.jsx)("strong",{children:c})," score entries (one per card) so leaderboards stay accurate."]})]})]}):(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("p",{className:"text-sm text-gray-700",children:["Optional: enter each shot for a single scorecard (good for tech-savvy shooters). Required shots for this competition: ",(0,mg.jsx)("strong",{children:(null===N||void 0===N?void 0:N.shotsPerTarget)||10})]}),(0,mg.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-10 gap-3 mb-4",children:a.map((e,t)=>(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Shot ",t+1]}),(0,mg.jsxs)("div",{className:"flex flex-col items-center gap-1 sm:flex-row sm:gap-2 sm:justify-center",children:[(0,mg.jsxs)("select",{value:e.value,onChange:e=>((e,t)=>{var n;const r=[...a],i=""===t?"":Math.max(0,Math.min(10,parseInt(t,10)||0));r[e]={value:i,isX:10===i&&(null===(n=r[e])||void 0===n?void 0:n.isX)||!1},s(r)})(t,e.target.value),className:"w-14 sm:w-16 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"",children:"--"}),Array.from({length:11},(e,t)=>t).map(e=>(0,mg.jsx)("option",{value:e,children:e},e))]}),(0,mg.jsxs)("label",{className:"flex items-center gap-1 text-xs",children:[(0,mg.jsx)("input",{type:"checkbox",checked:!!e.isX,onChange:e=>((e,t)=>{const n=[...a],r=n[e]||{value:"",isX:!1};n[e]=t?{value:10,isX:!0}:{value:r.value,isX:!1},s(n)})(t,e.target.checked)}),(0,mg.jsx)("span",{children:"X"})]})]})]},t))}),(0,mg.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mg.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total Score:"}),(0,mg.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[k()," (",a.filter(e=>10===parseInt(e.value,10)&&e.isX).length,"X)"]})]})})]})]}),(0,mg.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>{v();const e=(null===N||void 0===N?void 0:N.shotsPerTarget)||10;s(Array(e).fill({value:"",isX:!1})),h(Array.from({length:4},()=>({score:"",xCount:""}))),u(4),l("simple")},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Reset Form"}),(0,mg.jsx)("button",{type:"submit",disabled:S.isLoading,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:S.isLoading?(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)(lX,{className:"h-4 w-4 mr-2"}),"Submit Score"]})})]})]})]})},hX=()=>{const{data:e,isLoading:t,error:n}=(0,Re.useQuery)("test-competitions",async()=>{console.log("Testing competitions API...");const e=await gv({status:"published",limit:3});return console.log("Competitions API response:",e),e}),{data:r,isLoading:i,error:a}=(0,Re.useQuery)("test-leaderboard",async()=>{console.log("Testing leaderboard API...");const e=await _v.getOverall({limit:5});return console.log("Leaderboard API response:",e),e});return(0,mg.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold",children:"API Test Page"}),(0,mg.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,mg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Competitions API Test"}),(0,mg.jsxs)("div",{className:"mb-4",children:[(0,mg.jsxs)("p",{children:[(0,mg.jsx)("strong",{children:"Loading:"})," ",t?"Yes":"No"]}),(0,mg.jsxs)("p",{children:[(0,mg.jsx)("strong",{children:"Error:"})," ",n?n.message:"None"]})]}),(0,mg.jsx)("div",{className:"bg-gray-100 p-4 rounded",children:(0,mg.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e,null,2)})})]}),(0,mg.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,mg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Leaderboard API Test"}),(0,mg.jsxs)("div",{className:"mb-4",children:[(0,mg.jsxs)("p",{children:[(0,mg.jsx)("strong",{children:"Loading:"})," ",i?"Yes":"No"]}),(0,mg.jsxs)("p",{children:[(0,mg.jsx)("strong",{children:"Error:"})," ",a?a.message:"None"]})]}),(0,mg.jsx)("div",{className:"bg-gray-100 p-4 rounded",children:(0,mg.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(r,null,2)})})]})]})},fX=gy("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),mX=gy("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),pX=()=>{const[e,t]=(0,i.useState)(null);return(0,mg.jsxs)("div",{className:"space-y-8",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-20 w-auto mx-auto object-contain"})}),(0,mg.jsx)("h1",{className:"text-4xl font-bold text-white mb-4 drop-shadow-lg",children:"Shooting Classes"}),(0,mg.jsx)("p",{className:"text-xl text-white max-w-3xl mx-auto drop-shadow-md",children:"The X-Ring Classic features a comprehensive classification system designed to recognize skill progression and create fair competition across all levels of marksmanship."})]}),(0,mg.jsx)("div",{className:"text-center",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/GrandMasterClasses.png"),alt:"Grand Master Classes Classification System",className:"w-full max-w-4xl mx-auto rounded-lg shadow-lg"})}),(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsx)("h2",{className:"text-3xl font-bold text-white text-center mb-8 drop-shadow-lg",children:"\ud83d\udcca Classification Tiers"}),(0,mg.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{id:"grand-master",name:"Grand Master",icon:"\ud83d\udc51",color:"from-purple-600 to-purple-800",bgColor:"bg-purple-200",borderColor:"border-purple-500",average:"249.0 \u2013 250.0",xCount:"15+ average per card",description:"The elite \u2014 consistently near-perfect shooters.",requirements:"Consistently achieving near-perfect scores with exceptional X-count consistency."},{id:"master",name:"Master",icon:"\ud83c\udfc6",color:"from-blue-600 to-blue-800",bgColor:"bg-blue-200",borderColor:"border-blue-500",average:"247.0 \u2013 248.9",xCount:"10+ average per card",description:"State/national-level competitive shooters.",requirements:"High-level competitive shooters with excellent consistency and precision."},{id:"diamond",name:"Diamond",icon:"\ud83d\udc8e",color:"from-cyan-600 to-cyan-800",bgColor:"bg-cyan-200",borderColor:"border-cyan-500",average:"245.0 \u2013 246.9",xCount:"8+ average per card",description:"High-level, highly consistent shooters \u2014 usually in the running locally.",requirements:"Highly consistent shooters capable of competing at local championship levels."},{id:"platinum",name:"Platinum",icon:"\u26aa",color:"from-gray-600 to-gray-800",bgColor:"bg-slate-300",borderColor:"border-slate-500",average:"242.0 \u2013 244.9",xCount:"6+ average per card",description:"Skilled shooters with potential to move up with fine-tuning.",requirements:"Skilled shooters with strong fundamentals and potential for advancement."},{id:"gold",name:"Gold",icon:"\ud83e\udd47",color:"from-yellow-600 to-yellow-800",bgColor:"bg-yellow-300",borderColor:"border-yellow-500",average:"238.0 \u2013 241.9",xCount:"4+ average per card",description:"Developing shooters, capable of mid-pack performance.",requirements:"Developing shooters with solid fundamentals and competitive potential."},{id:"bronze",name:"Bronze",icon:"\ud83e\udd49",color:"from-orange-600 to-orange-800",bgColor:"bg-orange-300",borderColor:"border-orange-500",average:"Below 238.0",xCount:"Variable",description:"Beginner or learning shooter. Emphasis on improvement and fundamentals.",requirements:"Beginner shooters focused on learning fundamentals and continuous improvement."}].map(e=>(0,mg.jsxs)("div",{className:"".concat(e.bgColor," ").concat(e.borderColor," border-2 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer"),onClick:()=>t(e),children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,mg.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br ".concat(e.color," flex items-center justify-center"),children:(0,mg.jsx)(Ty,{classification:e.name,size:36})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:e.name}),(0,mg.jsx)("p",{className:"text-gray-600",children:e.description})]})]}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mg.jsx)("span",{className:"font-medium text-gray-700",children:"Average Score:"}),(0,mg.jsx)("span",{className:"font-bold text-gray-900",children:e.average})]}),(0,mg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mg.jsx)("span",{className:"font-medium text-gray-700",children:"X-Count:"}),(0,mg.jsx)("span",{className:"font-bold text-gray-900",children:e.xCount})]})]})]},e.id))})]}),e&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mg.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mg.jsx)(Ty,{classification:e.name,size:40}),(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:e.name})]}),(0,mg.jsx)("button",{onClick:()=>t(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsx)("p",{className:"text-gray-600 text-lg",children:e.description}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,mg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Score Requirements"}),(0,mg.jsxs)("p",{className:"text-gray-700",children:["Average: ",(0,mg.jsx)("span",{className:"font-bold",children:e.average})]}),(0,mg.jsxs)("p",{className:"text-gray-700",children:["X-Count: ",(0,mg.jsx)("span",{className:"font-bold",children:e.xCount})]})]}),(0,mg.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,mg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Class Requirements"}),(0,mg.jsx)("p",{className:"text-gray-700",children:e.requirements})]})]})]})]})}),(0,mg.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-8",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"\ud83d\udcdd Additional Rules"}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,mg.jsx)(LQ,{className:"w-6 h-6 text-green-600"}),(0,mg.jsx)("h3",{className:"font-semibold text-gray-900",children:"Promotion"})]}),(0,mg.jsx)("p",{className:"text-gray-600 text-sm",children:"When a shooter's average exceeds the threshold for a higher class, they are promoted at the end of the scoring cycle."})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,mg.jsx)(xy,{className:"w-6 h-6 text-blue-600"}),(0,mg.jsx)("h3",{className:"font-semibold text-gray-900",children:"Initial Classification"})]}),(0,mg.jsx)("p",{className:"text-gray-600 text-sm",children:"New shooters are placed in Gold class by default until 5 official cards are scored."})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,mg.jsx)(fX,{className:"w-6 h-6 text-purple-600"}),(0,mg.jsx)("h3",{className:"font-semibold text-gray-900",children:"Season Awards"})]}),(0,mg.jsx)("p",{className:"text-gray-600 text-sm",children:"Recognition given for Top Overall, Top X-Count, and Most Improved in addition to class winners."})]})]})]}),(0,mg.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-8",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"\u2705 Why This Works"}),(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,mg.jsx)("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2 flex-shrink-0"}),(0,mg.jsxs)("p",{className:"text-gray-700",children:[(0,mg.jsx)("strong",{children:"Fair Competition:"})," Keeps competition fair \u2014 new shooters don't get discouraged, while top shooters still face real competition."]})]}),(0,mg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,mg.jsx)("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2 flex-shrink-0"}),(0,mg.jsxs)("p",{className:"text-gray-700",children:[(0,mg.jsx)("strong",{children:"Clear Progression Path:"})," Creates a progression path (Bronze \u2192 Gold \u2192 Platinum \u2192 Diamond \u2192 Master \u2192 Grand Master)."]})]}),(0,mg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,mg.jsx)("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2 flex-shrink-0"}),(0,mg.jsxs)("p",{className:"text-gray-700",children:[(0,mg.jsx)("strong",{children:"Comprehensive Recognition:"})," Recognizes not just point totals, but X-count consistency."]})]})]})]}),(0,mg.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,mg.jsx)(mX,{className:"w-6 h-6 text-blue-600"}),(0,mg.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"How Classes Work"})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Class Progression"}),(0,mg.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,mg.jsx)("li",{children:"\u2022 Classes are determined by your average score across recent competitions"}),(0,mg.jsx)("li",{children:"\u2022 You need to complete the required number of competitions to qualify"}),(0,mg.jsx)("li",{children:"\u2022 Promotion to higher classes happens automatically when you meet the criteria"}),(0,mg.jsx)("li",{children:"\u2022 Your class is updated after each competition"})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Competition Categories"}),(0,mg.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,mg.jsxs)("li",{children:["\u2022 ",(0,mg.jsx)("strong",{children:"Indoor:"})," Controlled environment competitions"]}),(0,mg.jsxs)("li",{children:["\u2022 ",(0,mg.jsx)("strong",{children:"Outdoor:"})," Weather-affected competitions"]}),(0,mg.jsxs)("li",{children:["\u2022 ",(0,mg.jsx)("strong",{children:"Overall:"})," Combined performance across both categories"]})]})]})]})]})]})},gX=gy("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),vX=gy("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yX=()=>{var e,t,n,r,a,s;const[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(""),d=(0,Re.useQueryClient)(),{data:h,isLoading:f,error:m}=(0,Re.useQuery)("pending-verification",Cv,{staleTime:3e4,refetchInterval:3e4}),p=(0,Re.useMutation)(e=>{let{scoreId:t,status:n,notes:r}=e;return Ev(t,n,r)},{onSuccess:(e,t)=>{nn.success("Score ".concat(t.status," successfully")),d.invalidateQueries("pending-verification"),l(null),u("")},onError:e=>{var t,n;nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to verify score")}}),g=(e,t)=>{p.mutate({scoreId:e,status:t,notes:c})},v=e=>{switch(e){case"pending":return(0,mg.jsx)(wy,{className:"w-5 h-5 text-yellow-500"});case"approved":return(0,mg.jsx)(Ey,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,mg.jsx)(gX,{className:"w-5 h-5 text-red-500"});case"flagged":return(0,mg.jsx)(FQ,{className:"w-5 h-5 text-orange-500"});default:return(0,mg.jsx)(wy,{className:"w-5 h-5 text-gray-600"})}};if(f)return(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(m)return(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading pending scores"}),(0,mg.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]});const y=(null===h||void 0===h?void 0:h.scores)||[];return(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("h1",{className:"text-4xl font-bold text-white mb-4 drop-shadow-lg",children:"Score Verification"}),(0,mg.jsx)("p",{className:"text-xl text-white max-w-3xl mx-auto drop-shadow-md",children:"Review and verify pending score submissions from competitors"})]}),(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(wy,{className:"w-8 h-8 text-yellow-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Pending"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:y.length})]})]})})}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,mg.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Verifications"})}),0===y.length?(0,mg.jsxs)("div",{className:"p-8 text-center",children:[(0,mg.jsx)(Ey,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,mg.jsx)("p",{className:"text-gray-700",children:"No pending scores to verify"})]}):(0,mg.jsx)("div",{className:"divide-y divide-gray-200",children:y.map(e=>{var t,n,r,i,a;return(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-start justify-between",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[v(e.verificationStatus),(0,mg.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[null===(t=e.competitor)||void 0===t?void 0:t.firstName," ",null===(n=e.competitor)||void 0===n?void 0:n.lastName]}),(0,mg.jsxs)("span",{className:"text-sm text-gray-700",children:["(@",null===(r=e.competitor)||void 0===r?void 0:r.username,")"]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(by,{className:"w-4 h-4 text-gray-600"}),(0,mg.jsx)("span",{className:"text-sm text-gray-700",children:null===(i=e.competition)||void 0===i?void 0:i.title})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Score"}),(0,mg.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[e.score,"/100"]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Perfect Shots"}),(0,mg.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(null===(a=e.tiebreakerData)||void 0===a?void 0:a.perfectShots)||0})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Submitted"}),(0,mg.jsx)("p",{className:"text-sm text-gray-900",children:new Date(e.createdAt).toLocaleDateString()})]})]}),e.evidence&&(0,mg.jsxs)("div",{className:"mb-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Evidence:"}),(0,mg.jsxs)("div",{className:"flex space-x-4",children:[e.evidence.photoUrl&&(0,mg.jsxs)("a",{href:e.evidence.photoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800",children:[(0,mg.jsx)(vX,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"View Photo"})]}),e.evidence.videoUrl&&(0,mg.jsxs)("a",{href:e.evidence.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800",children:[(0,mg.jsx)(vX,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"View Video"})]})]})]}),e.notes&&(0,mg.jsxs)("div",{className:"mb-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Notes:"}),(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:e.notes})]})]}),(0,mg.jsx)("div",{className:"ml-6 flex flex-col space-y-2",children:(0,mg.jsx)("button",{onClick:()=>l(e),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Review Details"})})]}),(0,mg.jsxs)("div",{className:"flex space-x-3 mt-4",children:[(0,mg.jsxs)("button",{onClick:()=>g(e.id,"approved"),disabled:p.isLoading,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,mg.jsx)(Ey,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Approve"})]}),(0,mg.jsxs)("button",{onClick:()=>g(e.id,"rejected"),disabled:p.isLoading,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[(0,mg.jsx)(gX,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Reject"})]})]})]},e.id)})})]}),o&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mg.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Score"}),(0,mg.jsx)("button",{onClick:()=>l(null),className:"text-gray-600 hover:text-gray-800",children:(0,mg.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Score Details"}),(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Competitor"}),(0,mg.jsxs)("p",{className:"font-medium",children:[null===(e=o.competitor)||void 0===e?void 0:e.firstName," ",null===(t=o.competitor)||void 0===t?void 0:t.lastName]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-700",children:"Competition"}),(0,mg.jsx)("p",{className:"font-medium",children:null===(n=o.competition)||void 0===n?void 0:n.title})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Score"}),(0,mg.jsxs)("p",{className:"text-2xl font-bold",children:[o.score,"/100"]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Perfect Shots"}),(0,mg.jsx)("p",{className:"font-medium",children:(null===(r=o.tiebreakerData)||void 0===r?void 0:r.perfectShots)||0})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"X Count"}),(0,mg.jsx)("p",{className:"font-medium",children:(null===(a=o.tiebreakerData)||void 0===a?void 0:a.xCount)||0})]})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shot Details"}),(0,mg.jsx)("div",{className:"grid grid-cols-10 gap-2",children:null===(s=o.shots)||void 0===s?void 0:s.map((e,t)=>(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("div",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-medium ".concat(e.isX?"border-blue-500 text-blue-600":"border-gray-300"),children:e.isX?"X":e.value}),(0,mg.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Shot ",t+1]})]},t))})]}),o.evidence&&(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Evidence"}),(0,mg.jsxs)("div",{className:"space-y-4",children:[o.evidence.photoUrl&&(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Photo:"}),(0,mg.jsx)("a",{href:o.evidence.photoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"View Photo"})]}),o.evidence.videoUrl&&(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Video:"}),(0,mg.jsx)("a",{href:o.evidence.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"View Video"})]})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Verification Notes"}),(0,mg.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),placeholder:"Add notes about your verification decision...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4})]}),(0,mg.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mg.jsx)("button",{onClick:()=>l(null),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,mg.jsx)("button",{onClick:()=>g(o.id,"rejected"),disabled:p.isLoading,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"}),(0,mg.jsx)("button",{onClick:()=>g(o.id,"approved"),disabled:p.isLoading,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:"Approve"})]})]})]})})})]})},xX=gy("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),bX=gy("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),wX=gy("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jX=gy("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),NX=()=>{var e,t,n,r;const[a,s]=(0,i.useState)("admins"),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[f,m]=(0,i.useState)(null),[p,g]=(0,i.useState)({username:"",email:"",password:"",firstName:"",lastName:"",rangeName:"",rangeLocation:"",phone:""}),[v,y]=(0,i.useState)({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",website:"",description:"",facilities:"",contactName:"",contactEmail:"",contactPhone:""}),x=(0,Re.useQueryClient)(),{data:b,isLoading:w,error:j}=(0,Re.useQuery)("range-admins",()=>Vv(),{staleTime:3e5,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:N,isLoading:S}=(0,Re.useQuery)("ranges",()=>Hv({active:!0}),{staleTime:3e5}),k=(0,Re.useMutation)(e=>qv(e),{onSuccess:()=>{nn.success("Range admin account created successfully"),x.invalidateQueries(["range-admins"]),x.refetchQueries(["range-admins"]),l(!1),g({username:"",email:"",password:"",firstName:"",lastName:"",rangeName:"",rangeLocation:"",phone:""})},onError:e=>{nn.error(e.message||"Failed to create range admin account")}}),E=(0,Re.useMutation)(e=>Qv(e),{onSuccess:()=>{nn.success("Range created successfully"),x.invalidateQueries(["ranges"]),u(!1),y({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",website:"",description:"",facilities:"",contactName:"",contactEmail:"",contactPhone:""})},onError:e=>{nn.error(e.message||"Failed to create range")}}),C=(0,Re.useMutation)(e=>{let{id:t,data:n}=e;return Xv(t,n)},{onSuccess:()=>{nn.success("Range updated successfully"),x.invalidateQueries(["ranges"]),m(null)},onError:e=>{nn.error(e.message||"Failed to update range")}}),_=(0,Re.useMutation)(e=>Gv(e),{onSuccess:()=>{nn.success("Range deactivated successfully"),x.invalidateQueries(["ranges"])},onError:e=>{nn.error(e.message||"Failed to deactivate range")}}),O=e=>{const{name:t,value:n}=e.target;g(e=>Be(Be({},e),{},{[t]:n}))},T=e=>{const{name:t,value:n}=e.target;y(e=>Be(Be({},e),{},{[t]:n}))};if(w||S)return(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(j)return(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading data"}),(0,mg.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]});const A=(null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.rangeAdmins)||(null===b||void 0===b?void 0:b.rangeAdmins)||[];console.log("Range admins data:",b),console.log("Range admins data.rangeAdmins:",null===b||void 0===b?void 0:b.rangeAdmins),console.log("Range admins data.data.rangeAdmins:",null===b||void 0===b||null===(t=b.data)||void 0===t?void 0:t.rangeAdmins),console.log("Range admins list:",A),console.log("List length:",A.length);const P=(null===N||void 0===N||null===(n=N.data)||void 0===n?void 0:n.ranges)||[];return(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"text-4xl font-bold text-white mb-4 drop-shadow-lg",children:"Range Management"}),(0,mg.jsx)("p",{className:"text-xl text-white drop-shadow-md",children:"Manage range admin accounts and shooting ranges"})]}),"admins"===a?(0,mg.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,mg.jsx)(MQ,{className:"w-5 h-5"}),(0,mg.jsx)("span",{children:"Create Range Admin"})]}):(0,mg.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,mg.jsx)(MQ,{className:"w-5 h-5"}),(0,mg.jsx)("span",{children:"Add Range"})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,mg.jsx)("div",{className:"border-b border-gray-200",children:(0,mg.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,mg.jsx)("button",{onClick:()=>s("admins"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("admins"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(qQ,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Range Admins"})]})}),(0,mg.jsx)("button",{onClick:()=>s("ranges"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("ranges"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(xX,{className:"w-4 h-4"}),(0,mg.jsx)("span",{children:"Ranges"})]})})]})}),(0,mg.jsx)("div",{className:"p-6",children:"admins"===a?(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,mg.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(qQ,{className:"w-8 h-8 text-blue-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Range Admins"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A.length})]})]})}),(0,mg.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(bX,{className:"w-8 h-8 text-green-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A.filter(e=>!1!==e.isActive).length})]})]})})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,mg.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Range Admin Accounts"})}),0===A.length?(0,mg.jsxs)("div",{className:"p-8 text-center",children:[(0,mg.jsx)(qQ,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"No range admin accounts created yet"}),(0,mg.jsx)("button",{onClick:()=>l(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create First Range Admin"})]}):(0,mg.jsx)("div",{className:"divide-y divide-gray-200",children:A.map(e=>{var t;return(0,mg.jsx)("div",{className:"p-6",children:(0,mg.jsxs)("div",{className:"flex items-start justify-between",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(qQ,{className:"w-5 h-5 text-blue-500"}),(0,mg.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[e.firstName," ",e.lastName]}),(0,mg.jsxs)("span",{className:"text-sm text-gray-500",children:["(@",e.username,")"]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(yy,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:e.rangeName})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(wX,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:e.email})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(yy,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:e.rangeLocation})]}),e.phone&&(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(jX,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:e.phone})]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"}),(0,mg.jsxs)("span",{className:"text-xs text-gray-500",children:["Created: ",null!==(t=e.createdAt)&&void 0!==t&&t._seconds?new Date(1e3*e.createdAt._seconds).toLocaleDateString():new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,mg.jsx)("div",{className:"ml-6 flex flex-col space-y-2",children:(0,mg.jsx)("button",{onClick:()=>h(e),className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:(0,mg.jsx)(vX,{className:"w-4 h-4"})})})]})},e.id)})})]})]}):(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,mg.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(xX,{className:"w-8 h-8 text-blue-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Ranges"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.length})]})]})}),(0,mg.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(yy,{className:"w-8 h-8 text-green-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Ranges"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.filter(e=>!1!==e.isActive).length})]})]})})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,mg.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Shooting Ranges"})}),0===P.length?(0,mg.jsxs)("div",{className:"p-8 text-center",children:[(0,mg.jsx)(xX,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"No ranges added yet"}),(0,mg.jsx)("button",{onClick:()=>u(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add First Range"})]}):(0,mg.jsx)("div",{className:"divide-y divide-gray-200",children:P.map(e=>(0,mg.jsx)("div",{className:"p-6",children:(0,mg.jsxs)("div",{className:"flex items-start justify-between",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(xX,{className:"w-5 h-5 text-blue-500"}),(0,mg.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:e.name})]}),(0,mg.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(!1!==e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:!1!==e.isActive?"Active":"Inactive"})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(yy,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsxs)("span",{className:"text-sm text-gray-600",children:[e.address,", ",e.city,", ",e.state," ",e.zipCode]})]}),e.phone&&(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(jX,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:e.phone})]}),e.email&&(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(wX,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("span",{className:"text-sm text-gray-600",children:e.email})]}),e.website&&(0,mg.jsx)("div",{className:"flex items-center space-x-2",children:(0,mg.jsx)("span",{className:"text-sm text-blue-600",children:(0,mg.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.website})})})]}),e.description&&(0,mg.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.facilities&&(0,mg.jsxs)("p",{className:"text-xs text-gray-500",children:["Facilities: ",e.facilities]})]}),(0,mg.jsxs)("div",{className:"ml-6 flex flex-col space-y-2",children:[(0,mg.jsx)("button",{onClick:()=>{m(e),y({name:e.name||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",phone:e.phone||"",email:e.email||"",website:e.website||"",description:e.description||"",facilities:e.facilities||"",contactName:e.contactName||"",contactEmail:e.contactEmail||"",contactPhone:e.contactPhone||""}),u(!0)},className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:(0,mg.jsx)(Ny,{className:"w-4 h-4"})}),(0,mg.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to deactivate this range? It will no longer appear in competition creation.")&&_.mutate(t));var t},className:"px-3 py-1 text-sm font-medium text-red-700 bg-red-100 rounded-lg hover:bg-red-200",children:(0,mg.jsx)(Sy,{className:"w-4 h-4"})})]})]})},e.id))})]})]})})]}),o&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mg.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Range Admin Account"}),(0,mg.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:(0,mg.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mg.jsxs)("form",{onSubmit:e=>{e.preventDefault(),k.mutate(p)},className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,mg.jsx)("input",{type:"text",name:"firstName",value:p.firstName,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,mg.jsx)("input",{type:"text",name:"lastName",value:p.lastName,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),(0,mg.jsx)("input",{type:"text",name:"username",value:p.username,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,mg.jsx)("input",{type:"email",name:"email",value:p.email,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,mg.jsx)("input",{type:"password",name:"password",value:p.password,onChange:O,required:!0,minLength:6,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Range Name *"}),(0,mg.jsx)("input",{type:"text",name:"rangeName",value:p.rangeName,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Range Location *"}),(0,mg.jsx)("input",{type:"text",name:"rangeLocation",value:p.rangeLocation,onChange:O,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,mg.jsx)("input",{type:"tel",name:"phone",value:p.phone,onChange:O,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,mg.jsx)("button",{type:"submit",disabled:k.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:k.isLoading?"Creating...":"Create Range Admin"})]})]})]})})}),d&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mg.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Range Admin Details"}),(0,mg.jsx)("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:(0,mg.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Name"}),(0,mg.jsxs)("p",{className:"font-medium",children:[d.firstName," ",d.lastName]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Username"}),(0,mg.jsxs)("p",{className:"font-medium",children:["@",d.username]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,mg.jsx)("p",{className:"font-medium",children:d.email})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,mg.jsx)("p",{className:"font-medium",children:d.phone||"Not provided"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Range Name"}),(0,mg.jsx)("p",{className:"font-medium",children:d.rangeName})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Range Location"}),(0,mg.jsx)("p",{className:"font-medium",children:d.rangeLocation})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,mg.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(d.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:d.isActive?"Active":"Inactive"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Created"}),(0,mg.jsx)("p",{className:"font-medium",children:null!==(r=d.createdAt)&&void 0!==r&&r._seconds?new Date(1e3*d.createdAt._seconds).toLocaleDateString():new Date(d.createdAt).toLocaleDateString()})]})]}),(0,mg.jsx)("div",{className:"flex justify-end",children:(0,mg.jsx)("button",{onClick:()=>h(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Close"})})]})]})})}),c&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mg.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mg.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:f?"Edit Range":"Add New Range"}),(0,mg.jsx)("button",{onClick:()=>{u(!1),m(null),y({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",website:"",description:"",facilities:"",contactName:"",contactEmail:"",contactPhone:""})},className:"text-gray-400 hover:text-gray-600",children:(0,mg.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mg.jsxs)("form",{onSubmit:f?e=>{e.preventDefault(),f&&C.mutate({id:f.id,data:v})}:e=>{e.preventDefault(),E.mutate(v)},className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{className:"md:col-span-2",children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Range Name *"}),(0,mg.jsx)("input",{type:"text",name:"name",value:v.name,onChange:T,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{className:"md:col-span-2",children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),(0,mg.jsx)("input",{type:"text",name:"address",value:v.address,onChange:T,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,mg.jsx)("input",{type:"text",name:"city",value:v.city,onChange:T,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,mg.jsx)("input",{type:"text",name:"state",value:v.state,onChange:T,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),(0,mg.jsx)("input",{type:"text",name:"zipCode",value:v.zipCode,onChange:T,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,mg.jsx)("input",{type:"tel",name:"phone",value:v.phone,onChange:T,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,mg.jsx)("input",{type:"email",name:"email",value:v.email,onChange:T,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),(0,mg.jsx)("input",{type:"url",name:"website",value:v.website,onChange:T,placeholder:"https://...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{className:"md:col-span-2",children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,mg.jsx)("textarea",{name:"description",value:v.description,onChange:T,rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the range..."})]}),(0,mg.jsxs)("div",{className:"md:col-span-2",children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facilities"}),(0,mg.jsx)("input",{type:"text",name:"facilities",value:v.facilities,onChange:T,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Indoor/Outdoor, 25yd/50yd lanes, etc."})]}),(0,mg.jsx)("div",{className:"md:col-span-2 border-t pt-4",children:(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"})}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),(0,mg.jsx)("input",{type:"text",name:"contactName",value:v.contactName,onChange:T,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),(0,mg.jsx)("input",{type:"email",name:"contactEmail",value:v.contactEmail,onChange:T,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),(0,mg.jsx)("input",{type:"tel",name:"contactPhone",value:v.contactPhone,onChange:T,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,mg.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>{u(!1),m(null),y({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",website:"",description:"",facilities:"",contactName:"",contactEmail:"",contactPhone:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,mg.jsx)("button",{type:"submit",disabled:E.isLoading||C.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:E.isLoading||C.isLoading?"Saving...":f?"Update Range":"Create Range"})]})]})]})})})]})};function SX(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function kX(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function EX(e){kX(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Le(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function CX(e){kX(1,arguments);var t=EX(e);return t.setHours(0,0,0,0),t}var _X={};function OX(){return _X}function TX(e,t){kX(2,arguments);var n=EX(e),r=EX(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function AX(e){kX(1,arguments);var t=EX(e);return function(e){kX(1,arguments);var t=EX(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){kX(1,arguments);var t=EX(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function PX(e,t){kX(2,arguments);var n,r=EX(e),i=EX(t),a=TX(r,i),s=Math.abs(function(e,t){kX(2,arguments);var n=EX(e),r=EX(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);var o=TX(r,i)===-a;AX(EX(e))&&1===s&&1===TX(e,i)&&(o=!1),n=a*(s-Number(o))}return 0===n?0:n}var IX={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function DX(e,t,n){kX(2,arguments);var r,i=function(e,t){return kX(2,arguments),EX(e).getTime()-EX(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?IX[r]:IX.trunc)(i)}var RX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const MX=function(e,t,n){var r,i=RX[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function LX(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const FX={date:LX({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:LX({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:LX({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var UX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const zX=function(e,t,n,r){return UX[e]};function BX(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var s=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const VX={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:BX({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:BX({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:BX({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:BX({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:BX({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function qX(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var s,o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(o)});return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(o.length)}}}var HX,WX={ordinalNumber:(HX={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(HX.matchPattern);if(!n)return null;var r=n[0],i=e.match(HX.parsePattern);if(!i)return null;var a=HX.valueCallback?HX.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(r.length)}}),era:qX({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:qX({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:qX({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qX({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:qX({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const KX={code:"en-US",formatDistance:MX,formatLong:FX,formatRelative:zX,localize:VX,match:WX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QX(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var XX=43200;function GX(e,t,n){var r,i;kX(2,arguments);var a=OX(),s=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:a.locale)&&void 0!==r?r:KX;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=TX(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l,c,u=QX(function(e){return QX({},e)}(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:o});o>0?(l=EX(t),c=EX(e)):(l=EX(e),c=EX(t));var d,h=DX(c,l),f=(SX(c)-SX(l))/1e3,m=Math.round((h-f)/60);if(m<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===m?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",m,u);if(m<45)return s.formatDistance("xMinutes",m,u);if(m<90)return s.formatDistance("aboutXHours",1,u);if(m<1440){var p=Math.round(m/60);return s.formatDistance("aboutXHours",p,u)}if(m<2520)return s.formatDistance("xDays",1,u);if(m<XX){var g=Math.round(m/1440);return s.formatDistance("xDays",g,u)}if(m<86400)return d=Math.round(m/XX),s.formatDistance("aboutXMonths",d,u);if((d=PX(c,l))<12){var v=Math.round(m/XX);return s.formatDistance("xMonths",v,u)}var y=d%12,x=Math.floor(d/12);return y<3?s.formatDistance("aboutXYears",x,u):y<9?s.formatDistance("overXYears",x,u):s.formatDistance("almostXYears",x+1,u)}function YX(e,t){return kX(1,arguments),GX(e,Date.now(),t)}function $X(e){if(kX(1,arguments),!function(e){return kX(1,arguments),e instanceof Date||"object"===Le(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=EX(e);return!isNaN(Number(t))}function JX(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ZX(e,t){return kX(2,arguments),function(e,t){kX(2,arguments);var n=EX(e).getTime(),r=JX(t);return new Date(n+r)}(e,-JX(t))}function eG(e){kX(1,arguments);var t=EX(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function tG(e){kX(1,arguments);var t=EX(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=eG(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var s=eG(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function nG(e){kX(1,arguments);var t=EX(e),n=eG(t).getTime()-function(e){kX(1,arguments);var t=tG(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),eG(n)}(t).getTime();return Math.round(n/6048e5)+1}function rG(e,t){var n,r,i,a,s,o,l,c;kX(1,arguments);var u=OX(),d=JX(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=EX(e),f=h.getUTCDay(),m=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function iG(e,t){var n,r,i,a,s,o,l,c;kX(1,arguments);var u=EX(e),d=u.getUTCFullYear(),h=OX(),f=JX(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,f),m.setUTCHours(0,0,0,0);var p=rG(m,t),g=new Date(0);g.setUTCFullYear(d,0,f),g.setUTCHours(0,0,0,0);var v=rG(g,t);return u.getTime()>=p.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function aG(e,t){kX(1,arguments);var n=EX(e),r=rG(n,t).getTime()-function(e,t){var n,r,i,a,s,o,l,c;kX(1,arguments);var u=OX(),d=JX(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=iG(e,t),f=new Date(0);return f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0),rG(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function sG(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var oG={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return sG("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):sG(n+1,2)},d:function(e,t){return sG(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return sG(e.getUTCHours()%12||12,t.length)},H:function(e,t){return sG(e.getUTCHours(),t.length)},m:function(e,t){return sG(e.getUTCMinutes(),t.length)},s:function(e,t){return sG(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return sG(Math.floor(r*Math.pow(10,n-3)),t.length)}};const lG=oG;var cG="midnight",uG="noon",dG="morning",hG="afternoon",fG="evening",mG="night",pG={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return lG.y(e,t)},Y:function(e,t,n,r){var i=iG(e,r),a=i>0?i:1-i;return"YY"===t?sG(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):sG(a,t.length)},R:function(e,t){return sG(tG(e),t.length)},u:function(e,t){return sG(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return sG(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return sG(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return lG.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return sG(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=aG(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):sG(i,t.length)},I:function(e,t,n){var r=nG(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):sG(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):lG.d(e,t)},D:function(e,t,n){var r=function(e){kX(1,arguments);var t=EX(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):sG(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return sG(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return sG(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return sG(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?uG:0===i?cG:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?fG:i>=12?hG:i>=4?dG:mG,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return lG.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):lG.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):sG(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):sG(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):lG.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):lG.s(e,t)},S:function(e,t){return lG.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return vG(i);case"XXXX":case"XX":return yG(i);default:return yG(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return vG(i);case"xxxx":case"xx":return yG(i);default:return yG(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gG(i,":");default:return"GMT"+yG(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gG(i,":");default:return"GMT"+yG(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return sG(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return sG((r._originalDate||e).getTime(),t.length)}};function gG(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var s=t||"";return n+String(i)+s+sG(a,2)}function vG(e,t){return e%60===0?(e>0?"-":"+")+sG(Math.abs(e)/60,2):yG(e,t)}function yG(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+sG(Math.floor(i/60),2)+n+sG(i%60,2)}const xG=pG;var bG=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},wG=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},jG={p:wG,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return bG(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",bG(i,t)).replace("{{time}}",wG(a,t))}};const NG=jG;var SG=["D","DD"],kG=["YY","YYYY"];function EG(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var CG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_G=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OG=/^'([^]*?)'?$/,TG=/''/g,AG=/[a-zA-Z]/;function PG(e,t,n){var r,i,a,s,o,l,c,u,d,h,f,m,p,g,v,y,x,b;kX(2,arguments);var w=String(t),j=OX(),N=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:j.locale)&&void 0!==r?r:KX,S=JX(null!==(a=null!==(s=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:j.firstWeekContainsDate)&&void 0!==s?s:null===(d=j.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==a?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=JX(null!==(f=null!==(m=null!==(p=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==p?p:j.weekStartsOn)&&void 0!==m?m:null===(x=j.locale)||void 0===x||null===(b=x.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var E=EX(e);if(!$X(E))throw new RangeError("Invalid time value");var C=ZX(E,SX(E)),_={firstWeekContainsDate:S,weekStartsOn:k,locale:N,_originalDate:E};return w.match(_G).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,NG[t])(e,N.formatLong):e}).join("").match(CG).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(OG);if(!t)return e;return t[1].replace(TG,"'")}(r);var a,s=xG[i];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(a=r,-1===kG.indexOf(a))||EG(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==SG.indexOf(e)}(r)||EG(r,t,String(e)),s(C,r,N.localize,_);if(i.match(AG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}const IG=()=>{var e,t,n;const r=ne(),{user:a}=xg(),[s,o]=((0,Re.useQueryClient)(),(0,i.useState)("30-days")),{data:l,isLoading:c}=(0,Re.useQuery)(["range-admin-range",null===a||void 0===a?void 0:a.id],()=>Kv(null===a||void 0===a?void 0:a.id),{enabled:!(null===a||void 0===a||!a.id),staleTime:6e5}),u=e=>{if(!e)return null;if(e.toDate)return e.toDate();if(e.seconds)return new Date(1e3*e.seconds);if("string"===typeof e){const t=Date.parse(e);return Number.isNaN(t)?null:new Date(t)}return e instanceof Date?e:null},d=null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.range,h=null===d||void 0===d?void 0:d.id,f=(null===d||void 0===d?void 0:d.name)||(null===a||void 0===a?void 0:a.rangeName),{data:m,isLoading:p}=(0,Re.useQuery)(["range-admin-dashboard",h,s],()=>Yv.getDashboard({rangeId:h,period:s}),{enabled:!!h,staleTime:3e5}),g=(null===m||void 0===m?void 0:m.range)||d,{data:v,isLoading:y}=(0,Re.useQuery)(["range-competitions",h],()=>vv(h),{enabled:!!h,staleTime:3e5}),{data:x,isLoading:b}=(0,Re.useQuery)(["range-pending-scores",h],()=>Yv.getPendingScores({rangeId:h}),{enabled:!!h,staleTime:12e4}),w=(null===m||void 0===m?void 0:m.stats)||{},j=(null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.competitions)||[],N=(null===x||void 0===x||null===(n=x.data)||void 0===n?void 0:n.scores)||[],S=(null===m||void 0===m?void 0:m.revenue)||{},k=(null===m||void 0===m?void 0:m.payment)||{},E=S.entries||[],C=E.slice(0,5),_=(0,i.useMemo)(()=>{const e=new Map;return j.forEach(t=>{null!==t&&void 0!==t&&t.id&&e.set(t.id,t.title||t.name||t.rangeName||"Competition")}),e},[j]),O=(k.subscriptionStatus||(null===g||void 0===g?void 0:g.subscriptionStatus)||(null===a||void 0===a?void 0:a.subscriptionStatus)||"inactive").toLowerCase(),T=u(k.renewalDate||(null===g||void 0===g?void 0:g.subscriptionRenewalDate)||(null===a||void 0===a?void 0:a.subscriptionRenewalDate)),A=u(k.lastPaymentDate||(null===g||void 0===g?void 0:g.subscriptionLastPaymentDate)||(null===a||void 0===a?void 0:a.subscriptionLastPaymentDate)),P=k.currency||(null===g||void 0===g?void 0:g.subscriptionCurrency)||"USD",I=k.amount||(null===g||void 0===g?void 0:g.subscriptionAmount)||20,D=(0,i.useMemo)(()=>new Intl.NumberFormat("en-US",{style:"currency",currency:P}),[P]),R=e=>D.format(e||0),M=w.totalRevenue||0,L=w.revenueThisPeriod||0,F=w.revenueEntryCount||E.length||0,U=T?function(e,t){kX(2,arguments);var n=CX(e),r=CX(t),i=n.getTime()-SX(n),a=r.getTime()-SX(r);return Math.round((i-a)/864e5)}(T,new Date):null,z=T?YX(T,{addSuffix:!0}):null,B=T?PG(T,"PPP"):"Not scheduled",V=A?PG(A,"PPP"):"No payments yet",q="active"!==O,H=!q&&T&&null!==U&&U>=0&&U<=7,W="active"===O?"bg-green-100 text-green-700":"bg-red-100 text-red-700",K=()=>r("/range-admin/subscription");return c||p?(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g||f?(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center mb-8",children:[(0,mg.jsx)("div",{className:"mb-6",children:(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-20 w-auto mx-auto object-contain"})}),(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Range Admin Dashboard"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:f})]}),(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("div",{}),(0,mg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mg.jsxs)("button",{onClick:()=>r("/admin/create-competition"),disabled:q,className:"px-4 py-2 rounded-lg transition-colors flex items-center ".concat(q?"bg-blue-300 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[(0,mg.jsx)(MQ,{className:"w-4 h-4 mr-2"}),"Create Competition"]}),(0,mg.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mg.jsx)("option",{value:"7-days",children:"Last 7 Days"}),(0,mg.jsx)("option",{value:"30-days",children:"Last 30 Days"}),(0,mg.jsx)("option",{value:"90-days",children:"Last 90 Days"}),(0,mg.jsx)("option",{value:"1-year",children:"Last Year"})]})]})]}),q&&(0,mg.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3 text-red-700",children:[(0,mg.jsx)(FQ,{className:"h-5 w-5 mt-0.5"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"font-semibold",children:"Subscription inactive"}),(0,mg.jsx)("p",{className:"text-sm",children:"Renew your subscription to regain full access to range admin tools."}),(0,mg.jsx)("button",{onClick:K,className:"mt-2 inline-flex text-sm font-medium text-red-700 hover:text-red-800",children:"Manage subscription"})]})]}),H&&(0,mg.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start space-x-3 text-amber-800",children:[(0,mg.jsx)(wy,{className:"h-5 w-5 mt-0.5"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"font-semibold",children:"Renewal approaching"}),(0,mg.jsxs)("p",{className:"text-sm",children:["Your subscription renews ",z,". Ensure your payment method is current."]})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,mg.jsx)(by,{className:"h-6 w-6 text-green-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Competitions"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.activeCompetitions||0})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"h-4 w-4 text-blue-500"}),(0,mg.jsxs)("span",{className:"ml-2 text-sm text-blue-600",children:[w.totalCompetitions||0," total"]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,mg.jsx)(wy,{className:"h-6 w-6 text-yellow-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Scores"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.pendingScores||0})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,mg.jsx)(FQ,{className:"h-4 w-4 text-yellow-500"}),(0,mg.jsx)("span",{className:"ml-2 text-sm text-yellow-600",children:"Need verification"})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,mg.jsx)(xy,{className:"h-6 w-6 text-blue-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Registrations"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.totalRegistrations||0})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,mg.jsx)(LQ,{className:"h-4 w-4 text-green-500"}),(0,mg.jsxs)("span",{className:"ml-2 text-sm text-green-600",children:["+",w.newRegistrationsThisPeriod||0," this period"]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,mg.jsx)(UQ,{className:"h-6 w-6 text-purple-600"})}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Range Revenue"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:R(M)})]})]}),(0,mg.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(LQ,{className:"h-4 w-4 text-green-500"}),(0,mg.jsxs)("span",{className:"ml-2 text-sm text-green-600",children:["+",R(L)," this period"]})]}),(0,mg.jsxs)("span",{className:"text-xs text-gray-500",children:[F," revenue events"]})]})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"Subscription Status"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900 capitalize",children:O.replace(/_/g," ")})]}),(0,mg.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat(W),children:O})]}),(0,mg.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Next Renewal"}),(0,mg.jsx)("p",{className:"font-medium",children:B}),z&&(0,mg.jsx)("p",{className:"text-xs text-gray-500",children:z})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Last Payment"}),(0,mg.jsx)("p",{className:"font-medium",children:V})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Monthly Fee"}),(0,mg.jsx)("p",{className:"font-medium",children:R(I)})]})]}),(0,mg.jsx)("div",{className:"mt-6 flex justify-end",children:(0,mg.jsx)("button",{onClick:K,className:"px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 text-sm font-medium",children:"Manage Subscription"})})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"My Competitions"}),(0,mg.jsx)(by,{className:"h-5 w-5 text-gray-400"})]}),(0,mg.jsx)("div",{className:"space-y-3",children:y?(0,mg.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):j.length>0?j.slice(0,5).map(e=>(0,mg.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,mg.jsxs)("p",{className:"text-xs text-gray-500",children:["published"===e.status?"Published":e.status,e.registeredCount>0&&" \u2022 ".concat(e.registeredCount," registered")]})]}),(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)("button",{onClick:()=>r("/competitions/".concat(e.id,"/edit")),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:(0,mg.jsx)(Ny,{className:"h-4 w-4"})}),(0,mg.jsx)("button",{onClick:()=>r("/competitions/".concat(e.id)),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"View",children:(0,mg.jsx)(vX,{className:"h-4 w-4"})})]})]},e.id)):(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)(by,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,mg.jsx)("p",{className:"text-gray-600 text-sm",children:"No competitions yet"}),(0,mg.jsx)("button",{onClick:()=>r("/admin/create-competition"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Create Your First Competition"})]})}),j.length>5&&(0,mg.jsxs)("button",{onClick:()=>r("/range-admin/competitions"),className:"mt-4 w-full px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:["View All Competitions (",j.length,")"]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Score Verification"}),(0,mg.jsx)(wy,{className:"h-5 w-5 text-yellow-600"})]}),(0,mg.jsx)("div",{className:"space-y-3",children:b?(0,mg.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):N.length>0?N.slice(0,5).map(e=>{var t,n,i,a;return(0,mg.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null!==(t=e.competitor)&&void 0!==t&&t.firstName&&null!==(n=e.competitor)&&void 0!==n&&n.lastName?"".concat(e.competitor.firstName," ").concat(e.competitor.lastName):(null===(i=e.competitor)||void 0===i?void 0:i.username)||"Unknown"}),(0,mg.jsxs)("p",{className:"text-xs text-gray-500",children:["Score: ",e.score||e.totalScore," \u2022 ",(null===(a=e.competition)||void 0===a?void 0:a.title)||"Competition"]})]}),(0,mg.jsx)("button",{onClick:()=>r("/admin/score-verification"),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})]},e.id)}):(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)(Ey,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),(0,mg.jsx)("p",{className:"text-gray-600 text-sm",children:"No pending scores"})]})}),N.length>5&&(0,mg.jsxs)("button",{onClick:()=>r("/admin/score-verification"),className:"mt-4 w-full px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:["View All Pending Scores (",N.length,")"]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 lg:col-span-2",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Revenue"}),(0,mg.jsx)(zQ,{className:"h-5 w-5 text-gray-400"})]}),0===C.length?(0,mg.jsx)("p",{className:"text-sm text-gray-500",children:"No revenue recorded yet. Approved score fees will appear here."}):(0,mg.jsx)("div",{className:"overflow-x-auto -mx-4 sm:-mx-6 md:mx-0",children:(0,mg.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,mg.jsx)("thead",{className:"bg-gray-50",children:(0,mg.jsxs)("tr",{children:[(0,mg.jsx)("th",{scope:"col",className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Date"}),(0,mg.jsx)("th",{scope:"col",className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Competition"}),(0,mg.jsx)("th",{scope:"col",className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Amount"}),(0,mg.jsx)("th",{scope:"col",className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Recorded By"})]})}),(0,mg.jsx)("tbody",{className:"divide-y divide-gray-200",children:C.map(e=>(0,mg.jsxs)("tr",{className:"odd:bg-gray-50",children:[(0,mg.jsx)("td",{className:"px-4 py-2 text-gray-700",children:e.approvedAt?PG(e.approvedAt,"PP"):"\u2014"}),(0,mg.jsx)("td",{className:"px-4 py-2 text-gray-700",children:_.get(e.competitionId)||e.competitionId||"Competition"}),(0,mg.jsx)("td",{className:"px-4 py-2 font-semibold text-gray-900",children:R(e.amount||0)}),(0,mg.jsx)("td",{className:"px-4 py-2 text-gray-500",children:e.approvedBy?"#".concat(String(e.approvedBy).slice(0,6)):"\u2014"})]},e.id))})]})}),(0,mg.jsx)("div",{className:"mt-4 flex justify-end",children:(0,mg.jsx)("button",{onClick:K,className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:"View billing & payment history"})})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,mg.jsxs)("button",{onClick:()=>r("/admin/create-competition"),disabled:q,className:"px-4 py-3 rounded-lg transition-colors flex items-center justify-center ".concat(q?"bg-blue-300 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[(0,mg.jsx)(MQ,{className:"w-5 h-5 mr-2"}),"Create Competition"]}),(0,mg.jsxs)("button",{onClick:()=>r("/admin/score-verification"),disabled:q,className:"px-4 py-3 rounded-lg transition-colors flex items-center justify-center ".concat(q?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:[(0,mg.jsx)(Ey,{className:"w-5 h-5 mr-2"}),"Verify Scores"]}),(0,mg.jsxs)("button",{onClick:()=>r("/range-admin/competitions"),className:"px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center",children:[(0,mg.jsx)(by,{className:"w-5 h-5 mr-2"}),"Manage Competitions"]})]})]})]}):(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"No range associated with your account"}),(0,mg.jsx)("p",{className:"text-gray-600 mb-4",children:"Please contact an administrator to link your account to a range."}),(0,mg.jsx)("button",{onClick:()=>r("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Home"})]})};function DG(e,t){return function(){return e.apply(t,arguments)}}const{toString:RG}=Object.prototype,{getPrototypeOf:MG}=Object,{iterator:LG,toStringTag:FG}=Symbol,UG=(zG=Object.create(null),e=>{const t=RG.call(e);return zG[t]||(zG[t]=t.slice(8,-1).toLowerCase())});var zG;const BG=e=>(e=e.toLowerCase(),t=>UG(t)===e),VG=e=>t=>typeof t===e,{isArray:qG}=Array,HG=VG("undefined");function WG(e){return null!==e&&!HG(e)&&null!==e.constructor&&!HG(e.constructor)&&XG(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const KG=BG("ArrayBuffer");const QG=VG("string"),XG=VG("function"),GG=VG("number"),YG=e=>null!==e&&"object"===typeof e,$G=e=>{if("object"!==UG(e))return!1;const t=MG(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(FG in e)&&!(LG in e)},JG=BG("Date"),ZG=BG("File"),eY=BG("Blob"),tY=BG("FileList"),nY=BG("URLSearchParams"),[rY,iY,aY,sY]=["ReadableStream","Request","Response","Headers"].map(BG);function oY(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),qG(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(WG(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}function lY(e,t){if(WG(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const cY="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,uY=e=>!HG(e)&&e!==cY;const dY=(hY="undefined"!==typeof Uint8Array&&MG(Uint8Array),e=>hY&&e instanceof hY);var hY;const fY=BG("HTMLFormElement"),mY=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),pY=BG("RegExp"),gY=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};oY(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)};const vY=BG("AsyncFunction"),yY=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],cY.addEventListener("message",e=>{let{source:t,data:i}=e;t===cY&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),cY.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,XG(cY.postMessage)),xY="undefined"!==typeof queueMicrotask?queueMicrotask.bind(cY):"undefined"!==typeof process&&process.nextTick||yY,bY={isArray:qG,isArrayBuffer:KG,isBuffer:WG,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||XG(e.append)&&("formdata"===(t=UG(e))||"object"===t&&XG(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&KG(e.buffer),t},isString:QG,isNumber:GG,isBoolean:e=>!0===e||!1===e,isObject:YG,isPlainObject:$G,isEmptyObject:e=>{if(!YG(e)||WG(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ve){return!1}},isReadableStream:rY,isRequest:iY,isResponse:aY,isHeaders:sY,isUndefined:HG,isDate:JG,isFile:ZG,isBlob:eY,isRegExp:pY,isFunction:XG,isStream:e=>YG(e)&&XG(e.pipe),isURLSearchParams:nY,isTypedArray:dY,isFileList:tY,forEach:oY,merge:function e(){const{caseless:t}=uY(this)&&this||{},n={},r=(r,i)=>{const a=t&&lY(n,i)||i;$G(n[a])&&$G(r)?n[a]=e(n[a],r):$G(r)?n[a]=e({},r):qG(r)?n[a]=r.slice():n[a]=r};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&oY(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return oY(t,(t,r)=>{n&&XG(t)?e[r]=DG(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&MG(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:UG,kindOfTest:BG,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(qG(e))return e;let t=e.length;if(!GG(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[LG]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:fY,hasOwnProperty:mY,hasOwnProp:mY,reduceDescriptors:gY,freezeMethods:e=>{gY(e,(t,n)=>{if(XG(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];XG(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return qG(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:lY,global:cY,isContextDefined:uY,isSpecCompliantForm:function(e){return!!(e&&XG(e.append)&&"FormData"===e[FG]&&e[LG])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(YG(e)){if(t.indexOf(e)>=0)return;if(WG(e))return e;if(!("toJSON"in e)){t[r]=e;const i=qG(e)?[]:{};return oY(e,(e,t)=>{const a=n(e,r+1);!HG(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:vY,isThenable:e=>e&&(YG(e)||XG(e))&&XG(e.then)&&XG(e.catch),setImmediate:yY,asap:xY,isIterable:e=>null!=e&&XG(e[LG])};function wY(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}bY.inherits(wY,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bY.toJSONObject(this.config),code:this.code,status:this.status}}});const jY=wY.prototype,NY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{NY[e]={value:e}}),Object.defineProperties(wY,NY),Object.defineProperty(jY,"isAxiosError",{value:!0}),wY.from=(e,t,n,r,i,a)=>{const s=Object.create(jY);return bY.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),wY.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const SY=wY;function kY(e){return bY.isPlainObject(e)||bY.isArray(e)}function EY(e){return bY.endsWith(e,"[]")?e.slice(0,-2):e}function CY(e,t,n){return e?e.concat(t).map(function(e,t){return e=EY(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const _Y=bY.toFlatObject(bY,{},null,function(e){return/^is[A-Z]/.test(e)});const OY=function(e,t,n){if(!bY.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=bY.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!bY.isUndefined(t[e])})).metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&bY.isSpecCompliantForm(t);if(!bY.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(bY.isDate(e))return e.toISOString();if(bY.isBoolean(e))return e.toString();if(!o&&bY.isBlob(e))throw new SY("Blob is not supported. Use a Buffer instead.");return bY.isArrayBuffer(e)||bY.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(bY.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(bY.isArray(e)&&function(e){return bY.isArray(e)&&!e.some(kY)}(e)||(bY.isFileList(e)||bY.endsWith(n,"[]"))&&(o=bY.toArray(e)))return n=EY(n),o.forEach(function(e,r){!bY.isUndefined(e)&&null!==e&&t.append(!0===s?CY([n],r,a):null===s?n:n+"[]",l(e))}),!1;return!!kY(e)||(t.append(CY(i,n,a),l(e)),!1)}const u=[],d=Object.assign(_Y,{defaultVisitor:c,convertValue:l,isVisitable:kY});if(!bY.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!bY.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),bY.forEach(n,function(n,a){!0===(!(bY.isUndefined(n)||null===n)&&i.call(t,n,bY.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function TY(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function AY(e,t){this._pairs=[],e&&OY(e,this,t)}const PY=AY.prototype;PY.append=function(e,t){this._pairs.push([e,t])},PY.toString=function(e){const t=e?function(t){return e.call(this,t,TY)}:TY;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const IY=AY;function DY(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RY(e,t,n){if(!t)return e;const r=n&&n.encode||DY;bY.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):bY.isURLSearchParams(t)?t.toString():new IY(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const MY=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){bY.forEach(this.handlers,function(t){null!==t&&e(t)})}},LY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FY={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:IY,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},UY="undefined"!==typeof window&&"undefined"!==typeof document,zY="object"===typeof navigator&&navigator||void 0,BY=UY&&(!zY||["ReactNative","NativeScript","NS"].indexOf(zY.product)<0),VY="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,qY=UY&&window.location.href||"http://localhost",HY=Be(Be({},t),FY);const WY=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&bY.isArray(r)?r.length:a,o)return bY.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&bY.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&bY.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(bY.isFormData(e)&&bY.isFunction(e.entries)){const n={};return bY.forEachEntry(e,(e,r)=>{t(function(e){return bY.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const KY={transitional:LY,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=bY.isObject(e);i&&bY.isHTMLForm(e)&&(e=new FormData(e));if(bY.isFormData(e))return r?JSON.stringify(WY(e)):e;if(bY.isArrayBuffer(e)||bY.isBuffer(e)||bY.isStream(e)||bY.isFile(e)||bY.isBlob(e)||bY.isReadableStream(e))return e;if(bY.isArrayBufferView(e))return e.buffer;if(bY.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return OY(e,new HY.classes.URLSearchParams,Be({visitor:function(e,t,n,r){return HY.isNode&&bY.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=bY.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return OY(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(bY.isString(e))try{return(t||JSON.parse)(e),bY.trim(e)}catch(Ve){if("SyntaxError"!==Ve.name)throw Ve}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||KY.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(bY.isResponse(e)||bY.isReadableStream(e))return e;if(e&&bY.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Ve){if(n){if("SyntaxError"===Ve.name)throw SY.from(Ve,SY.ERR_BAD_RESPONSE,this,null,this.response);throw Ve}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:HY.classes.FormData,Blob:HY.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bY.forEach(["delete","get","head","post","put","patch"],e=>{KY.headers[e]={}});const QY=KY,XY=bY.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GY=Symbol("internals");function YY(e){return e&&String(e).trim().toLowerCase()}function $Y(e){return!1===e||null==e?e:bY.isArray(e)?e.map($Y):String(e)}function JY(e,t,n,r,i){return bY.isFunction(r)?r.call(this,t,n):(i&&(t=n),bY.isString(t)?bY.isString(r)?-1!==t.indexOf(r):bY.isRegExp(r)?r.test(t):void 0:void 0)}class ZY{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=YY(t);if(!i)throw new Error("header name must be a non-empty string");const a=bY.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=$Y(e))}const a=(e,t)=>bY.forEach(e,(e,n)=>i(e,n,t));if(bY.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(bY.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&XY[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(bY.isObject(e)&&bY.isIterable(e)){let n,r,i={};for(const t of e){if(!bY.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?bY.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=YY(e)){const n=bY.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(bY.isFunction(t))return t.call(this,e,n);if(bY.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=YY(e)){const n=bY.findKey(this,e);return!(!n||void 0===this[n]||t&&!JY(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=YY(e)){const i=bY.findKey(n,e);!i||t&&!JY(0,n[i],i,t)||(delete n[i],r=!0)}}return bY.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!JY(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return bY.forEach(this,(r,i)=>{const a=bY.findKey(n,i);if(a)return t[a]=$Y(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();s!==i&&delete t[i],t[s]=$Y(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return bY.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&bY.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[GY]=this[GY]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=YY(e);t[r]||(!function(e,t){const n=bY.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return bY.isArray(e)?e.forEach(r):r(e),this}}ZY.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bY.reduceDescriptors(ZY.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),bY.freezeMethods(ZY);const e$=ZY;function t$(e,t){const n=this||QY,r=t||n,i=e$.from(r.headers);let a=r.data;return bY.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function n$(e){return!(!e||!e.__CANCEL__)}function r$(e,t,n){SY.call(this,null==e?"canceled":e,SY.ERR_CANCELED,t,n),this.name="CanceledError"}bY.inherits(r$,SY,{__CANCEL__:!0});const i$=r$;function a$(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new SY("Request failed with status code "+n.status,[SY.ERR_BAD_REQUEST,SY.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const s$=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];i||(i=l),n[a]=o,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const o$=function(e,t){let n,r,i=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},a-t)))},()=>n&&s(n)]},l$=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=s$(50,250);return o$(n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-r,l=i(o);r=a;e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},c$=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},u$=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bY.asap(()=>e(...n))},d$=HY.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,HY.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(HY.origin),HY.navigator&&/(msie|trident)/i.test(HY.navigator.userAgent)):()=>!0,h$=HY.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];bY.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),bY.isString(r)&&s.push("path="+r),bY.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function f$(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const m$=e=>e instanceof e$?Be({},e):e;function p$(e,t){t=t||{};const n={};function r(e,t,n,r){return bY.isPlainObject(e)&&bY.isPlainObject(t)?bY.merge.call({caseless:r},e,t):bY.isPlainObject(t)?bY.merge({},t):bY.isArray(t)?t.slice():t}function i(e,t,n,i){return bY.isUndefined(t)?bY.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!bY.isUndefined(t))return r(void 0,t)}function s(e,t){return bY.isUndefined(t)?bY.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>i(m$(e),m$(t),0,!0)};return bY.forEach(Object.keys(Be(Be({},e),t)),function(r){const a=l[r]||i,s=a(e[r],t[r],r);bY.isUndefined(s)&&a!==o||(n[r]=s)}),n}const g$=e=>{const t=p$({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=e$.from(o),t.url=RY(f$(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),bY.isFormData(r))if(HY.hasStandardBrowserEnv||HY.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(HY.hasStandardBrowserEnv&&(i&&bY.isFunction(i)&&(i=i(t)),i||!1!==i&&d$(t.url))){const e=a&&s&&h$.read(s);e&&o.set(a,e)}return t},v$="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=g$(e);let i=r.data;const a=e$.from(r.headers).normalize();let s,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=e$.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());a$(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new SY("Request aborted",SY.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new SY("Network Error",SY.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||LY;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new SY(t,i.clarifyTimeoutError?SY.ETIMEDOUT:SY.ECONNABORTED,e,p)),p=null},void 0===i&&a.setContentType(null),"setRequestHeader"in p&&bY.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),bY.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),d&&"json"!==d&&(p.responseType=r.responseType),f&&([l,u]=l$(f,!0),p.addEventListener("progress",l)),h&&p.upload&&([o,c]=l$(h),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{p&&(n(!t||t.type?new i$(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===HY.protocols.indexOf(v)?n(new SY("Unsupported protocol "+v+":",SY.ERR_BAD_REQUEST,e)):p.send(i||null)})},y$=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof SY?t:new i$(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new SY("timeout ".concat(t," of ms exceeded"),SY.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>bY.asap(s),o}};function x$(e,t){this.v=e,this.k=t}function b$(e){return function(){return new w$(e.apply(this,arguments))}}function w$(e){var t,n;function r(t,n){try{var a=e[t](n),s=a.value,o=s instanceof x$;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(a,s){var o={key:e,arg:i,resolve:a,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function j$(e){return new x$(e,0)}function N$(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new x$(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function S$(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new k$(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function k$(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return k$=function(e){this.s=e,this.n=e.next},k$.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new k$(e)}w$.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},w$.prototype.next=function(e){return this._invoke("next",e)},w$.prototype.throw=function(e){return this._invoke("throw",e)},w$.prototype.return=function(e){return this._invoke("return",e)};const E$=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},C$=function(){var e=b$(function*(e,t){var n,r=!1,i=!1;try{for(var a,s=S$(_$(e));r=!(a=yield j$(s.next())).done;r=!1){const e=a.value;yield*N$(S$(E$(e,t)))}}catch(o){i=!0,n=o}finally{try{r&&null!=s.return&&(yield j$(s.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),_$=function(){var e=b$(function*(e){if(e[Symbol.asyncIterator])return void(yield*N$(S$(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield j$(t.read());if(e)break;yield n}}finally{yield j$(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),O$=(e,t,n,r)=>{const i=C$(e,t);let a,s=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=s+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},T$="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,A$=T$&&"function"===typeof ReadableStream,P$=T$&&("function"===typeof TextEncoder?(I$=new TextEncoder,e=>I$.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var I$;const D$=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Ve){return!1}},R$=A$&&D$(()=>{let e=!1;const t=new Request(HY.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),M$=A$&&D$(()=>bY.isReadableStream(new Response("").body)),L$={stream:M$&&(e=>e.body)};var F$;T$&&(F$=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!L$[e]&&(L$[e]=bY.isFunction(F$[e])?t=>t[e]():(t,n)=>{throw new SY("Response type '".concat(e,"' is not supported"),SY.ERR_NOT_SUPPORT,n)})}));const U$=async(e,t)=>{const n=bY.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(bY.isBlob(e))return e.size;if(bY.isSpecCompliantForm(e)){const t=new Request(HY.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return bY.isArrayBufferView(e)||bY.isArrayBuffer(e)?e.byteLength:(bY.isURLSearchParams(e)&&(e+=""),bY.isString(e)?(await P$(e)).byteLength:void 0)})(t):n},z$=T$&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=g$(e);c=c?(c+"").toLowerCase():"text";let f,m=y$([i,a&&a.toAbortSignal()],s);const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&R$&&"get"!==n&&"head"!==n&&0!==(g=await U$(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(bY.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=c$(g,l$(u$(l)));r=O$(n.body,65536,e,t)}}bY.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,Be(Be({},h),{},{signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0}));let a=await fetch(f,h);const s=M$&&("stream"===c||"response"===c);if(M$&&(o||s&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=bY.toFiniteNumber(a.headers.get("content-length")),[n,r]=o&&c$(t,l$(u$(o),!0))||[];a=new Response(O$(a.body,65536,n,()=>{r&&r(),p&&p()}),e)}c=c||"text";let v=await L$[bY.findKey(L$,c)||"text"](a,e);return!s&&p&&p(),await new Promise((t,n)=>{a$(t,n,{data:v,headers:e$.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})})}catch(v){if(p&&p(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new SY("Network Error",SY.ERR_NETWORK,e,f),{cause:v.cause||v});throw SY.from(v,v&&v.code,e,f)}}),B$={http:null,xhr:v$,fetch:z$};bY.forEach(B$,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ve){}Object.defineProperty(e,"adapterName",{value:t})}});const V$=e=>"- ".concat(e),q$=e=>bY.isFunction(e)||null===e||!1===e,H$=e=>{e=bY.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!q$(n)&&(r=B$[(t=String(n)).toLowerCase()],void 0===r))throw new SY("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(V$).join("\n"):" "+V$(e[0]):"as no adapter specified";throw new SY("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function W$(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new i$(null,e)}function K$(e){W$(e),e.headers=e$.from(e.headers),e.data=t$.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return H$(e.adapter||QY.adapter)(e).then(function(t){return W$(e),t.data=t$.call(e,e.transformResponse,t),t.headers=e$.from(t.headers),t},function(t){return n$(t)||(W$(e),t&&t.response&&(t.response.data=t$.call(e,e.transformResponse,t.response),t.response.headers=e$.from(t.response.headers))),Promise.reject(t)})}const Q$="1.11.0",X$={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{X$[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const G$={};X$.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Q$+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new SY(r(i," has been removed"+(t?" in "+t:"")),SY.ERR_DEPRECATED);return t&&!G$[i]&&(G$[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},X$.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Y$={assertOptions:function(e,t,n){if("object"!==typeof e)throw new SY("options must be an object",SY.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new SY("option "+a+" must be "+n,SY.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new SY("Unknown option "+a,SY.ERR_BAD_OPTION)}},validators:X$},$$=Y$.validators;class J${constructor(e){this.defaults=e||{},this.interceptors={request:new MY,response:new MY}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ve){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=p$(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Y$.assertOptions(n,{silentJSONParsing:$$.transitional($$.boolean),forcedJSONParsing:$$.transitional($$.boolean),clarifyTimeoutError:$$.transitional($$.boolean)},!1),null!=r&&(bY.isFunction(r)?t.paramsSerializer={serialize:r}:Y$.assertOptions(r,{encode:$$.function,serialize:$$.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Y$.assertOptions(t,{baseUrl:$$.spelling("baseURL"),withXsrfToken:$$.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&bY.merge(i.common,i[t.method]);i&&bY.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=e$.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[K$.bind(this),void 0];for(e.unshift(...s),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=K$.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return RY(f$((e=p$(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}bY.forEach(["delete","get","head","options"],function(e){J$.prototype[e]=function(t,n){return this.request(p$(n||{},{method:e,url:t,data:(n||{}).data}))}}),bY.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(p$(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}J$.prototype[e]=t(),J$.prototype[e+"Form"]=t(!0)});const Z$=J$;class eJ{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new i$(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new eJ(function(t){e=t});return{token:t,cancel:e}}}const tJ=eJ;const nJ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nJ).forEach(e=>{let[t,n]=e;nJ[n]=t});const rJ=nJ;const iJ=function e(t){const n=new Z$(t),r=DG(Z$.prototype.request,n);return bY.extend(r,Z$.prototype,n,{allOwnKeys:!0}),bY.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(p$(t,n))},r}(QY);iJ.Axios=Z$,iJ.CanceledError=i$,iJ.CancelToken=tJ,iJ.isCancel=n$,iJ.VERSION=Q$,iJ.toFormData=OY,iJ.AxiosError=SY,iJ.Cancel=iJ.CanceledError,iJ.all=function(e){return Promise.all(e)},iJ.spread=function(e){return function(t){return e.apply(null,t)}},iJ.isAxiosError=function(e){return bY.isObject(e)&&!0===e.isAxiosError},iJ.mergeConfig=p$,iJ.AxiosHeaders=e$,iJ.formToJSON=e=>WY(bY.isHTMLForm(e)?new FormData(e):e),iJ.getAdapter=H$,iJ.HttpStatusCode=rJ,iJ.default=iJ;const aJ={NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",sJ=iJ.create({baseURL:aJ,headers:{"Content-Type":"application/json"}});sJ.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),sJ.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const oJ=e=>sJ.post("/auth/range-admin/signup",e).then(e=>e.data),lJ=e=>sJ.post("/payments/range-admin/confirm",e).then(e=>e.data),cJ=()=>sJ.get("/sponsorships").then(e=>e.data),uJ=()=>sJ.get("/sponsorships/analytics").then(e=>e.data),dJ=()=>sJ.get("/sponsorships/payments").then(e=>e.data),hJ=function(e){let{currency:t="USD"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,r)=>{if(!e)return void r(new Error("PayPal client ID is not configured"));if(window.paypal&&window.paypal.HostedButtons)return void n(window.paypal);const i=document.querySelector('script[data-paypal-sdk="true"]');if(i)return i.addEventListener("load",()=>n(window.paypal)),void i.addEventListener("error",r);const a=document.createElement("script");a.src="".concat("https://www.paypal.com/sdk/js","?client-id=").concat(encodeURIComponent(e),"&components=hosted-buttons&currency=").concat(t),a.async=!0,a.dataset.paypalSdk="true",a.onload=()=>n(window.paypal),a.onerror=e=>r(e),document.body.appendChild(a)})},fJ=["confirmPassword"],mJ=()=>{const e=ne(),{login:t}=xg(),[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=(0,i.useMemo)(()=>({NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_PAYPAL_CLIENT_ID||"test"),[]),{register:m,handleSubmit:p,watch:g,trigger:v,getValues:y,formState:{errors:x}}=ib({defaultValues:{rangeCountry:"US"}}),b=g("password"),w=(0,i.useCallback)(async n=>{if(a){l(!0),u(null);try{const{confirmPassword:r}=a,i=Be(Be({},wg(a,fJ)),{},{paypalOrderId:n});await oJ(i),h(!0),nn.success("Payment confirmed! Creating your range admin account...");try{const n=await t(i.email,i.password);if(null!==n&&void 0!==n&&n.success)return nn.success("Welcome! You are now signed in."),void e("/range-admin",{replace:!0})}catch(s){console.error("Auto login after signup failed:",s)}nn("Account created. Please sign in to continue.",{icon:"\u2139\ufe0f"}),e("/login",{replace:!0})}catch(o){var r,i;console.error("Range admin signup error:",o);const e=(null===o||void 0===o||null===(r=o.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||"Unable to complete sign-up. Please contact support.";u(e),nn.error(e)}finally{l(!1)}}else nn.error("Missing form details. Please restart sign-up.")},[a,t,e]),j=(0,i.useCallback)(()=>{if(!n||!a)return;const e="paypal-range-admin-signup",t=document.getElementById(e);t&&(t.innerHTML="",l(!0),u(null),hJ(f).then(t=>{if(!t||!t.HostedButtons)throw new Error("PayPal Hosted Buttons are unavailable");return t.HostedButtons({hostedButtonId:"6DVDJ58FZPUXC",onApprove:async e=>{await w(e.orderID)},onError:e=>{console.error("PayPal error:",e),u("Payment could not be completed. Please try again."),l(!1)},onCancel:()=>{l(!1),nn("Payment cancelled. You can try again when ready.",{icon:"\u2139\ufe0f"})}}).render("#".concat(e))}).catch(e=>{console.error("Failed to load PayPal Hosted Buttons:",e),u("Unable to load PayPal checkout. Please refresh and try again.")}).finally(()=>{l(!1)}))},[a,w,f,n]);(0,i.useEffect)(()=>{j()},[j]);return(0,mg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,mg.jsx)("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur rounded-2xl shadow-xl overflow-hidden",children:(0,mg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[(0,mg.jsxs)("div",{className:"p-8 lg:p-10 bg-slate-900 text-white",children:[(0,mg.jsx)("img",{src:"".concat("/X-Ring-Classic","/TheXringClassic.png"),alt:"The X-Ring Classic",className:"h-16 w-auto object-contain mb-6"}),(0,mg.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Range Admin Membership"}),(0,mg.jsx)("p",{className:"text-slate-200 mb-4",children:"Join the X-Ring Classic range network to host matches, approve competitor scores, and access detailed revenue analytics for your facility. A monthly $20 subscription unlocks full access to range tools."}),(0,mg.jsxs)("ul",{className:"space-y-3 text-slate-100",children:[(0,mg.jsxs)("li",{className:"flex items-start",children:[(0,mg.jsx)("span",{className:"mr-2 text-green-400",children:"\u2714"}),(0,mg.jsx)("span",{children:"Publish and manage competitions for your range"})]}),(0,mg.jsxs)("li",{className:"flex items-start",children:[(0,mg.jsx)("span",{className:"mr-2 text-green-400",children:"\u2714"}),(0,mg.jsx)("span",{children:"Approve competitor scores and maintain leaderboards"})]}),(0,mg.jsxs)("li",{className:"flex items-start",children:[(0,mg.jsx)("span",{className:"mr-2 text-green-400",children:"\u2714"}),(0,mg.jsx)("span",{children:"Track revenue, payments, and renewal reminders in one dashboard"})]})]})]}),(0,mg.jsxs)("div",{className:"p-8 lg:p-10",children:[(0,mg.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Tell us about you and your range"}),(0,mg.jsxs)("form",{onSubmit:p(async()=>{if(!await v())return void nn.error("Please fix the highlighted fields before continuing.");const e=y();s(e),r(!0),u(null),nn.success("Almost done! Complete the secure PayPal payment below.")}),className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"First Name *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.firstName?"border-red-500":"")},m("firstName",{required:"First name is required"}))),x.firstName&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.firstName.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Last Name *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.lastName?"border-red-500":"")},m("lastName",{required:"Last name is required"}))),x.lastName&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.lastName.message})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Email *"}),(0,mg.jsx)("input",Be({type:"email",className:"input-field mt-1 ".concat(x.email?"border-red-500":"")},m("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}}))),x.email&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.email.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Phone"}),(0,mg.jsx)("input",Be({type:"tel",className:"input-field mt-1 ".concat(x.phone?"border-red-500":""),placeholder:"(555) 123-4567"},m("phone",{pattern:{value:/^[0-9+()\-\s]{7,20}$/,message:"Enter a valid phone number"}}))),x.phone&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.phone.message})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Username *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.username?"border-red-500":"")},m("username",{required:"Username is required",minLength:{value:3,message:"At least 3 characters"},maxLength:{value:30,message:"At most 30 characters"},pattern:{value:/^[a-zA-Z0-9_]+$/,message:"Only letters, numbers, and underscores allowed"}}))),x.username&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.username.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Password *"}),(0,mg.jsx)("input",Be({type:"password",className:"input-field mt-1 ".concat(x.password?"border-red-500":"")},m("password",{required:"Password is required",minLength:{value:6,message:"Minimum 6 characters"}}))),x.password&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.password.message})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Confirm Password *"}),(0,mg.jsx)("input",Be({type:"password",className:"input-field mt-1 ".concat(x.confirmPassword?"border-red-500":"")},m("confirmPassword",{required:"Please confirm your password",validate:e=>e===b||"Passwords do not match"}))),x.confirmPassword&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.confirmPassword.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Range Name *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.rangeName?"border-red-500":"")},m("rangeName",{required:"Range name is required"}))),x.rangeName&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.rangeName.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Range Website"}),(0,mg.jsx)("input",Be({type:"url",className:"input-field mt-1 ".concat(x.rangeWebsite?"border-red-500":""),placeholder:"https://"},m("rangeWebsite",{pattern:{value:/^(https?:\/\/)?[\w.-]+(\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=.]*$/,message:"Enter a valid URL"}}))),x.rangeWebsite&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.rangeWebsite.message})]}),(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Address Line 1 *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.rangeAddressLine1?"border-red-500":"")},m("rangeAddressLine1",{required:"Address is required"}))),x.rangeAddressLine1&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.rangeAddressLine1.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Address Line 2"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1"},m("rangeAddressLine2")))]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"City *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.rangeCity?"border-red-500":"")},m("rangeCity",{required:"City is required"}))),x.rangeCity&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.rangeCity.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"State / Province *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.rangeState?"border-red-500":"")},m("rangeState",{required:"State or province is required"}))),x.rangeState&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.rangeState.message})]})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Postal Code *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.rangePostalCode?"border-red-500":"")},m("rangePostalCode",{required:"Postal code is required"}))),x.rangePostalCode&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.rangePostalCode.message})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Country *"}),(0,mg.jsx)("input",Be({type:"text",className:"input-field mt-1 ".concat(x.rangeCountry?"border-red-500":"")},m("rangeCountry",{required:"Country is required"}))),x.rangeCountry&&(0,mg.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.rangeCountry.message})]})]})]}),!n&&!d&&(0,mg.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Continue to $20 PayPal Checkout"})]}),n&&!d&&(0,mg.jsxs)("div",{className:"mt-8",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Complete your subscription payment"}),(0,mg.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Secure payment is processed via PayPal. Once the transaction completes, your range admin account will be activated automatically."}),(0,mg.jsx)("div",{id:"paypal-range-admin-signup",className:"min-h-[60px]"}),o&&(0,mg.jsxs)("div",{className:"mt-4 flex items-center space-x-2 text-slate-600",children:[(0,mg.jsx)("div",{className:"h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,mg.jsx)("span",{children:"Preparing PayPal checkout..."})]}),c&&(0,mg.jsx)("p",{className:"mt-3 text-sm text-red-600",children:c})]}),d&&(0,mg.jsx)("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:"Payment received! Finishing account setup..."})]})]})})})},pJ=e=>{if(!e)return null;if(e.toDate)return e.toDate();if(e.seconds)return new Date(1e3*e.seconds);if("string"===typeof e){const t=Date.parse(e);return Number.isNaN(t)?null:new Date(t)}return e instanceof Date?e:null},gJ=()=>{var e;const{user:t,updateUser:n}=xg(),r=(0,i.useMemo)(()=>({NODE_ENV:"production",PUBLIC_URL:"/X-Ring-Classic",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_PAYPAL_CLIENT_ID||"test"),[]),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),{data:d,isLoading:h}=(0,Re.useQuery)(["range-admin-range",null===t||void 0===t?void 0:t.id],()=>Kv(null===t||void 0===t?void 0:t.id),{enabled:!(null===t||void 0===t||!t.id),staleTime:3e5}),f=null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.range,m=(null===f||void 0===f?void 0:f.subscriptionStatus)||(null===t||void 0===t?void 0:t.subscriptionStatus)||"inactive",p=pJ((null===f||void 0===f?void 0:f.subscriptionRenewalDate)||(null===t||void 0===t?void 0:t.subscriptionRenewalDate)),g=pJ((null===f||void 0===f?void 0:f.subscriptionLastPaymentDate)||(null===t||void 0===t?void 0:t.subscriptionLastPaymentDate)),v=(null===f||void 0===f?void 0:f.subscriptionAmount)||(null===t||void 0===t?void 0:t.subscriptionAmount)||20,y=(null===f||void 0===f?void 0:f.subscriptionCurrency)||(null===t||void 0===t?void 0:t.subscriptionCurrency)||"USD",x=(0,i.useCallback)(async e=>{if(null!==f&&void 0!==f&&f.id||null!==t&&void 0!==t&&t.rangeId){l(!0),s(null);try{const r=await lJ({paypalOrderId:e,rangeId:(null===f||void 0===f?void 0:f.id)||(null===t||void 0===t?void 0:t.rangeId)});n({subscriptionStatus:r.subscriptionStatus,subscriptionRenewalDate:r.renewalDate,subscriptionAmount:r.amount,subscriptionCurrency:r.currency}),u(!0),nn.success("Payment confirmed. Your range admin access is active.")}catch(a){var r,i;console.error("Payment confirmation failed:",a);const e=(null===a||void 0===a||null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||"Unable to confirm payment. Please try again.";s(e),nn.error(e)}finally{l(!1)}}else nn.error("Range information missing. Please contact support.")},[null===f||void 0===f?void 0:f.id,n,null===t||void 0===t?void 0:t.rangeId]),b=(0,i.useCallback)(()=>{if(c)return;const e="paypal-range-admin-subscription",t=document.getElementById(e);t&&(t.innerHTML="",l(!0),s(null),hJ(r).then(t=>{if(!t||!t.HostedButtons)throw new Error("PayPal Hosted Buttons are unavailable");return t.HostedButtons({hostedButtonId:"6DVDJ58FZPUXC",onApprove:async e=>{await x(e.orderID)},onError:e=>{console.error("PayPal error:",e),s("Payment could not be completed. Please try again."),l(!1)},onCancel:()=>{l(!1),nn("Payment cancelled. Feel free to try again when ready.",{icon:"\u2139\ufe0f"})}}).render("#".concat(e))}).catch(e=>{console.error("Failed to load PayPal Hosted Buttons:",e),s("Unable to load PayPal checkout. Please refresh and try again.")}).finally(()=>{l(!1)}))},[x,c,r]);(0,i.useEffect)(()=>{"active"!==m&&b()},[b,m]);const w=p?"".concat(PG(p,"PPP")," (").concat(YX(p,{addSuffix:!0}),")"):"Not scheduled",j=g?PG(g,"PPP"):"No payments recorded";return(0,mg.jsx)("div",{className:"min-h-screen bg-slate-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,mg.jsxs)("div",{className:"max-w-3xl mx-auto bg-white/95 rounded-2xl shadow-xl p-8 md:p-10",children:[(0,mg.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Range Admin Subscription"}),(null===f||void 0===f?void 0:f.name)&&(0,mg.jsxs)("p",{className:"text-sm text-slate-500 mb-2",children:["Range: ",(0,mg.jsx)("span",{className:"font-semibold text-slate-700",children:f.name})]}),(0,mg.jsx)("p",{className:"text-slate-600 mb-8",children:"Manage your monthly subscription and keep your range tools active. A paid subscription is required to access the Range Admin dashboard and create competitions."}),h?(0,mg.jsxs)("div",{className:"flex items-center space-x-2 text-slate-600",children:[(0,mg.jsx)("div",{className:"h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,mg.jsx)("span",{children:"Loading range details..."})]}):(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,mg.jsx)("p",{className:"text-sm text-slate-500",children:"Subscription Status"}),(0,mg.jsx)("p",{className:"text-lg font-semibold ".concat("active"===m?"text-green-600":"text-red-600"),children:m.replace(/_/g," ")||"inactive"})]}),(0,mg.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,mg.jsx)("p",{className:"text-sm text-slate-500",children:"Monthly Cost"}),(0,mg.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:y}).format(v)})]}),(0,mg.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,mg.jsx)("p",{className:"text-sm text-slate-500",children:"Next Renewal"}),(0,mg.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:w})]}),(0,mg.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,mg.jsx)("p",{className:"text-sm text-slate-500",children:"Last Payment"}),(0,mg.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:j})]})]}),"active"!==m&&(0,mg.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-800",children:"Your range admin subscription is inactive. Complete the $20 PayPal checkout below to restore access."}),"active"===m&&p&&(0,mg.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-blue-800",children:"Your subscription is active. We will remind you as the next renewal approaches."}),"active"!==m&&(0,mg.jsxs)("div",{className:"mt-6",children:[(0,mg.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Complete payment"}),(0,mg.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Use the secure PayPal button to renew your subscription. Once payment is confirmed, you will regain access immediately."}),(0,mg.jsx)("div",{id:"paypal-range-admin-subscription",className:"min-h-[60px]"}),o&&(0,mg.jsxs)("div",{className:"mt-4 flex items-center space-x-2 text-slate-600",children:[(0,mg.jsx)("div",{className:"h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,mg.jsx)("span",{children:"Preparing PayPal checkout..."})]}),a&&(0,mg.jsx)("p",{className:"mt-3 text-sm text-red-600",children:a}),c&&(0,mg.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded text-green-700",children:"Payment received! Refreshing your subscription details..."})]})]})]})})},vJ=gy("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),yJ=gy("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),xJ=()=>(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"Configure platform preferences and administration tools"})]}),(0,mg.jsx)(VQ,{className:"w-8 h-8 text-gray-400"})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center mb-4",children:[(0,mg.jsx)(qQ,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Security"})]}),(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"More controls coming soon."})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center mb-4",children:[(0,mg.jsx)(vJ,{className:"w-5 h-5 text-green-600 mr-2"}),(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Email and in-app notifications configuration."})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("div",{className:"flex items-center mb-4",children:[(0,mg.jsx)(yJ,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Data"})]}),(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:"Backups and data retention. Coming soon."})]})]})]}),bJ=()=>{const e=(0,Re.useQueryClient)(),[t,n]=(0,i.useState)(""),[r,a]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(Array(10).fill({value:"",isX:!1})),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),{data:m}=(0,Re.useQuery)(["admin-enter-score-competitions"],()=>gv().then(e=>e.data),{staleTime:3e5}),p=((null===m||void 0===m?void 0:m.competitions)||[]).filter(e=>"published"===e.status||"active"===e.status),{data:g}=(0,Re.useQuery)(["competition",t],()=>t?yv(t).then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.competition}):null,{enabled:!!t,staleTime:12e4}),v=(0,i.useMemo)(()=>(null===g||void 0===g?void 0:g.participants)||[],[g]);(0,i.useEffect)(()=>{a("");const e=(null===g||void 0===g?void 0:g.shotsPerTarget)||10;e&&l.length!==e&&c(Array(e).fill({value:"",isX:!1}))},[t,g]);const y=(0,i.useMemo)(()=>l.reduce((e,t)=>e+(parseInt(t.value,10)||0),0),[l]),x=(0,i.useMemo)(()=>l.filter(e=>10===parseInt(e.value,10)&&e.isX).length,[l]),b=(0,Re.useMutation)(e=>Sv(e),{onSuccess:()=>{nn.success("Score submitted on behalf of competitor"),e.invalidateQueries(["competition-scores",t]),c(Array((null===g||void 0===g?void 0:g.shotsPerTarget)||10).fill({value:"",isX:!1})),d(""),f(""),a("")},onError:e=>{var t,n;nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to submit score")}});return(0,mg.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Enter Score (Admin)"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Submit a score for a registered competitor. Submissions are auto-approved."})]}),(0,mg.jsx)(Ey,{className:"w-8 h-8 text-green-500"})]}),(0,mg.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!t)return nn.error("Choose a competition");if(!r)return nn.error("Choose a competitor");const n=(null===g||void 0===g?void 0:g.shotsPerTarget)||10,i=l.filter(e=>""!==e.value&&null!==e.value&&void 0!==e.value);if(i.length!==n)return nn.error("This competition requires ".concat(n," shots. You entered ").concat(i.length,"."));if(!s)return nn.error("Please select a weapon category (22LR or Airgun 22cal)");const a=l.map(e=>{var t;return{value:parseInt(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:"0",10)||0,isX:!0===(null===e||void 0===e?void 0:e.isX)}}).slice(0,n),o={competitionId:t,competitorId:r,category:s,score:Math.round(y),shots:a,evidence:Be(Be({},u?{photoUrl:u}:{}),h?{videoUrl:h}:{})};b.mutate(o)},className:"space-y-8",children:[(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 space-y-4",children:(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition"}),(0,mg.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,mg.jsx)("option",{value:"",children:"Select competition..."}),p.map(e=>{var t;return(0,mg.jsxs)("option",{value:e.id,children:[e.title," ",null!==(t=e.schedule)&&void 0!==t&&t.competitionDate?"\u2014 ".concat(new Date(e.schedule.competitionDate).toLocaleDateString()):""]},e.id)})]})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,mg.jsx)(xy,{className:"w-4 h-4 mr-1"})," Competitor (registered)"]}),(0,mg.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:!t,children:[(0,mg.jsx)("option",{value:"",children:"Select competitor..."}),v.map(e=>(0,mg.jsx)("option",{value:e.userId,children:e.userName||e.username||e.userId},e.userId))]}),!t&&(0,mg.jsx)("p",{className:"text-xs text-gray-700 mt-1",children:"Choose a competition to see registered participants."}),t&&0===v.length&&(0,mg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"No registered participants found for this competition."})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weapon Category *"}),(0,mg.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,mg.jsx)("option",{value:"",children:"Select category..."}),(0,mg.jsx)("option",{value:"22LR",children:"22LR"}),(0,mg.jsx)("option",{value:"Airgun 22cal",children:"Airgun 22cal"})]})]})]})}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,mg.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mg.jsx)(Cy,{className:"h-5 w-5 mr-2"})," Shots \u2014 required: ",(null===g||void 0===g?void 0:g.shotsPerTarget)||10]}),(0,mg.jsx)("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-3 mb-4",children:l.map((e,t)=>(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Shot ",t+1]}),(0,mg.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,mg.jsxs)("select",{value:e.value,onChange:e=>((e,t)=>{var n;const r=[...l],i=""===t?"":Math.max(0,Math.min(10,parseInt(t,10)||0));r[e]={value:i,isX:10===i&&(null===(n=r[e])||void 0===n?void 0:n.isX)||!1},c(r)})(t,e.target.value),className:"w-16 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",children:[(0,mg.jsx)("option",{value:"",children:"--"}),Array.from({length:11},(e,t)=>t).map(e=>(0,mg.jsx)("option",{value:e,children:e},e))]}),(0,mg.jsxs)("label",{className:"flex items-center gap-1 text-xs",children:[(0,mg.jsx)("input",{type:"checkbox",checked:!!e.isX,onChange:e=>((e,t)=>{const n=[...l],r=n[e]||{value:"",isX:!1};n[e]=t?{value:10,isX:!0}:{value:r.value,isX:!1},c(n)})(t,e.target.checked)}),(0,mg.jsx)("span",{children:"X"})]})]})]},t))}),(0,mg.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,mg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mg.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total Score:"}),(0,mg.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[y," (",x,"X)"]})]})})]}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo URL (optional)"}),(0,mg.jsx)("input",{type:"url",value:u,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/target.jpg"})]}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL (optional)"}),(0,mg.jsx)("input",{type:"url",value:h,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/video.mp4"})]})]})}),(0,mg.jsx)("div",{className:"flex justify-end",children:(0,mg.jsx)("button",{type:"submit",disabled:b.isLoading,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:b.isLoading?"Submitting...":(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsx)(lX,{className:"w-4 h-4 mr-2"})," Submit Score"]})})})]})]})},wJ=gy("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),jJ=gy("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),NJ=gy("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),SJ=gy("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),kJ=gy("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),EJ=e=>{let{role:t}=e;const n="admin"===t?"bg-purple-100 text-purple-800":"range_admin"===t?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800";return(0,mg.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(n),children:null===t||void 0===t?void 0:t.replace("_"," ")})},CJ=()=>{var e,t;const n=ne(),[r,a]=(0,i.useState)(""),[s,o]=(0,i.useState)(1),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(null),[h,f]=(0,i.useState)(""),m=(0,Re.useQueryClient)(),{data:p,isLoading:g,error:v}=(0,Re.useQuery)(["admin-users",s,l,r],()=>zv({page:s,limit:20,role:l||void 0,search:r||void 0})),{data:y}=(0,Re.useQuery)("ranges",()=>Hv(),{staleTime:3e5}),x=(null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.ranges)||[],b=(0,Re.useMutation)(e=>Dv(e),{onSuccess:()=>{nn.success("User verified"),m.invalidateQueries("admin-users")},onError:e=>{var t,n;return nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to verify")}}),w=(0,Re.useMutation)(e=>Rv(e),{onSuccess:()=>{nn.success("User deactivated"),m.invalidateQueries("admin-users")},onError:e=>{var t,n;return nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to deactivate")}}),j=(0,Re.useMutation)(e=>{let{userId:t,role:n,rangeId:r}=e;return Mv(t,n,r)},{onSuccess:()=>{nn.success("Role updated"),m.invalidateQueries("admin-users"),d(null),f("")},onError:e=>{var t,n;return nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to update role")}}),N=(0,Re.useMutation)(e=>{let{userId:t,rangeId:n}=e;return Lv(t,n)},{onSuccess:()=>{nn.success("Range assignment updated"),m.invalidateQueries("admin-users"),d(null),f("")},onError:e=>{var t,n;return nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to update range assignment")}}),S=(0,Re.useMutation)(e=>Fv(e),{onSuccess:()=>{nn.success("User removed"),m.invalidateQueries("admin-users")},onError:e=>{var t,n;return nn.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to remove user")}}),k=(null===p||void 0===p?void 0:p.users)||[],E=null===p||void 0===p?void 0:p.pagination;return(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsx)("div",{className:"flex items-center justify-between",children:(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Manage Users"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Search, verify, change roles, deactivate, or remove users."})]})}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 flex items-center gap-3",children:[(0,mg.jsxs)("div",{className:"relative flex-1",children:[(0,mg.jsx)(wJ,{className:"w-4 h-4 text-gray-600 absolute left-3 top-3"}),(0,mg.jsx)("input",{value:r,onChange:e=>a(e.target.value),placeholder:"Search name, username, email...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,mg.jsxs)("select",{value:l,onChange:e=>{c(e.target.value),o(1)},className:"px-3 py-2 border rounded-lg",children:[(0,mg.jsx)("option",{value:"",children:"All Roles"}),(0,mg.jsx)("option",{value:"competitor",children:"Competitor"}),(0,mg.jsx)("option",{value:"range_admin",children:"Range Admin"}),(0,mg.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,mg.jsx)("div",{className:"px-6 py-4 border-b",children:(0,mg.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Users"})}),g?(0,mg.jsx)("div",{className:"p-6 text-center",children:"Loading..."}):v?(0,mg.jsx)("div",{className:"p-6 text-center text-red-600",children:"Failed to load users"}):0===k.length?(0,mg.jsx)("div",{className:"p-6 text-center text-gray-700",children:"No users found"}):(0,mg.jsx)("div",{className:"divide-y",children:k.map(e=>{var t,r;return(0,mg.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mg.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-semibold text-gray-700",children:((null===(t=e.firstName)||void 0===t?void 0:t[0])||(null===(r=e.username)||void 0===r?void 0:r[0])||"U").toUpperCase()}),(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("div",{className:"font-semibold text-gray-900",children:[e.firstName," ",e.lastName," ",(0,mg.jsxs)("span",{className:"text-gray-700",children:["@",e.username]})]}),(0,mg.jsx)("div",{className:"text-sm text-gray-700",children:e.email}),(0,mg.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,mg.jsx)(EJ,{role:e.role}),"range_admin"===e.role&&e.rangeName&&(0,mg.jsxs)("span",{className:"px-2 py-0.5 text-xs rounded-full bg-blue-50 text-blue-700 flex items-center gap-1",children:[(0,mg.jsx)(xX,{className:"w-3 h-3"}),e.rangeName]}),(0,mg.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(e.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isVerified?"Verified":"Pending"}),(0,mg.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(!1===e.isActive?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:!1===e.isActive?"Inactive":"Active"})]})]})]}),(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsxs)("button",{onClick:()=>n("/profile/".concat(e.id)),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",children:[(0,mg.jsx)(vX,{className:"w-4 h-4"})," View Profile"]}),!e.isVerified&&(0,mg.jsxs)("button",{onClick:()=>b.mutate(e.id),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1",children:[(0,mg.jsx)(jJ,{className:"w-4 h-4"})," Verify"]}),!1!==e.isActive?(0,mg.jsxs)("button",{onClick:()=>w.mutate(e.id),className:"px-3 py-1 text-sm bg-gray-100 text-gray-800 rounded hover:bg-gray-200 flex items-center gap-1",children:[(0,mg.jsx)(NJ,{className:"w-4 h-4"})," Deactivate"]}):null,(0,mg.jsx)("div",{className:"relative",children:(0,mg.jsxs)("select",{value:e.role,onChange:t=>{return n=e.id,void("range_admin"===(r=t.target.value)?(d(n),f("")):j.mutate({userId:n,role:r}));var n,r},className:"px-2 py-1 text-sm border rounded",children:[(0,mg.jsx)("option",{value:"competitor",children:"Competitor"}),(0,mg.jsx)("option",{value:"range_admin",children:"Range Admin"}),(0,mg.jsx)("option",{value:"admin",children:"Admin"})]})}),"range_admin"===e.role&&(0,mg.jsxs)("button",{onClick:()=>{d(e.id),f(e.rangeId||"")},className:"px-3 py-1 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 flex items-center gap-1",title:"Change Range Assignment",children:[(0,mg.jsx)(xX,{className:"w-4 h-4"})," ",e.rangeName?"Change Range":"Assign Range"]}),(0,mg.jsxs)("button",{onClick:()=>(e=>{window.confirm("Remove ".concat(e.username||e.email,"? This deletes their scores and registrations."))&&S.mutate(e.id)})(e),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-1",children:[(0,mg.jsx)(Sy,{className:"w-4 h-4"})," Remove"]})]})]},e.id)})}),(0,mg.jsxs)("div",{className:"px-6 py-3 border-t flex items-center justify-between text-sm text-gray-700",children:[(0,mg.jsx)("div",{children:E?(0,mg.jsxs)("span",{children:["Page ",E.current," of ",E.total," \u2022 ",E.totalUsers," users"]}):null}),(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsxs)("button",{disabled:!(null!==E&&void 0!==E&&E.hasPrev),onClick:()=>o(e=>Math.max(1,e-1)),className:"px-2 py-1 border rounded disabled:opacity-50 flex items-center gap-1",children:[(0,mg.jsx)(SJ,{className:"w-4 h-4"})," Prev"]}),(0,mg.jsxs)("button",{disabled:!(null!==E&&void 0!==E&&E.hasNext),onClick:()=>o(e=>e+1),className:"px-2 py-1 border rounded disabled:opacity-50 flex items-center gap-1",children:["Next ",(0,mg.jsx)(kJ,{className:"w-4 h-4"})]})]})]})]}),u&&(0,mg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,mg.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Select Range"}),(0,mg.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"range_admin"===(null===(t=k.find(e=>e.id===u))||void 0===t?void 0:t.role)?"Change range assignment for this range admin:":"Assign a range to this user (they will be set as range admin):"}),(0,mg.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border rounded-lg mb-4",children:[(0,mg.jsx)("option",{value:"",children:"Select a range..."}),x.map(e=>(0,mg.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,mg.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,mg.jsx)("button",{onClick:()=>{d(null),f("")},className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,mg.jsx)("button",{onClick:()=>{if(!u)return;if(!h)return void nn.error("Please select a range");const e=k.find(e=>e.id===u);"range_admin"===(null===e||void 0===e?void 0:e.role)?N.mutate({userId:u,rangeId:h}):j.mutate({userId:u,role:"range_admin",rangeId:h})},disabled:!h||j.isLoading||N.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:j.isLoading||N.isLoading?"Saving...":"Save"})]})]})})]})},_J=[{id:"purpose",title:"1. Purpose & Scope",body:"The X\u2011Ring Classic is a precision .22LR rifle program designed to be easy to run at any range while producing nationally comparable results. This rulebook defines safety, eligibility, equipment, course of fire, scoring, classifications, and match administration. Where a local range policy is stricter than these rules, the local policy prevails."},{id:"safety",title:"2. Safety",bullets:["All local range rules and commands are mandatory.","Actions open, chamber flags inserted, and muzzle down\u2011range unless actively firing.","Eye protection is required for all persons on the line; hearing protection is strongly recommended.","Cease\u2011fire: Any person may call \u201cCease Fire\u201d. On a cease\u2011fire, make safe immediately.","Handling firearms behind the line or during a cease\u2011fire is prohibited."]},{id:"eligibility",title:"3. Eligibility & Divisions",bullets:["Open to all shooters in good standing with the host range.","Age groups (optional by match): Junior (under 18), Adult, Senior (60+).","Divisions: Indoor (25\u2011yard), Outdoor (50\u2011yard). Formats: Benchrest, Prone, Standing.","Competitors may enter multiple divisions if separate cards are fired."]},{id:"equipment",title:"4. Equipment",bullets:[".22LR rifle only. Any safe trigger and sighting system.","Supports: Bench sleds are NOT allowed. Must use sandbag and bipod, or sandbag-only support (front/rear).","No muzzle brakes that direct blast laterally toward other shooters.","Ammunition must be commercially manufactured .22 Long Rifle."]},{id:"course",title:"5. Course of Fire",bullets:["Competitors fire four 25-bull target sheets (cards), one shot per bull, for 100 scoring rounds total.","Standard card: 25 scoring shots, one per bull, within the allotted time (typ. 15\u201320 minutes).","Sighters: At the match director\u2019s option; sighters are not scored.","Alibis: Malfunctions may be cleared; no refires for ammunition or equipment issues."]},{id:"targets",title:"6. Targets & Distances",body:"Indoor cards are fired at 25 yards; outdoor at 50 yards. Targets must have a clearly marked 10\u2011ring and X\u2011ring. Clubs may use equivalent commercially available targets."},{id:"scoring",title:"7. Scoring",bullets:["Per\u2011shot value 0\u201310. An X counts as 10 with X credit.","A shot that clearly touches a higher ring (line\u2011breaker) receives the higher value.","One hole per bull is scored; excessive hits use the lowest value(s) that can be attributed to the bull.","Visible cross\u2011fire on another target is recorded as a miss on the shooter\u2019s own target.","Card total: sum of 25 shots. X\u2011count is recorded for tiebreaks."]},{id:"verification",title:"8. Submission & Verification",bullets:["Competitors may self\u2011report scores in the app and attach optional photo/video evidence.","A Range Admin verifies cards. Admin\u2011entered cards are auto\u2011approved but must reflect the physical target.","Suspected errors or rule violations may be flagged for review."]},{id:"classifications",title:"9. Classifications",body:"Class tracks consistent performance and provides fair peer groups. Rankings are based on recorded scorecards.",bullets:["Computation window: last 12 months.","Qualifying set: best 6 of last 10 approved cards (per 25\u2011shot card).","New shooters: your rank is based on the scorecards you have recorded so far.","Tiers (average card / X\u2011avg): Grand Master \u2265 249.0 and \u2265 15 X; Master \u2265 247.0 and \u2265 10 X; Diamond \u2265 245.0 and \u2265 8 X; Platinum \u2265 242.0 and \u2265 6 X; Gold \u2265 238.0; otherwise Bronze."]},{id:"tiebreaks",title:"10. Ties & Records",bullets:["Ties are broken by X\u2011count, then by earliest submission time, then coin toss if required.","Match records require Range Admin verification and retained target or image."]},{id:"conduct",title:"11. Conduct & Penalties",bullets:["Unsportsmanlike conduct, unsafe gun handling, or falsifying scores may result in disqualification and removal from the platform.","Match directors may impose local penalties consistent with these rules."]},{id:"md",title:"12. Match Administration",bullets:["Range Admins create competitions, publish results, and verify scores.","Protests must be filed the day of the match or within 48 hours for remote verification matches.","Rules updates are published in\u2011app; the most recent in\u2011app version governs."]}],OJ=()=>(0,mg.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"The X-Ring Classic Rulebook"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Official rules, scoring, and classifications"})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,mg.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Table of Contents"}),(0,mg.jsx)("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-sm",children:_J.map(e=>(0,mg.jsx)("a",{href:"#".concat(e.id),className:"text-blue-600 hover:text-blue-800",children:e.title},e.id))})]}),(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 space-y-8",children:[_J.map(e=>(0,mg.jsxs)("section",{id:e.id,children:[(0,mg.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),e.body&&(0,mg.jsx)("p",{className:"text-gray-700 mb-3",children:e.body}),Array.isArray(e.bullets)&&(0,mg.jsx)("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:e.bullets.map((e,t)=>(0,mg.jsx)("li",{children:e},t))})]},e.id)),(0,mg.jsxs)("div",{className:"text-sm text-gray-700 pt-2 border-t",children:["Version 1.0 \u2022 Effective ",(new Date).toLocaleDateString()]})]}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsx)("div",{className:"text-sm text-gray-700",children:"Looking for the previous PDF?"}),(0,mg.jsx)("a",{href:"/The_X_Ring_Classic_Rulebook_Updated.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-gray-800 text-white rounded hover:bg-gray-900 text-sm",children:"Open Previous PDF"})]})})]}),TJ=gy("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),AJ=()=>{var e;const{data:t,isLoading:n,error:r}=(0,Re.useQuery)("public-ranges",()=>Hv({active:!0}),{staleTime:6e5}),i=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.ranges)||[];return n?(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r?(0,mg.jsxs)("div",{className:"text-center py-8",children:[(0,mg.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading ranges"}),(0,mg.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):(0,mg.jsxs)("div",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"text-center",children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white mb-4 drop-shadow-lg",children:"Participating Ranges"}),(0,mg.jsx)("p",{className:"text-white drop-shadow-md",children:"Discover the shooting ranges that are part of the X-Ring Classic competition network"})]}),(0,mg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(xX,{className:"w-8 h-8 text-blue-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Ranges"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:i.length})]})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(yy,{className:"w-8 h-8 text-green-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Locations"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Set(i.map(e=>e.state)).size})]})]})}),(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,mg.jsxs)("div",{className:"flex items-center",children:[(0,mg.jsx)(TJ,{className:"w-8 h-8 text-purple-500"}),(0,mg.jsxs)("div",{className:"ml-4",children:[(0,mg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Network Coverage"}),(0,mg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Growing"})]})]})})]}),0===i.length?(0,mg.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,mg.jsx)(xX,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,mg.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No ranges available yet"}),(0,mg.jsx)("p",{className:"text-gray-600",children:"Check back soon as we expand our network of participating ranges."})]}):(0,mg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,mg.jsx)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:(0,mg.jsxs)("div",{className:"p-6",children:[(0,mg.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(xX,{className:"w-6 h-6 text-blue-500"}),(0,mg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name})]})}),(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,mg.jsx)(yy,{className:"w-4 h-4 text-gray-400 mt-1 flex-shrink-0"}),(0,mg.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,mg.jsx)("p",{children:e.address}),(0,mg.jsxs)("p",{children:[e.city,", ",e.state," ",e.zipCode]})]})]}),e.phone&&(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(jX,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("a",{href:"tel:".concat(e.phone),className:"text-sm text-gray-600 hover:text-blue-600",children:e.phone})]}),e.email&&(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(wX,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("a",{href:"mailto:".concat(e.email),className:"text-sm text-gray-600 hover:text-blue-600",children:e.email})]}),e.website&&(0,mg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mg.jsx)(TJ,{className:"w-4 h-4 text-gray-400"}),(0,mg.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Visit Website"})]}),e.description&&(0,mg.jsx)("p",{className:"text-sm text-gray-600 mt-3 line-clamp-3",children:e.description}),e.facilities&&(0,mg.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,mg.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Facilities"}),(0,mg.jsx)("p",{className:"text-sm text-gray-600",children:e.facilities})]})]})]})},e.id))})]})},PJ=["title","titleId"];function IJ(e,t){let{title:n,titleId:r}=e,a=wg(e,PJ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const DJ=i.forwardRef(IJ),RJ=["title","titleId"];function MJ(e,t){let{title:n,titleId:r}=e,a=wg(e,RJ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const LJ=i.forwardRef(MJ),FJ=["title","titleId"];function UJ(e,t){let{title:n,titleId:r}=e,a=wg(e,FJ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}const zJ=i.forwardRef(UJ),BJ=["title","titleId"];function VJ(e,t){let{title:n,titleId:r}=e,a=wg(e,BJ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const qJ=i.forwardRef(VJ),HJ=()=>{const e=(0,i.useMemo)(()=>[{id:"mission",title:"Showcase Your Range with the X-Ring Classic",description:"Turn your facility into a destination for precision rifle competitors. Showcase your amenities and grow participation with a national match experience tailored to modern shooters.",icon:Tg,highlights:["Bring national visibility to your local range","Access branded marketing kits and launch templates","Leverage proven match operations and scoring tools"],cta:{href:"/ranges",label:"Explore Participating Ranges"}},{id:"experience",title:"Deliver a Premium Match-Day Experience",description:"Our event blueprint covers registration through awards. Tap into standardized courses of fire, scoring workflows, and communication templates that keep shooters engaged from arrival to results.",icon:DJ,highlights:["Streamlined registration and waivers","Automated squadding and scorecards","Trophy and merch playbooks for every skill tier"],cta:{href:"/rulebook",label:"Review Event Blueprint"}},{id:"technology",title:"Score with Confidence in Real Time",description:"Digitize every relay with our range-ready score submission app. Real-time dashboards keep staff aligned, verify accuracy, and publish final standings instantly.",icon:LJ,highlights:["Mobile-friendly score entry for ROs","Built-in verification and audit trails","Live leaderboard embeds for clubhouse displays"],cta:{href:"/leaderboard",label:"See Live Leaderboards"}},{id:"revenue",title:"Unlock New Revenue Streams",description:"Pair memberships, clinics, and pro shop bundles with the X-Ring Classic brand. Our pricing calculators and sponsor outreach kits help you capture premium value for every relay.",icon:jQ,highlights:["Revenue modeling tools for every bay count","Partner playbooks for sponsors and vendors","Automated payouts and reconciliation reporting"],cta:{href:"/competitions",label:"Plan Your Event Calendar"}},{id:"community",title:"Grow a Loyal Shooter Community",description:"Segmented communications keep new shooters, veterans, and junior athletes coming back. Activate mentorship programs, badges, and year-long leaderboards to deepen loyalty.",icon:ay,highlights:["Pre-built email journeys and social media assets","Range staff onboarding and training content","Retention dashboards with key engagement metrics"],cta:{href:"/shooting-classes",label:"Explore Shooter Pathways"}},{id:"support",title:"Launch with Dedicated Concierge Support",description:"From your first interest call to match day, our concierge team keeps your rollout on track. Weekly office hours, on-demand tutorials, and live event coverage are included.",icon:zJ,highlights:["White-glove onboarding with checklists and deadlines","Resource library packed with how-to videos and guides","Live weekend hotline for last-mile troubleshooting"],cta:{href:"/login",label:"Preview the Admin Portal"}}],[]),[t,n]=(0,i.useState)(0),r=e[t],a=r.icon;return(0,mg.jsx)("div",{className:"relative min-h-screen py-16",children:(0,mg.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mg.jsxs)("header",{className:"text-center mb-16",children:[(0,mg.jsx)("span",{className:"inline-flex items-center px-4 py-1 rounded-full text-sm font-semibold bg-red-800/20 text-red-300 border border-red-700/50",children:"Built for Range Leadership"}),(0,mg.jsx)("h1",{className:"mt-6 text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:"The Marketing Deck for Prospective X-Ring Classic Ranges"}),(0,mg.jsx)("p",{className:"mt-6 text-lg text-gray-300 max-w-3xl mx-auto",children:"Give your shooters a premier competition powered by a unified ruleset, real-time scoring, and concierge support. Navigate the slides below to see how the X-Ring Classic platform accelerates every part of your rollout."})]}),(0,mg.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10",children:[(0,mg.jsx)("nav",{className:"lg:w-1/4 flex lg:flex-col gap-3 overflow-x-auto pb-2 lg:pb-0",children:e.map((e,r)=>{const i=e.icon,a=r===t;return(0,mg.jsx)("button",{type:"button",onClick:()=>n(r),className:"flex-1 lg:flex-none lg:w-full rounded-2xl border transition-all duration-200 px-5 py-4 text-left shadow-lg ".concat(a?"bg-gray-900/90 border-red-700 shadow-red-900/40 text-white":"bg-gray-900/40 border-gray-800 text-gray-300 hover:border-red-700/70 hover:text-white"),children:(0,mg.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mg.jsx)("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl border ".concat(a?"border-red-500 bg-red-500/10 text-red-300":"border-gray-700 bg-gray-800 text-gray-400"),children:(0,mg.jsx)(i,{className:"h-6 w-6","aria-hidden":"true"})}),(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("p",{className:"text-sm font-semibold uppercase tracking-wide text-red-300",children:["Slide ",r+1]}),(0,mg.jsx)("h2",{className:"text-lg font-semibold leading-tight",children:e.title})]})]})},e.id)})}),(0,mg.jsxs)("section",{className:"lg:w-3/4 bg-gray-950/70 border border-red-900/60 rounded-3xl shadow-2xl shadow-black/30 p-8 sm:p-12 backdrop-blur",children:[(0,mg.jsxs)("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsxs)("p",{className:"text-sm uppercase tracking-widest text-red-400",children:["Slide ",t+1," of ",e.length]}),(0,mg.jsx)("h3",{className:"mt-2 text-3xl font-bold text-white",children:r.title})]}),(0,mg.jsxs)("div",{className:"hidden sm:flex items-center gap-3",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>n(t=>0===t?e.length-1:t-1),className:"px-4 py-2 rounded-xl border border-gray-700 text-gray-300 hover:text-white hover:border-red-600 transition",children:"Previous"}),(0,mg.jsx)("button",{type:"button",onClick:()=>n(t=>t===e.length-1?0:t+1),className:"px-4 py-2 rounded-xl bg-red-700 hover:bg-red-600 text-white font-semibold transition",children:"Next"})]})]}),(0,mg.jsxs)("div",{className:"mt-8 grid gap-8 lg:grid-cols-[minmax(0,3fr)_minmax(0,2fr)] items-start",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"text-lg text-gray-300 leading-relaxed",children:r.description}),(0,mg.jsx)("ul",{className:"mt-8 space-y-4",children:r.highlights.map(e=>(0,mg.jsxs)("li",{className:"flex items-start gap-3",children:[(0,mg.jsx)("span",{className:"mt-1 inline-flex h-7 w-7 items-center justify-center rounded-full bg-red-700/30 text-red-300 border border-red-800/50",children:(0,mg.jsx)(qJ,{className:"h-4 w-4","aria-hidden":"true"})}),(0,mg.jsx)("span",{className:"text-base text-gray-200",children:e})]},e))}),(0,mg.jsx)("div",{className:"mt-10",children:(0,mg.jsx)(Pe,{to:r.cta.href,className:"inline-flex items-center justify-center px-6 py-3 rounded-2xl bg-red-600 hover:bg-red-500 text-white font-semibold shadow-lg shadow-red-900/40 transition",children:r.cta.label})})]}),(0,mg.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border border-gray-800 bg-gradient-to-br from-gray-900 via-gray-950 to-black p-8",children:[(0,mg.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(circle_at_top,_rgba(248,113,113,0.15),_transparent_60%)]"}),(0,mg.jsxs)("div",{className:"relative",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-3 text-red-300",children:[(0,mg.jsx)(a,{className:"h-10 w-10","aria-hidden":"true"}),(0,mg.jsx)("span",{className:"text-sm font-semibold uppercase tracking-widest",children:"Key Outcome"})]}),(0,mg.jsx)("p",{className:"mt-6 text-xl font-semibold text-white",children:r.highlights[0]}),(0,mg.jsx)("p",{className:"mt-3 text-sm text-gray-400",children:"Each slide unlocks turnkey assets and support so your team can focus on delivering a legendary match weekend without reinventing the wheel."})]})]})]}),(0,mg.jsx)("div",{className:"mt-10 flex justify-center gap-3",children:e.map((e,r)=>(0,mg.jsx)("button",{type:"button",onClick:()=>n(r),className:"h-2.5 rounded-full transition-all ".concat(r===t?"w-10 bg-red-500":"w-4 bg-gray-600 hover:bg-red-400"),"aria-label":"Go to slide ".concat(r+1)},r))}),(0,mg.jsxs)("div",{className:"mt-12 flex flex-col sm:flex-row items-center justify-between gap-6",children:[(0,mg.jsx)("button",{type:"button",onClick:()=>n(t=>0===t?e.length-1:t-1),className:"w-full sm:w-auto px-5 py-3 rounded-xl border border-gray-700 text-gray-300 hover:text-white hover:border-red-600 transition",children:"Previous Slide"}),(0,mg.jsx)("button",{type:"button",onClick:()=>n(t=>t===e.length-1?0:t+1),className:"w-full sm:w-auto px-5 py-3 rounded-xl bg-red-700 hover:bg-red-600 text-white font-semibold transition",children:"Next Slide"})]})]})]}),(0,mg.jsxs)("section",{className:"mt-20 bg-gradient-to-r from-red-800 via-red-600 to-red-500 rounded-3xl shadow-2xl shadow-red-900/50 p-10 sm:p-14 text-center text-white",children:[(0,mg.jsx)("h2",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight",children:"Ready to Host the Next X-Ring Classic Weekend?"}),(0,mg.jsx)("p",{className:"mt-4 text-lg max-w-3xl mx-auto text-red-100",children:"Apply for Range Admin access to unlock the full planning workspace, onboarding concierge, and paywall-protected launch resources."}),(0,mg.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,mg.jsx)(Pe,{to:"/register?intent=range-admin",className:"w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 rounded-2xl bg-black/90 hover:bg-black text-red-200 font-semibold uppercase tracking-wide shadow-lg shadow-black/40 transition",children:"Apply for Range Admin Access"}),(0,mg.jsx)(Pe,{to:"/login",className:"w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 rounded-2xl border-2 border-white/80 bg-transparent hover:bg-white/10 text-white font-semibold transition",children:"Preview Admin Demo"})]})]})]})})},WJ=["title","titleId"];function KJ(e,t){let{title:n,titleId:r}=e,a=wg(e,WJ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const QJ=i.forwardRef(KJ),XJ=["title","titleId"];function GJ(e,t){let{title:n,titleId:r}=e,a=wg(e,XJ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const YJ=i.forwardRef(GJ),$J=["title","titleId"];function JJ(e,t){let{title:n,titleId:r}=e,a=wg(e,$J);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ZJ=i.forwardRef(JJ),eZ=["title","titleId"];function tZ(e,t){let{title:n,titleId:r}=e,a=wg(e,eZ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const nZ=i.forwardRef(tZ),rZ=["title","titleId"];function iZ(e,t){let{title:n,titleId:r}=e,a=wg(e,rZ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const aZ=i.forwardRef(iZ),sZ=["title","titleId"];function oZ(e,t){let{title:n,titleId:r}=e,a=wg(e,sZ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const lZ=i.forwardRef(oZ),cZ=e=>{let{title:t,value:n,icon:r,description:i}=e;return(0,mg.jsxs)("div",{className:"bg-gray-900/70 border border-gray-800 rounded-xl p-5 flex items-start gap-4 shadow-lg",children:[(0,mg.jsx)("div",{className:"bg-red-600/10 text-red-300 rounded-lg p-3",children:(0,mg.jsx)(r,{className:"w-6 h-6"})}),(0,mg.jsxs)("div",{className:"flex-1",children:[(0,mg.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-wide",children:t}),(0,mg.jsx)("p",{className:"text-2xl font-semibold text-white",children:n}),i&&(0,mg.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:i})]})]})},uZ=()=>{var e,t,n,r,a,s,o,l,c,u;const{user:d}=xg(),[h,f]=(0,i.useState)([]),[m,p]=(0,i.useState)(null),[g,v]=(0,i.useState)([]),[y,x]=(0,i.useState)(!0),[b,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{var e,t,n,r;x(!0);const[i,a,s]=await Promise.all([cJ(),uJ(),dJ()]);f(null!==(e=null===i||void 0===i?void 0:i.sponsorships)&&void 0!==e?e:[]),p(null!==(t=null!==(n=null===a||void 0===a?void 0:a.analytics)&&void 0!==n?n:a)&&void 0!==t?t:null),v(null!==(r=null===s||void 0===s?void 0:s.payments)&&void 0!==r?r:[])}catch(i){console.error("Failed to load sponsorship dashboard data",i),w("Unable to load sponsorship insights. Please refresh or contact partnerships@thexringclassic.com.")}finally{x(!1)}})()},[]);const{activeCount:j,upcomingCount:N,impressions:S,clicks:k}=(0,i.useMemo)(()=>{var e,t,n;const r=new Date,i=h.filter(e=>{const t=e.startDate?new Date(e.startDate):null,n=e.endDate?new Date(e.endDate):null;return t&&n?t<=r&&n>=r:"active"===e.status}).length,a=h.filter(e=>{const t=e.startDate?new Date(e.startDate):null;return t?t>r:"upcoming"===e.status}).length,s=null!==(e=null===m||void 0===m?void 0:m.totals)&&void 0!==e?e:{};return{activeCount:i,upcomingCount:a,impressions:null!==(t=s.impressions)&&void 0!==t?t:0,clicks:null!==(n=s.clicks)&&void 0!==n?n:0}},[m,h]),E=e=>{var t;const n=null===e||void 0===e?void 0:e.toLowerCase();return(0,mg.jsxs)("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium ".concat(null!==(t={active:"bg-emerald-500/10 text-emerald-300 border border-emerald-500/40",upcoming:"bg-blue-500/10 text-blue-300 border border-blue-500/40",completed:"bg-gray-500/10 text-gray-300 border border-gray-500/40",pending:"bg-amber-500/10 text-amber-300 border border-amber-500/40",cancelled:"bg-red-500/10 text-red-300 border border-red-500/40"}[n])&&void 0!==t?t:"bg-gray-600/20 text-gray-200"),children:["active"===n?(0,mg.jsx)(QJ,{className:"w-3.5 h-3.5"}):null,"completed"===n?(0,mg.jsx)(YJ,{className:"w-3.5 h-3.5"}):null,"pending"===n?(0,mg.jsx)(ZJ,{className:"w-3.5 h-3.5"}):null,n&&!["active","completed","pending"].includes(n)?(0,mg.jsx)(Mg,{className:"w-3.5 h-3.5"}):null,(0,mg.jsx)("span",{className:"capitalize",children:null!==e&&void 0!==e?e:"Unknown"})]})};return(0,mg.jsxs)("div",{className:"space-y-8",children:[(0,mg.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Sponsor Dashboard"}),(0,mg.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:null!==d&&void 0!==d&&d.organization||null!==d&&void 0!==d&&d.company||null!==d&&void 0!==d&&null!==(e=d.profile)&&void 0!==e&&e.company||null!==d&&void 0!==d&&null!==(t=d.profile)&&void 0!==t&&t.firstName?(0,mg.jsxs)("span",{children:["Campaign performance overview for ",(0,mg.jsx)("span",{className:"text-gray-200 font-medium",children:d.organization||d.company||(null===(n=d.profile)||void 0===n?void 0:n.company)||(null===(r=d.profile)||void 0===r?void 0:r.firstName)}),"."]}):"Campaign performance overview and asset management hub."})]}),(0,mg.jsxs)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 text-sm text-gray-300 hover:text-white px-4 py-2 border border-gray-700 rounded-lg bg-gray-900/70",children:[(0,mg.jsx)(nZ,{className:"w-4 h-4 ".concat(y?"animate-spin":"")}),"Refresh data"]})]}),y?(0,mg.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,mg.jsxs)("div",{className:"flex flex-col items-center gap-4 text-gray-300",children:[(0,mg.jsx)(nZ,{className:"w-6 h-6 animate-spin"}),(0,mg.jsx)("p",{className:"text-sm",children:"Loading sponsorship performance\u2026"})]})}):b?(0,mg.jsxs)("div",{className:"bg-red-500/10 border border-red-500/40 text-red-200 rounded-xl p-6 flex items-start gap-3",children:[(0,mg.jsx)(aZ,{className:"w-6 h-6"}),(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"font-semibold",children:b}),(0,mg.jsx)("p",{className:"text-sm text-red-100 mt-1",children:"If the issue persists, email sponsorships@thexringclassic.com for support."})]})]}):(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[(0,mg.jsx)(cZ,{title:"Active placements",value:j,icon:QJ,description:"Currently live on site"}),(0,mg.jsx)(cZ,{title:"Upcoming flights",value:N,icon:ZJ,description:"Scheduled to launch"}),(0,mg.jsx)(cZ,{title:"30-day impressions",value:S.toLocaleString(),icon:Mg,description:null!==m&&void 0!==m&&m.timeframe?"Reporting window: ".concat(m.timeframe):"Rolling 30-day view"}),(0,mg.jsx)(cZ,{title:"30-day clicks",value:k.toLocaleString(),icon:Vg,description:"Unique click-through totals"})]}),(0,mg.jsxs)("section",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-6 shadow-xl space-y-4",children:[(0,mg.jsx)("div",{className:"flex items-center justify-between",children:(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Sponsorship placements"}),(0,mg.jsx)("p",{className:"text-sm text-gray-400",children:"Active, upcoming, and historical bookings with payment status."})]})}),(0,mg.jsx)("div",{className:"overflow-x-auto",children:(0,mg.jsxs)("table",{className:"min-w-full divide-y divide-gray-800",children:[(0,mg.jsx)("thead",{children:(0,mg.jsxs)("tr",{className:"text-xs uppercase tracking-wider text-gray-400",children:[(0,mg.jsx)("th",{className:"px-4 py-2 text-left",children:"Placement"}),(0,mg.jsx)("th",{className:"px-4 py-2 text-left",children:"Flight window"}),(0,mg.jsx)("th",{className:"px-4 py-2 text-left",children:"Status"}),(0,mg.jsx)("th",{className:"px-4 py-2 text-left",children:"Payment"}),(0,mg.jsx)("th",{className:"px-4 py-2 text-left",children:"Latest metrics"})]})}),(0,mg.jsxs)("tbody",{className:"divide-y divide-gray-800 text-sm text-gray-200",children:[h.map(e=>{var t,n,r,i,a,s,o,l,c;return(0,mg.jsxs)("tr",{className:"hover:bg-gray-800/40",children:[(0,mg.jsxs)("td",{className:"px-4 py-3",children:[(0,mg.jsx)("p",{className:"font-medium text-white",children:e.placement}),(0,mg.jsx)("p",{className:"text-xs text-gray-400",children:e.campaignName||"\u2014"})]}),(0,mg.jsx)("td",{className:"px-4 py-3",children:(0,mg.jsxs)("div",{className:"text-xs text-gray-300",children:[(0,mg.jsxs)("p",{children:[e.startDate?new Date(e.startDate).toLocaleDateString():"TBD"," \u2192 ",e.endDate?new Date(e.endDate).toLocaleDateString():"TBD"]}),(0,mg.jsx)("p",{className:"text-gray-500",children:e.duration||"30-day flight"})]})}),(0,mg.jsx)("td",{className:"px-4 py-3",children:E(e.status)}),(0,mg.jsxs)("td",{className:"px-4 py-3",children:[(0,mg.jsx)("p",{className:"text-xs text-gray-300",children:e.paymentStatus||"Pending enablement"}),(0,mg.jsxs)("p",{className:"text-xs text-gray-500",children:["Invoice: ",e.invoiceId||"N/A"]})]}),(0,mg.jsx)("td",{className:"px-4 py-3",children:(0,mg.jsxs)("div",{className:"text-xs text-gray-300 space-y-1",children:[(0,mg.jsxs)("p",{children:["Impressions: ",null!==(t=null===(n=e.metrics)||void 0===n||null===(r=n.impressions)||void 0===r||null===(i=r.toLocaleString)||void 0===i?void 0:i.call(r))&&void 0!==t?t:"\u2014"]}),(0,mg.jsxs)("p",{children:["Clicks: ",null!==(a=null===(s=e.metrics)||void 0===s||null===(o=s.clicks)||void 0===o||null===(l=o.toLocaleString)||void 0===l?void 0:l.call(o))&&void 0!==a?a:"\u2014"]}),(0,mg.jsxs)("p",{children:["CTR: ",null!==(c=e.metrics)&&void 0!==c&&c.ctr?"".concat(e.metrics.ctr,"%"):"\u2014"]})]})})]},e.id)}),0===h.length&&(0,mg.jsx)("tr",{children:(0,mg.jsx)("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-400",children:"No sponsorships found. Once your first placement is confirmed it will appear here with live metrics."})})]})]})})]}),(0,mg.jsxs)("section",{className:"grid gap-6 lg:grid-cols-3",children:[(0,mg.jsxs)("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-6 shadow-lg space-y-4 lg:col-span-2",children:[(0,mg.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Visitor analytics"}),(0,mg.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:null!==m&&void 0!==m&&m.placements?Object.entries(m.placements).map(e=>{var t,n,r,i,a,s;let[o,l]=e;return(0,mg.jsxs)("div",{className:"rounded-xl border border-gray-800 bg-gray-950/60 p-4 space-y-2",children:[(0,mg.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-wide",children:o.replace(/-/g," ")}),(0,mg.jsxs)("p",{className:"text-2xl font-semibold text-white",children:[null!==(t=null===(n=l.impressions)||void 0===n||null===(r=n.toLocaleString)||void 0===r?void 0:r.call(n))&&void 0!==t?t:"\u2014"," impressions"]}),(0,mg.jsxs)("p",{className:"text-sm text-gray-400",children:["Clicks: ",null!==(i=null===(a=l.clicks)||void 0===a||null===(s=a.toLocaleString)||void 0===s?void 0:s.call(a))&&void 0!==i?i:"\u2014"]}),(0,mg.jsxs)("p",{className:"text-sm text-gray-500",children:["CTR: ",l.ctr?"".concat(l.ctr,"%"):"\u2014"]})]},o)}):(0,mg.jsx)("p",{className:"text-sm text-gray-400",children:"Analytics will populate once your campaign delivers impressions."})}),(0,mg.jsxs)("div",{className:"grid gap-4 md:grid-cols-3 text-sm text-gray-300",children:[(0,mg.jsxs)("div",{className:"rounded-lg border border-gray-800 bg-gray-950/60 p-4",children:[(0,mg.jsx)("p",{className:"text-xs uppercase text-gray-500",children:"Conversion rate"}),(0,mg.jsxs)("p",{className:"text-lg font-semibold text-white",children:[null!==(a=null===m||void 0===m||null===(s=m.placeholders)||void 0===s?void 0:s.conversionRate)&&void 0!==a?a:"\u2014","%"]}),(0,mg.jsx)("p",{className:"text-xs text-gray-500",children:"Placeholder metric \u2014 integrate CRM attribution feed to activate."})]}),(0,mg.jsxs)("div",{className:"rounded-lg border border-gray-800 bg-gray-950/60 p-4",children:[(0,mg.jsx)("p",{className:"text-xs uppercase text-gray-500",children:"Average CTR"}),(0,mg.jsxs)("p",{className:"text-lg font-semibold text-white",children:[null!==(o=null===m||void 0===m||null===(l=m.placeholders)||void 0===l?void 0:l.averageCtr)&&void 0!==o?o:"\u2014","%"]}),(0,mg.jsx)("p",{className:"text-xs text-gray-500",children:"Automatic once click + impression tracking fully enabled."})]}),(0,mg.jsxs)("div",{className:"rounded-lg border border-gray-800 bg-gray-950/60 p-4",children:[(0,mg.jsx)("p",{className:"text-xs uppercase text-gray-500",children:"Post-click conversions"}),(0,mg.jsx)("p",{className:"text-lg font-semibold text-white",children:null!==(c=null===m||void 0===m||null===(u=m.conversions)||void 0===u?void 0:u.reported)&&void 0!==c?c:0}),(0,mg.jsx)("p",{className:"text-xs text-gray-500",children:"Placeholder for future ecommerce or CRM integrations."})]})]})]}),(0,mg.jsxs)("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-6 shadow-lg space-y-4",children:[(0,mg.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Payments & invoices"}),(0,mg.jsxs)("ul",{className:"space-y-3 text-sm text-gray-200",children:[g.map(e=>(0,mg.jsxs)("li",{className:"rounded-lg border border-gray-800 bg-gray-950/60 p-3",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("p",{className:"font-medium text-white",children:e.label}),(0,mg.jsxs)("p",{className:"text-xs text-gray-400",children:["Due: ",e.dueDate?new Date(e.dueDate).toLocaleDateString():"TBD"]})]}),(0,mg.jsx)("span",{className:"text-xs font-semibold uppercase ".concat("paid"===e.status?"text-emerald-300":"pending"===e.status?"text-amber-300":"text-red-300"),children:e.status})]}),(0,mg.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Amount: ",e.amount]})]},e.id)),0===g.length&&(0,mg.jsx)("li",{className:"text-sm text-gray-400",children:"Invoices will appear once a sponsorship is confirmed."})]}),(0,mg.jsxs)("div",{className:"bg-gray-950/60 border border-dashed border-gray-800 rounded-lg p-4 text-center text-sm text-gray-400",children:[(0,mg.jsx)(lZ,{className:"w-6 h-6 mx-auto text-gray-500"}),(0,mg.jsx)("p",{className:"mt-2 font-medium text-gray-200",children:"Asset management"}),(0,mg.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Upload and version banner creatives directly from this dashboard. Asset library integration is in development."})]})]})]})]})]})},dZ=["title","titleId"];function hZ(e,t){let{title:n,titleId:r}=e,a=wg(e,dZ);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const fZ=i.forwardRef(hZ),mZ=[{name:"Homepage Left Rail Banner",price:"$100",duration:"30-day placement",description:"Prominent placement that loads above the fold on desktop with persistent visibility as users scroll.",deliverables:["300x600 static JPG/PNG or animated GIF (under 1MB)","Destination URL for click-through tracking","Optional UTM parameters for analytics hand-off"],paypalKey:"leftRight100"},{name:"Homepage Right Rail Banner",price:"$100",duration:"30-day placement",description:"Pairs with the left rail unit to flank core content and follow the visitor journey through competition pages.",deliverables:["300x250 static JPG/PNG or animated GIF (under 750KB)","Destination URL for click-through tracking","Optional back-up image for dark mode"],paypalKey:"leftRight100"},{name:"Footer Marquee Banner",price:"$50",duration:"30-day placement",description:"Full-width placement at the bottom of every public page\u2014ideal for reminders, promos, or discount codes.",deliverables:["728x90 static JPG/PNG (under 500KB)","Destination URL for click-through tracking","Headline (45 characters) & supporting copy (90 characters)"],paypalKey:"bottom50"}],pZ={leftRight100:'\n    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">\n      <input type="hidden" name="cmd" value="_s-xclick" />\n      <input type="hidden" name="hosted_button_id" value="LEFT_RIGHT_100_PLACEMENT" />\n      <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_buynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!" />\n      <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1" />\n    </form>\n  ',bottom50:'\n    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">\n      <input type="hidden" name="cmd" value="_s-xclick" />\n      <input type="hidden" name="hosted_button_id" value="BOTTOM_RIBBON_50_PLACEMENT" />\n      <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_buynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!" />\n      <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1" />\n    </form>\n  '},gZ=()=>(0,mg.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 text-white text-center px-4 rounded-lg",children:[(0,mg.jsx)(Tg,{className:"w-8 h-8 mb-2"}),(0,mg.jsx)("p",{className:"font-semibold",children:"Sponsor confirmation required"}),(0,mg.jsx)("p",{className:"text-sm text-gray-200 mt-1",children:"PayPal checkout is locked until creative is approved and placement dates are confirmed by our partnerships team."})]}),vZ=()=>(0,mg.jsxs)("div",{className:"space-y-12",children:[(0,mg.jsxs)("section",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white rounded-2xl shadow-2xl overflow-hidden relative",children:[(0,mg.jsx)("div",{className:"absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=1200&q=80')] bg-cover bg-center"}),(0,mg.jsx)("div",{className:"relative px-6 py-12 sm:px-12 sm:py-16 lg:px-16",children:(0,mg.jsxs)("div",{className:"max-w-3xl space-y-4",children:[(0,mg.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-red-600/10 text-red-300 px-4 py-1 text-sm font-semibold tracking-wide uppercase",children:[(0,mg.jsx)(Tg,{className:"w-4 h-4"})," Official Sponsorship Opportunities"]}),(0,mg.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold leading-tight",children:"Reach precision rimfire shooters with curated banner placements"}),(0,mg.jsx)("p",{className:"text-lg text-gray-200",children:"Reserve a 30-day banner placement and connect with a high-intent community of competitive marksmen, ranges, and gear enthusiasts. Each package includes creative QA, transparent reporting, and concierge onboarding."}),(0,mg.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-200",children:[(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsx)(ZJ,{className:"w-4 h-4"})," 30-day flight per booking"]}),(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsx)(fZ,{className:"w-4 h-4"})," Campaign brief + creative checklist"]}),(0,mg.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mg.jsx)(Vg,{className:"w-4 h-4"})," Impression & click analytics dashboard"]})]})]})})]}),(0,mg.jsxs)("section",{className:"space-y-6",children:[(0,mg.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,mg.jsx)("h2",{className:"text-2xl font-semibold text-gray-100",children:"Placement menu"}),(0,mg.jsx)("span",{className:"text-sm text-gray-400",children:"30-day billing \u2022 Creative swap allowed 1x per term"})]}),(0,mg.jsx)("div",{className:"grid gap-6 lg:grid-cols-3",children:mZ.map(e=>(0,mg.jsx)("div",{className:"relative bg-gray-900/70 border border-gray-800 rounded-xl p-6 shadow-lg hover:border-red-700/60 transition-colors",children:(0,mg.jsxs)("div",{className:"space-y-3",children:[(0,mg.jsxs)("div",{children:[(0,mg.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.name}),(0,mg.jsx)("p",{className:"text-sm text-gray-400",children:e.duration})]}),(0,mg.jsx)("p",{className:"text-3xl font-bold text-red-400",children:e.price}),(0,mg.jsx)("p",{className:"text-sm text-gray-300 leading-relaxed",children:e.description}),(0,mg.jsxs)("div",{className:"space-y-2",children:[(0,mg.jsx)("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide",children:"Creative deliverables"}),(0,mg.jsx)("ul",{className:"space-y-2",children:e.deliverables.map(e=>(0,mg.jsxs)("li",{className:"flex items-start gap-2 text-sm text-gray-200",children:[(0,mg.jsx)(Vg,{className:"w-4 h-4 mt-0.5 text-red-400 flex-shrink-0"}),(0,mg.jsx)("span",{children:e})]},e))})]}),(0,mg.jsx)("div",{className:"relative mt-6",children:(0,mg.jsxs)("div",{className:"rounded-lg border border-dashed border-red-600/50 bg-gray-950/60 p-4",children:[(0,mg.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Hosted PayPal checkout snippet (disabled until sponsor confirmation):"}),(0,mg.jsxs)("div",{className:"relative",children:[(0,mg.jsx)("div",{className:"opacity-40 pointer-events-none",dangerouslySetInnerHTML:{__html:pZ[e.paypalKey]}}),(0,mg.jsx)(gZ,{})]})]})})]})},e.name))})]}),(0,mg.jsxs)("section",{className:"grid gap-8 lg:grid-cols-2",children:[(0,mg.jsxs)("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-6 shadow-lg space-y-4",children:[(0,mg.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Activation workflow"}),(0,mg.jsxs)("ol",{className:"space-y-3 text-sm text-gray-300",children:[(0,mg.jsxs)("li",{children:[(0,mg.jsx)("span",{className:"font-semibold text-gray-100",children:"1. Submit interest:"})," Email ",(0,mg.jsx)("a",{href:"mailto:sponsorships@thexringclassic.com",className:"text-red-400 underline",children:"sponsorships@thexringclassic.com"})," with placement preference and requested flight dates."]}),(0,mg.jsxs)("li",{children:[(0,mg.jsx)("span",{className:"font-semibold text-gray-100",children:"2. Creative delivery:"})," Upload banner assets and click-through URL via the secure sponsor portal or share using your preferred file transfer service. Our team reviews specs within one business day."]}),(0,mg.jsxs)("li",{children:[(0,mg.jsx)("span",{className:"font-semibold text-gray-100",children:"3. Contract & invoice:"})," Once approved, we countersign the sponsorship agreement, enable the corresponding PayPal button, and send confirmation with launch timeline."]}),(0,mg.jsxs)("li",{children:[(0,mg.jsx)("span",{className:"font-semibold text-gray-100",children:"4. Launch & reporting:"})," Creative goes live on the confirmed start date. Sponsors receive automated analytics and mid-flight optimization tips from the dashboard."]})]})]}),(0,mg.jsxs)("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-6 shadow-lg space-y-4",children:[(0,mg.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Sponsorship terms"}),(0,mg.jsxs)("ul",{className:"space-y-3 text-sm text-gray-300",children:[(0,mg.jsx)("li",{children:"Placements are reserved on a first-confirmed basis. Payment links remain locked until agreements are executed."}),(0,mg.jsx)("li",{children:"Creatives must align with our firearms community guidelines. The X-Ring Classic reserves the right to decline or request revisions."}),(0,mg.jsx)("li",{children:"One complimentary creative swap per 30-day flight; additional swaps incur a $25 trafficking fee."}),(0,mg.jsx)("li",{children:"Performance metrics (impressions, clicks, CTR) are accessible in the Sponsor Dashboard. Exportable reports are available upon request."}),(0,mg.jsx)("li",{children:"Cancellation requires seven-day notice prior to the go-live date for a full refund. After launch, refunds are prorated based on delivered impressions."})]})]})]}),(0,mg.jsx)("section",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-6 shadow-lg",children:(0,mg.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2 lg:gap-12 items-center",children:[(0,mg.jsxs)("div",{className:"space-y-4",children:[(0,mg.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Ready to co-create a custom activation?"}),(0,mg.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Looking for seasonal takeovers, competition sponsorships, or bundled media packages? Our partnerships team can craft a bespoke plan that matches your goals and budget. Submit your creative files along with targeting notes and we will coordinate testing, go-live dates, and measurement KPIs."}),(0,mg.jsxs)("p",{className:"text-sm text-gray-400",children:["Send creative assets (ZIP or cloud link), approved copy, and click-through URLs to ",(0,mg.jsx)("a",{href:"mailto:sponsorships@thexringclassic.com",className:"text-red-400 underline",children:"sponsorships@thexringclassic.com"}),". We will respond within one business day with next steps and activation timing."]})]}),(0,mg.jsxs)("div",{className:"bg-gray-950/60 border border-gray-800 rounded-xl p-6 space-y-4",children:[(0,mg.jsx)("h3",{className:"text-lg font-semibold text-white",children:"What sponsors receive"}),(0,mg.jsxs)("ul",{className:"space-y-3 text-sm text-gray-300",children:[(0,mg.jsxs)("li",{className:"flex gap-3",children:[(0,mg.jsx)(Vg,{className:"w-5 h-5 text-red-400 flex-shrink-0"})," Dedicated account manager and creative QA checklist"]}),(0,mg.jsxs)("li",{className:"flex gap-3",children:[(0,mg.jsx)(Vg,{className:"w-5 h-5 text-red-400 flex-shrink-0"})," Weekly performance snapshot emailed to your team"]}),(0,mg.jsxs)("li",{className:"flex gap-3",children:[(0,mg.jsx)(Vg,{className:"w-5 h-5 text-red-400 flex-shrink-0"})," End-of-flight recap with optimization recommendations"]}),(0,mg.jsxs)("li",{className:"flex gap-3",children:[(0,mg.jsx)(Vg,{className:"w-5 h-5 text-red-400 flex-shrink-0"})," Optional co-branded social spotlights during major matches"]})]})]})]})})]}),yZ=e=>{var t,n;let{children:r,requiredRole:i,requireActiveSubscription:a=!1}=e;const{user:s,isAuthenticated:o,isLoading:l}=xg(),c=ee(),u=i&&(Array.isArray(i)?i.includes("range_admin"):"range_admin"===i),d=u&&a&&"range_admin"===(null===s||void 0===s?void 0:s.role)&&(null===s||void 0===s?void 0:s.rangeId)&&!["active","trialing"].includes((null===s||void 0===s?void 0:s.subscriptionStatus)||(null===s||void 0===s||null===(t=s.rangeSubscription)||void 0===t?void 0:t.status)||(null===s||void 0===s||null===(n=s.subscription)||void 0===n?void 0:n.status)||"inactive"),{data:h,isLoading:f}=(0,Re.useQuery)(["range-subscription-check",null===s||void 0===s?void 0:s.rangeId],()=>Wv(null===s||void 0===s?void 0:s.rangeId),{enabled:d,staleTime:12e4,retry:!1});if(l)return(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rifle-600"})});if(!o)return(0,mg.jsx)(xe,{to:"/login",state:{from:c},replace:!0});if(i){if(!(Array.isArray(i)?i.includes(null===s||void 0===s?void 0:s.role):(null===s||void 0===s?void 0:s.role)===i))return(0,mg.jsx)(xe,{to:"/",replace:!0});if(u&&a&&"range_admin"===(null===s||void 0===s?void 0:s.role)){var m,p,g,v;let e=(null===s||void 0===s?void 0:s.subscriptionStatus)||(null===s||void 0===s||null===(m=s.rangeSubscription)||void 0===m?void 0:m.status)||(null===s||void 0===s||null===(p=s.subscription)||void 0===p?void 0:p.status)||"inactive";if(d&&null!==h&&void 0!==h&&null!==(g=h.data)&&void 0!==g&&null!==(v=g.range)&&void 0!==v&&v.subscriptionStatus&&(e=h.data.range.subscriptionStatus),d&&f)return(0,mg.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,mg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rifle-600"})});if(!["active","trialing"].includes(e))return(0,mg.jsx)(xe,{to:"/range-admin/subscription",state:{from:c},replace:!0})}}return r};const xZ=function(){return(0,mg.jsx)("div",{className:"App",children:(0,mg.jsxs)(Ne,{children:[(0,mg.jsx)(we,{path:"/login",element:(0,mg.jsx)(IQ,{})}),(0,mg.jsx)(we,{path:"/register",element:(0,mg.jsx)(DQ,{})}),(0,mg.jsx)(we,{path:"/forgot-password",element:(0,mg.jsx)(RQ,{})}),(0,mg.jsx)(we,{path:"/range-admin/signup",element:(0,mg.jsx)(mJ,{})}),(0,mg.jsxs)(we,{path:"/",element:(0,mg.jsx)(fv,{}),children:[(0,mg.jsx)(we,{index:!0,element:(0,mg.jsx)(hy,{})}),(0,mg.jsx)(we,{path:"competitions",element:(0,mg.jsx)(jy,{})}),(0,mg.jsx)(we,{path:"competitions/:id",element:(0,mg.jsx)(Ay,{})}),(0,mg.jsx)(we,{path:"competitions/:id/edit",element:(0,mg.jsx)(yZ,{requiredRole:["admin","range_admin"],children:(0,mg.jsx)(uX,{})})}),(0,mg.jsx)(we,{path:"leaderboard",element:(0,mg.jsx)(Py,{})}),(0,mg.jsx)(we,{path:"leaderboard/:type",element:(0,mg.jsx)(Py,{})}),(0,mg.jsx)(we,{path:"shooting-classes",element:(0,mg.jsx)(pX,{})}),(0,mg.jsx)(we,{path:"ranges",element:(0,mg.jsx)(AJ,{})}),(0,mg.jsx)(we,{path:"rulebook",element:(0,mg.jsx)(OJ,{})}),(0,mg.jsx)(we,{path:"pitch-deck",element:(0,mg.jsx)(HJ,{})}),(0,mg.jsx)(we,{path:"sponsorship",element:(0,mg.jsx)(vZ,{})}),(0,mg.jsx)(we,{path:"dashboard/sponsor",element:(0,mg.jsx)(yZ,{requiredRole:["sponsor","admin"],children:(0,mg.jsx)(uZ,{})})}),(0,mg.jsx)(we,{path:"profile",element:(0,mg.jsx)(yZ,{children:(0,mg.jsx)(EQ,{})})}),(0,mg.jsx)(we,{path:"profile/:userId",element:(0,mg.jsx)(yZ,{requiredRole:"admin",children:(0,mg.jsx)(EQ,{})})}),(0,mg.jsx)(we,{path:"submit-score/:competitionId",element:(0,mg.jsx)(yZ,{children:(0,mg.jsx)(dX,{})})}),(0,mg.jsx)(we,{path:"range-admin",element:(0,mg.jsx)(yZ,{requiredRole:"range_admin",requireActiveSubscription:!0,children:(0,mg.jsx)(IG,{})})}),(0,mg.jsx)(we,{path:"range-admin/subscription",element:(0,mg.jsx)(yZ,{requiredRole:"range_admin",children:(0,mg.jsx)(gJ,{})})}),(0,mg.jsx)(we,{path:"admin",element:(0,mg.jsx)(yZ,{requiredRole:"admin",children:(0,mg.jsx)(sX,{})})}),(0,mg.jsx)(we,{path:"admin/create-competition",element:(0,mg.jsx)(yZ,{requiredRole:["admin","range_admin"],requireActiveSubscription:!0,children:(0,mg.jsx)(cX,{})})}),(0,mg.jsx)(we,{path:"admin/score-verification",element:(0,mg.jsx)(yZ,{requiredRole:["admin","range_admin"],requireActiveSubscription:!0,children:(0,mg.jsx)(yX,{})})}),(0,mg.jsx)(we,{path:"admin/enter-score",element:(0,mg.jsx)(yZ,{requiredRole:["admin","range_admin"],requireActiveSubscription:!0,children:(0,mg.jsx)(bJ,{})})}),(0,mg.jsx)(we,{path:"admin/range-management",element:(0,mg.jsx)(yZ,{requiredRole:"admin",children:(0,mg.jsx)(NX,{})})}),(0,mg.jsx)(we,{path:"admin/users",element:(0,mg.jsx)(yZ,{requiredRole:"admin",children:(0,mg.jsx)(CJ,{})})}),(0,mg.jsx)(we,{path:"admin/settings",element:(0,mg.jsx)(yZ,{requiredRole:"admin",children:(0,mg.jsx)(xJ,{})})}),(0,mg.jsx)(we,{path:"test",element:(0,mg.jsx)(hX,{})})]})]})})},bZ=new Re.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),wZ=document.createElement("style");wZ.textContent="\n  body {\n    background-image: url('".concat("/X-Ring-Classic","/gunguys-logo.png');\n  }\n"),document.head.appendChild(wZ);s.createRoot(document.getElementById("root")).render((0,mg.jsx)(i.StrictMode,{children:(0,mg.jsx)(Re.QueryClientProvider,{client:bZ,children:(0,mg.jsx)(Oe,{basename:"/X-Ring-Classic",children:(0,mg.jsxs)(yg,{children:[(0,mg.jsx)(xZ,{}),(0,mg.jsx)(tn,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}))})()})();
//# sourceMappingURL=main.28fec794.js.map